!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojs=e()}}(function(){var e;return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){return i(e[a][1][t]||t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(2),a=t(o),s=e(5),u=t(s),l=function(e){function t(){return n(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(e){this.player_.play()},t}(a["default"]);l.prototype.controlText_="Play Video",u["default"].registerComponent("BigPlayButton",l),exports["default"]=l},{2:2,5:5}],2:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(3),a=t(o),s=e(5),u=t(s),l=e(86),c=t(l),d=e(88),f=function(e){function t(){return n(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.createEl=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"button",t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};t=(0,d.assign)({className:this.buildCSSClass()},t),"button"!==e&&(c["default"].warn("Creating a Button with an HTML element of "+e+" is deprecated; use ClickableComponent instead."),t=(0,d.assign)({tabIndex:0},t),n=(0,d.assign)({role:"button"},n)),n=(0,d.assign)({type:"button","aria-live":"polite"},n);var r=u["default"].prototype.createEl.call(this,e,t,n);return this.createControlTextEl(r),r},t.prototype.addChild=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=this.constructor.name;return c["default"].warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),u["default"].prototype.addChild.call(this,e,t)},t.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(a["default"]);u["default"].registerComponent("Button",f),exports["default"]=f},{3:3,5:5,86:86,88:88}],3:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(5),s=n(a),u=e(81),l=t(u),c=e(82),d=t(c),f=e(83),p=t(f),h=e(86),y=n(h),g=e(94),m=n(g),v=e(88),_=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.emitTapEvents(),a.enable(),a}return o(t,e),t.prototype.createEl=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div",n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};n=(0,v.assign)({className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&y["default"].error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=(0,v.assign)({role:"button","aria-live":"polite"},r),this.tabIndex_=n.tabIndex;var i=e.prototype.createEl.call(this,t,n,r);return this.createControlTextEl(i),i},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=l.createEl("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.el();if(!e)return this.controlText_||"Need Text";var n=this.localize(e);return this.controlText_=e,this.controlTextEl_.innerHTML=n,t.setAttribute("title",n),this},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},t.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("tap",this.handleClick),this.off("click",this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},t.prototype.handleClick=function(e){},t.prototype.handleFocus=function(e){d.on(m["default"],"keydown",p.bind(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleClick(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(e){d.off(m["default"],"keydown",p.bind(this,this.handleKeyPress))},t}(s["default"]);s["default"].registerComponent("ClickableComponent",_),exports["default"]=_},{5:5,81:81,82:82,83:83,86:86,88:88,94:94}],4:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(2),a=t(o),s=e(5),u=t(s),l=function(e){function t(i,o){n(this,t);var a=r(this,e.call(this,i,o));return a.controlText(o&&o.controlText||a.localize("Close")),a}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t}(a["default"]);u["default"].registerComponent("CloseButton",l),exports["default"]=l},{2:2,5:5}],5:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var i=e(95),o=n(i),a=e(81),s=t(a),u=e(83),l=t(u),c=e(85),d=t(c),f=e(82),p=t(f),h=e(86),y=n(h),g=e(91),m=n(g),v=e(87),_=n(v),b=function(){function e(t,n,i){if(r(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=(0,_["default"])({},this.options_),n=this.options_=(0,_["default"])(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var o=t&&t.id&&t.id()||"no_player";this.id_=o+"_component_"+d.newGUID()}this.name_=n.name||null,n.el?this.el_=n.el:!1!==n.createEl&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==n.initChildren&&this.initChildren(),this.ready(i),!1!==n.reportTouchActivity&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),s.removeElData(this.el_),this.el_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return y["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=(0,_["default"])(this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,n){return s.createEl(e,t,n)},e.prototype.localize=function(e){var t=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages();if(!t||!n)return e;var r=n[t];if(r&&r[e])return r[e];var i=t.split("-")[0],o=n[i];return o&&o[e]?o[e]:e},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){if(e)return e=(0,m["default"])(e),this.childNameIndex_[e]},e.prototype.addChild=function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.children_.length,i=void 0,o=void 0;if("string"==typeof t){o=(0,m["default"])(t),n||(n={}),!0===n&&(y["default"].warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),n={});var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,n)}else i=t;if(this.children_.splice(r,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),o=o||i.name&&i.name(),o&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var u=this.contentEl().children,l=u[r]||null;this.contentEl().insertBefore(i.el(),l)}return i},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,n=this.options_.children;n&&function(){var r=t.options_,i=function(e){var n=e.name,i=e.opts;if(r[n]!==undefined&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}},o=void 0,a=e.getComponent("Tech");o=Array.isArray(n)?n:Object.keys(n),o.concat(Object.keys(t.options_).filter(function(e){return!o.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var r=void 0,i=void 0;return"string"==typeof e?(r=e,i=n[r]||t.options_[r]||{}):(r=e.name,i=e),{name:r,opts:i}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||(0,m["default"])(t.name));return n&&!a.isTech(n)}).forEach(i)}()},e.prototype.buildCSSClass=function(){return""},e.prototype.on=function(e,t,n){var r=this;return"string"==typeof e||Array.isArray(e)?p.on(this.el_,e,l.bind(this,t)):function(){var i=e,o=t,a=l.bind(r,n),s=function(){return r.off(i,o,a)};s.guid=a.guid,r.on("dispose",s);var u=function(){return r.off("dispose",s)};u.guid=a.guid,e.nodeName?(p.on(i,o,a),p.on(i,"dispose",u)):"function"==typeof e.on&&(i.on(o,a),i.on("dispose",u))}(),this},e.prototype.off=function(e,t,n){if(!e||"string"==typeof e||Array.isArray(e))p.off(this.el_,e,t);else{var r=e,i=t,o=l.bind(this,n);this.off("dispose",o),e.nodeName?(p.off(r,i,o),p.off(r,"dispose",o)):(r.off(i,o),r.off("dispose",o))}return this},e.prototype.one=function(e,t,n){var r=this,i=arguments;return"string"==typeof e||Array.isArray(e)?p.one(this.el_,e,l.bind(this,t)):function(){var o=e,a=t,s=l.bind(r,n),u=function c(){r.off(o,a,c),s.apply(null,i)};u.guid=s.guid,r.on(o,a,u)}(),this},e.prototype.trigger=function(e,t){return p.trigger(this.el_,e,t),this},e.prototype.ready=function(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1];return e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e))),this},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return s.$(e,t||this.contentEl())},e.prototype.$$=function(e,t){return s.$$(e,t||this.contentEl())},e.prototype.hasClass=function(e){return s.hasElClass(this.el_,e)},e.prototype.addClass=function(e){return s.addElClass(this.el_,e),this},e.prototype.removeClass=function(e){return s.removeElClass(this.el_,e),this},e.prototype.toggleClass=function(e,t){return s.toggleElClass(this.el_,e,t),this},e.prototype.show=function(){return this.removeClass("vjs-hidden"),this},e.prototype.hide=function(){return this.addClass("vjs-hidden"),this},e.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},e.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},e.prototype.getAttribute=function(e){return s.getAttribute(this.el_,e)},e.prototype.setAttribute=function(e,t){return s.setAttribute(this.el_,e,t),this},e.prototype.removeAttribute=function(e){return s.removeAttribute(this.el_,e),this},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},e.prototype.dimension=function(e,t,n){if(t!==undefined)return null!==t&&t===t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+(0,m["default"])(e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof o["default"].getComputedStyle){var n=o["default"].getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(0===(t=parseFloat(t))){var r="offset"+(0,m["default"])(e);t=this.el_[r]}return t},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.emitTapEvents=function(){var e=0,t=null,n=200,r=void 0;this.on("touchstart",function(n){1===n.touches.length&&(t={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=(new Date).getTime(),r=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)r=!1;else if(t){var n=e.touches[0].pageX-t.pageX,i=e.touches[0].pageY-t.pageY,o=Math.sqrt(n*n+i*i);o>10&&(r=!1)}});var i=function(){r=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",function(i){t=null,!0===r&&(new Date).getTime()-e<n&&(i.preventDefault(),this.trigger("tap"))})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=l.bind(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.prototype.setTimeout=function(e,t){e=l.bind(this,e);var n=o["default"].setTimeout(e,t),r=function(){this.clearTimeout(n)};return r.guid="vjs-timeout-"+n,this.on("dispose",r),n},e.prototype.clearTimeout=function(e){o["default"].clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){e=l.bind(this,e);var n=o["default"].setInterval(e,t),r=function(){this.clearInterval(n)};return r.guid="vjs-interval-"+n,this.on("dispose",r),n},e.prototype.clearInterval=function(e){o["default"].clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.registerComponent=function(t,n){if(t)return t=(0,m["default"])(t),e.components_||(e.components_={}),"Player"===t&&e.components_[t]&&function(){var n=e.components_[t];if(n.players&&Object.keys(n.players).length>0&&Object.keys(n.players).map(function(e){return n.players[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created")}(),e.components_[t]=n,n},e.getComponent=function(t){if(t)return t=(0,m["default"])(t),e.components_&&e.components_[t]?e.components_[t]:o["default"]&&o["default"].videojs&&o["default"].videojs[t]?(y["default"].warn("The "+t+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),o["default"].videojs[t]):void 0},e.extend=function(t){t=t||{},y["default"].warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var n=t.init||t.init||this.prototype.init||this.prototype.init||function(){},r=function(){n.apply(this,arguments)};r.prototype=Object.create(this.prototype),r.prototype.constructor=r,r.extend=e.extend;for(var i in t)t.hasOwnProperty(i)&&(r.prototype[i]=t[i]);return r},e}();b.registerComponent("Component",b),exports["default"]=b},{81:81,82:82,83:83,85:85,86:86,87:87,91:91,95:95}],6:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(36),a=t(o),s=e(5),u=t(s),l=e(7),c=t(l),d=function(e){function t(i){var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};n(this,t),o.tracks=i.audioTracks&&i.audioTracks();var a=r(this,e.call(this,i,o));return a.el_.setAttribute("aria-label","Audio Menu"),a}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],t=this.player_.audioTracks&&this.player_.audioTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];e.push(new c["default"](this.player_,{track:r,selectable:!0}))}return e},t}(a["default"]);d.prototype.controlText_="Audio Track",u["default"].registerComponent("AudioTrackButton",d),exports["default"]=d},{36:36,5:5,7:7}],7:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(48),s=n(a),u=e(5),l=n(u),c=e(83),d=t(c),f=function(e){function t(n,o){r(this,t);var a=o.track,s=n.audioTracks();o.label=a.label||a.language||"Unknown",o.selected=a.enabled;var u=i(this,e.call(this,n,o));return u.track=a,s&&function(){var e=d.bind(u,u.handleTracksChange);s.addEventListener("change",e),u.on("dispose",function(){s.removeEventListener("change",e)})}(),u}return o(t,e),t.prototype.handleClick=function(t){var n=this.player_.audioTracks();if(e.prototype.handleClick.call(this,t),n)for(var r=0;r<n.length;r++){var i=n[r];i.enabled=i===this.track}},t.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(s["default"]);l["default"].registerComponent("AudioTrackMenuItem",f),exports["default"]=f},{48:48,5:5,83:83}],8:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(5),a=t(o);e(12),e(32),e(33),e(35),e(34),e(10),e(18),e(9),e(38),e(40),e(11),e(25),e(27),e(29),e(24),e(6),e(13),e(21);var s=function(e){function t(){return n(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(a["default"]);s.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},a["default"].registerComponent("ControlBar",s),exports["default"]=s},{10:10,11:11,12:12,13:13,18:18,21:21,24:24,25:25,27:27,29:29,32:32,33:33,34:34,35:35,38:38,40:40,5:5,6:6,9:9}],9:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(2),a=t(o),s=e(5),u=t(s),l=function(e){function t(i,o){n(this,t);var a=r(this,e.call(this,i,o));return a.on(i,"fullscreenchange",a.handleFullscreenChange),a}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(a["default"]);l.prototype.controlText_="Fullscreen",u["default"].registerComponent("FullscreenToggle",l),exports["default"]=l},{2:2,5:5}],10:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(5),s=n(a),u=e(81),l=t(u),c=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.updateShowing(),a.on(a.player(),"durationchange",a.updateShowing),a}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=l.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateShowing=function(e){this.player().duration()===Infinity?this.show():this.hide()},t}(s["default"]);s["default"].registerComponent("LiveDisplay",c),exports["default"]=c},{5:5,81:81}],11:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(2),s=n(a),u=e(5),l=n(u),c=e(81),d=t(c),f=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.on(n,"volumechange",a.update),n.tech_&&!1===n.tech_.featuresVolumeControl&&a.addClass("vjs-hidden"),a.on(n,"loadstart",function(){this.update(),!1===n.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),a}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.muted(!this.player_.muted())},t.prototype.update=function(e){var t=this.player_.volume(),n=3;0===t||this.player_.muted()?n=0:t<.33?n=1:t<.67&&(n=2);var r=this.player_.muted()?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r);for(var i=0;i<4;i++)d.removeElClass(this.el_,"vjs-vol-"+i);d.addElClass(this.el_,"vjs-vol-"+n)},t}(s["default"]);f.prototype.controlText_="Mute",l["default"].registerComponent("MuteToggle",f),exports["default"]=f},{2:2,5:5,81:81}],12:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(2),a=t(o),s=e(5),u=t(s),l=function(e){function t(i,o){n(this,t);var a=r(this,e.call(this,i,o));return a.on(i,"play",a.handlePlay),a.on(i,"pause",a.handlePause),a}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(e){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t}(a["default"]);l.prototype.controlText_="Play",u["default"].registerComponent("PlayToggle",l),exports["default"]=l},{2:2,5:5}],13:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(47),s=n(a),u=e(49),l=n(u),c=e(14),d=n(c),f=e(5),p=n(f),h=e(81),y=t(h),g=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.updateVisibility(),a.updateLabel(),a.on(n,"loadstart",a.updateVisibility),a.on(n,"ratechange",a.updateLabel),a}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=y.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.createMenu=function(){var e=new l["default"](this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new d["default"](this.player(),{rate:t[n]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),r=n[0],i=0;i<n.length;i++)if(n[i]>t){r=n[i];break}this.player().playbackRate(r)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(s["default"]);g.prototype.controlText_="Playback Rate",p["default"].registerComponent("PlaybackRateMenuButton",g),exports["default"]=g},{14:14,47:47,49:49,5:5,81:81}],14:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(48),a=t(o),s=e(5),u=t(s),l=function(e){function t(i,o){n(this,t);var a=o.rate,s=parseFloat(a,10);o.label=a,o.selected=1===s;var u=r(this,e.call(this,i,o));return u.label=a,u.rate=s,u.on(i,"ratechange",u.update),u}return i(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(a["default"]);l.prototype.contentElType="button",u["default"].registerComponent("PlaybackRateMenuItem",l),exports["default"]=l},{48:48,5:5}],15:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(5),s=n(a),u=e(81),l=t(u),c=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.partEls_=[],a.on(n,"progress",a.update),a}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.update=function(e){var t=this.player_.buffered(),n=this.player_.duration(),r=this.player_.bufferedEnd(),i=this.partEls_,o=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=o(r,n);for(var a=0;a<t.length;a++){var s=t.start(a),u=t.end(a),c=i[a];c||(c=this.el_.appendChild(l.createEl()),i[a]=c),c.style.left=o(s,r),c.style.width=o(u-s,r)}for(var d=i.length;d>t.length;d--)this.el_.removeChild(i[d-1]);i.length=t.length},t}(s["default"]);s["default"].registerComponent("LoadProgressBar",c),exports["default"]=c},{5:5,81:81}],16:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(5),s=n(a),u=e(81),l=t(u),c=e(83),d=t(c),f=e(84),p=n(f),h=e(80),y=n(h),g=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return o.playerOptions&&o.playerOptions.controlBar&&o.playerOptions.controlBar.progressControl&&o.playerOptions.controlBar.progressControl.keepTooltipsInside&&(a.keepTooltipsInside=o.playerOptions.controlBar.progressControl.keepTooltipsInside),a.keepTooltipsInside&&(a.tooltip=l.createEl("div",{className:"vjs-time-tooltip"}),a.el().appendChild(a.tooltip),a.addClass("vjs-keep-tooltips-inside")),a.update(0,0),n.on("ready",function(){a.on(n.controlBar.progressControl.el(),"mousemove",d.throttle(d.bind(a,a.handleMouseMove),25))}),a}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.handleMouseMove=function(e){var t=this.player_.duration(),n=this.calculateDistance(e)*t,r=e.pageX-l.findElPosition(this.el().parentNode).left;this.update(n,r)},t.prototype.update=function(e,t){var n=(0,p["default"])(e,this.player_.duration());if(this.el().style.left=t+"px",this.el().setAttribute("data-current-time",n),this.keepTooltipsInside){var r=this.clampPosition_(t),i=t-r+1,o=parseFloat((0,y["default"])(this.tooltip,"width")),a=o/2;this.tooltip.innerHTML=n,this.tooltip.style.right="-"+(a-i)+"px"}},t.prototype.calculateDistance=function(e){return l.getPointerPosition(this.el().parentNode,e).x},t.prototype.clampPosition_=function(e){if(!this.keepTooltipsInside)return e;var t=parseFloat((0,y["default"])(this.player().el(),"width")),n=parseFloat((0,y["default"])(this.tooltip,"width")),r=n/2,i=e;return e<r?i=Math.ceil(r):e>t-r&&(i=Math.floor(t-r)),i},t}(s["default"]);s["default"].registerComponent("MouseTimeDisplay",g),exports["default"]=g},{5:5,80:80,81:81,83:83,84:84}],17:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(5),s=n(a),u=e(83),l=t(u),c=e(84),d=n(c),f=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.updateDataAttr(),a.on(n,"timeupdate",a.updateDataAttr),n.ready(l.bind(a,a.updateDataAttr)),o.playerOptions&&o.playerOptions.controlBar&&o.playerOptions.controlBar.progressControl&&o.playerOptions.controlBar.progressControl.keepTooltipsInside&&(a.keepTooltipsInside=o.playerOptions.controlBar.progressControl.keepTooltipsInside),a.keepTooltipsInside&&a.addClass("vjs-keep-tooltips-inside"),a}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",(0,d["default"])(t,this.player_.duration()))},t}(s["default"]);s["default"].registerComponent("PlayProgressBar",f),exports["default"]=f},{5:5,83:83,84:84}],18:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(5),a=t(o);e(19),e(16);var s=function(e){function t(){return n(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t}(a["default"]);s.prototype.options_={children:["seekBar"]},a["default"].registerComponent("ProgressControl",s),exports["default"]=s},{16:16,19:19,5:5}],19:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(57),s=n(a),u=e(5),l=n(u),c=e(83),d=t(c),f=e(84),p=n(f),h=e(80),y=n(h);e(15),e(17),e(20);var g=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.on(n,"timeupdate",a.updateProgress),a.on(n,"ended",a.updateProgress),n.ready(d.bind(a,a.updateProgress)),o.playerOptions&&o.playerOptions.controlBar&&o.playerOptions.controlBar.progressControl&&o.playerOptions.controlBar.progressControl.keepTooltipsInside&&(a.keepTooltipsInside=o.playerOptions.controlBar.progressControl.keepTooltipsInside),a.keepTooltipsInside&&(a.tooltipProgressBar=a.addChild("TooltipProgressBar")),a}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},t.prototype.updateProgress=function(e){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var t=parseFloat((0,y["default"])(this.player().el(),"width")),n=parseFloat((0,y["default"])(this.tooltipProgressBar.tooltip,"width")),r=this.tooltipProgressBar.el().style;r.maxWidth=Math.floor(t-n/2)+"px",r.minWidth=Math.ceil(n/2)+"px",r.right="-"+n/2+"px"}},t.prototype.updateAriaAttributes=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),e.setAttribute("aria-valuetext",(0,p["default"])(t,this.player_.duration()))},t.prototype.getPercent=function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t}(s["default"]);g.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},g.prototype.playerEvent="timeupdate",l["default"].registerComponent("SeekBar",g),exports["default"]=g},{15:15,17:17,20:20,5:5,57:57,80:80,83:83,84:84}],20:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(5),s=n(a),u=e(83),l=t(u),c=e(84),d=n(c),f=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.updateDataAttr(),a.on(n,"timeupdate",a.updateDataAttr),n.ready(l.bind(a,a.updateDataAttr)),a}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=t.querySelector(".vjs-time-tooltip"),t},t.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=(0,d["default"])(t,this.player_.duration());this.el_.setAttribute("data-current-time",n),this.tooltip.innerHTML=n},t}(s["default"]);s["default"].registerComponent("TooltipProgressBar",f),exports["default"]=f},{5:5,83:83,84:84}],21:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(22),a=t(o),s=e(5),u=t(s),l=function(e){function t(){return n(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(a["default"]);u["default"].registerComponent("CustomControlSpacer",l),exports["default"]=l},{22:22,5:5}],22:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(5),a=t(o),s=function(e){function t(){return n(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(a["default"]);a["default"].registerComponent("Spacer",s),exports["default"]=s},{5:5}],23:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(31),a=t(o),s=e(5),u=t(s),l=function(e){function t(i,o){n(this,t),o.track={player:i,kind:o.kind,label:o.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},o.selectable=!1;var a=r(this,e.call(this,i,o));return a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+o.kind+" settings dialog"),a}return i(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},t}(a["default"]);u["default"].registerComponent("CaptionSettingsMenuItem",l),exports["default"]=l},{31:31,5:5}],24:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(30),a=t(o),s=e(5),u=t(s),l=e(23),c=t(l),d=function(e){function t(i,o,a){n(this,t);var s=r(this,e.call(this,i,o,a));return s.el_.setAttribute("aria-label","Captions Menu"),s}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(t){var n=2;e.prototype.update.call(this),this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(n=1),this.items&&this.items.length>n?this.show():this.hide()},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||t.push(new c["default"](this.player_,{kind:this.kind_})),e.prototype.createItems.call(this,t)},t}(a["default"]);d.prototype.kind_="captions",d.prototype.controlText_="Captions",u["default"].registerComponent("CaptionsButton",d),exports["default"]=d},{23:23,30:30,5:5}],25:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(30),a=t(o),s=e(5),u=t(s),l=e(26),c=t(l),d=e(91),f=t(d),p=function(e){function t(i,o,a){n(this,t);var s=r(this,e.call(this,i,o,a));return s.el_.setAttribute("aria-label","Chapters Menu"),s}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},t.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},t.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize((0,f["default"])(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},t.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],o=new c["default"](this.player_,{track:this.track_,cue:i});e.push(o)}return e},t}(a["default"]);p.prototype.kind_="chapters",p.prototype.controlText_="Chapters",u["default"].registerComponent("ChaptersButton",p),exports["default"]=p},{26:26,30:30,5:5,91:91}],26:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(48),s=n(a),u=e(5),l=n(u),c=e(83),d=t(c),f=function(e){function t(n,o){r(this,t);var a=o.track,s=o.cue,u=n.currentTime();o.selectable=!0,o.label=s.text,o.selected=s.startTime<=u&&u<s.endTime;var l=i(this,e.call(this,n,o));return l.track=a,l.cue=s,a.addEventListener("cuechange",d.bind(l,l.update)),l}return o(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(s["default"]);l["default"].registerComponent("ChaptersTrackMenuItem",f),exports["default"]=f},{48:48,5:5,83:83}],27:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(30),s=n(a),u=e(5),l=n(u),c=e(83),d=t(c),f=function(e){function t(n,o,a){r(this,t);var s=i(this,e.call(this,n,o,a));s.el_.setAttribute("aria-label","Descriptions Menu");var u=n.textTracks();return u&&function(){var e=d.bind(s,s.handleTracksChange);u.addEventListener("change",e),s.on("dispose",function(){u.removeEventListener("change",e)})}(),s}return o(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,i=t.length;r<i;r++){var o=t[r];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t}(s["default"]);f.prototype.kind_="descriptions",f.prototype.controlText_="Descriptions",l["default"].registerComponent("DescriptionsButton",f),exports["default"]=f},{30:30,5:5,83:83}],28:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(31),a=t(o),s=e(5),u=t(s),l=function(e){function t(i,o){n(this,t),o.track={player:i,kind:o.kind,label:o.kind+" off","default":!1,mode:"disabled"},o.selectable=!0;var a=r(this,e.call(this,i,o));return a.selected(!0),a}return i(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(o.kind===this.track.kind&&"showing"===o.mode){n=!1;break}}this.selected(n)},t}(a["default"]);u["default"].registerComponent("OffTextTrackMenuItem",l),exports["default"]=l},{31:31,5:5}],29:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(30),a=t(o),s=e(5),u=t(s),l=function(e){function t(i,o,a){n(this,t);var s=r(this,e.call(this,i,o,a));return s.el_.setAttribute("aria-label","Subtitles Menu"),s}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t}(a["default"]);l.prototype.kind_="subtitles",l.prototype.controlText_="Subtitles",u["default"].registerComponent("SubtitlesButton",l),exports["default"]=l},{30:30,5:5}],30:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(36),a=t(o),s=e(5),u=t(s),l=e(31),c=t(l),d=e(28),f=t(d),p=function(e){function t(i){var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return n(this,t),o.tracks=i.textTracks(),r(this,e.call(this,i,o))}return i(t,e),t.prototype.createItems=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];e.push(new f["default"](this.player_,{kind:this.kind_}));var t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];r.kind===this.kind_&&e.push(new c["default"](this.player_,{track:r,selectable:!0}))}return e},t}(a["default"]);u["default"].registerComponent("TextTrackButton",p),exports["default"]=p},{28:28,31:31,36:36,5:5}],31:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=e(48),u=n(s),l=e(5),c=n(l),d=e(83),f=t(d),p=e(95),h=n(p),y=e(94),g=n(y),m=function(e){function t(n,o){r(this,t);var s=o.track,u=n.textTracks();o.label=s.label||s.language||"Unknown",o.selected=s["default"]||"showing"===s.mode;var l=i(this,e.call(this,n,o));return l.track=s,u&&function(){var e=f.bind(l,l.handleTracksChange);u.addEventListener("change",e),l.on("dispose",function(){u.removeEventListener("change",e)})}(),u&&u.onchange===undefined&&function(){var e=void 0;l.on(["tap","click"],function(){if("object"!==a(h["default"].Event))try{e=new h["default"].Event("change")}catch(err){}e||(e=g["default"].createEvent("Event"),e.initEvent("change",!0,!0)),u.dispatchEvent(e)})}(),l}return o(t,e),t.prototype.handleClick=function(t){var n=this.track.kind,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var o=r[i];o.kind===n&&(o===this.track?o.mode="showing":o.mode="disabled")}},t.prototype.handleTracksChange=function(e){this.selected("showing"===this.track.mode)},t}(u["default"]);c["default"].registerComponent("TextTrackMenuItem",m),exports["default"]=m},{48:48,5:5,83:83,94:94,95:95}],32:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(5),s=n(a),u=e(81),l=t(u),c=e(84),d=n(c),f=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.on(n,"timeupdate",a.updateContent),a}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=l.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=this.localize("Current Time"),r=(0,d["default"])(t,this.player_.duration());r!==this.formattedTime_&&(this.formattedTime_=r,this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+r)},t}(s["default"]);s["default"].registerComponent("CurrentTimeDisplay",f),exports["default"]=f},{5:5,81:81,84:84}],33:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(5),s=n(a),u=e(81),l=t(u),c=e(84),d=n(c),f=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.on(n,"durationchange",a.updateContent),a.on(n,"timeupdate",a.updateContent),a.on(n,"loadedmetadata",a.updateContent),a}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=l.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){var t=this.player_.duration();if(t&&this.duration_!==t){this.duration_=t;var n=this.localize("Duration Time"),r=(0,d["default"])(t);this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+r}},t}(s["default"]);s["default"].registerComponent("DurationDisplay",f),exports["default"]=f},{5:5,81:81,84:84}],34:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(5),s=n(a),u=e(81),l=t(u),c=e(84),d=n(c),f=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.on(n,"timeupdate",a.updateContent),a.on(n,"durationchange",a.updateContent),a}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=l.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){if(this.player_.duration()){var t=this.localize("Remaining Time"),n=(0,d["default"])(this.player_.remainingTime());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> -"+n)}},t}(s["default"]);s["default"].registerComponent("RemainingTimeDisplay",f),exports["default"]=f},{5:5,81:81,84:84}],35:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(5),a=t(o),s=function(e){function t(){return n(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(a["default"]);a["default"].registerComponent("TimeDivider",s),exports["default"]=s},{5:5}],36:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(47),s=n(a),u=e(5),l=n(u),c=e(83),d=t(c),f=function(e){function t(n,o){r(this,t);var a=o.tracks,s=i(this,e.call(this,n,o));if(s.items.length<=1&&s.hide(),!a)return i(s);var u=d.bind(s,s.update);return a.addEventListener("removetrack",u),a.addEventListener("addtrack",u),s.player_.on("dispose",function(){a.removeEventListener("removetrack",u),a.removeEventListener("addtrack",u)}),s}return o(t,e),t}(s["default"]);l["default"].registerComponent("TrackButton",f),exports["default"]=f},{47:47,5:5,83:83}],37:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(57),s=n(a),u=e(5),l=n(u),c=e(83),d=t(c);e(39);var f=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.on(n,"volumechange",a.updateARIAAttributes),n.ready(d.bind(a,a.updateARIAAttributes)),a}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},t.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(e){var t=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t}(s["default"]);f.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},f.prototype.playerEvent="volumechange",l["default"].registerComponent("VolumeBar",f),exports["default"]=f},{39:39,5:5,57:57,83:83}],38:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(5),a=t(o);e(37);var s=function(e){function t(i,o){n(this,t);var a=r(this,e.call(this,i,o));return i.tech_&&!1===i.tech_.featuresVolumeControl&&a.addClass("vjs-hidden"),a.on(i,"loadstart",function(){!1===i.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),a}return i(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},t}(a["default"]);s.prototype.options_={children:["volumeBar"]},a["default"].registerComponent("VolumeControl",s),exports["default"]=s},{37:37,5:5}],39:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(5),a=t(o),s=function(e){function t(){return n(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(a["default"]);a["default"].registerComponent("VolumeLevel",s),exports["default"]=s},{5:5}],40:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(83),s=n(a),u=e(5),l=t(u),c=e(54),d=t(c),f=e(53),p=t(f),h=e(11),y=t(h),g=e(37),m=t(g),v=function(e){function t(n){function o(){n.tech_&&!1===n.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};r(this,t),a.inline===undefined&&(a.inline=!0),a.vertical===undefined&&(a.inline?a.vertical=!1:a.vertical=!0),a.volumeBar=a.volumeBar||{},a.volumeBar.vertical=!!a.vertical;var s=i(this,e.call(this,n,a));return s.on(n,"volumechange",s.volumeUpdate),s.on(n,"loadstart",s.volumeUpdate),o.call(s),s.on(n,"loadstart",o),s.on(s.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),s.on(s.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),s.on(s.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),s.on(s.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),s}return o(t,e),t.prototype.buildCSSClass=function(){var t="";return t=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+e.prototype.buildCSSClass.call(this)+" "+t},t.prototype.createPopup=function(){var e=new d["default"](this.player_,{contentElType:"div"}),t=new m["default"](this.player_,this.options_.volumeBar);return e.addChild(t),this.menuContent=e,this.volumeBar=t,this.attachVolumeBarEvents(),e},t.prototype.handleClick=function(t){y["default"].prototype.handleClick.call(this),e.prototype.handleClick.call(this)},t.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],s.bind(this,this.handleMouseDown))},t.prototype.handleMouseDown=function(e){this.on(["mousemove","touchmove"],s.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},t.prototype.handleMouseUp=function(e){this.off(["mousemove","touchmove"],s.bind(this.volumeBar,this.volumeBar.handleMouseMove))},t}(p["default"]);v.prototype.volumeUpdate=y["default"].prototype.update,v.prototype.controlText_="Mute",l["default"].registerComponent("VolumeMenuButton",v),exports["default"]=v},{11:11,37:37,5:5,53:53,54:54,83:83}],41:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(5),a=t(o),s=e(50),u=t(s),l=e(87),c=t(l),d=function(e){function t(i,o){n(this,t);var a=r(this,e.call(this,i,o));return a.on(i,"error",a.open),a}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(u["default"]);d.prototype.options_=(0,c["default"])(u["default"].prototype.options_,{fillAlways:!0,temporary:!1,uncloseable:!0}),a["default"].registerComponent("ErrorDisplay",d),exports["default"]=d},{5:5,50:50,87:87}],42:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}exports.__esModule=!0;var n=e(82),r=t(n),i=function(){};i.prototype.allowedEvents_={},i.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},r.on(this,e,t),this.addEventListener=n},i.prototype.addEventListener=i.prototype.on,i.prototype.off=function(e,t){r.off(this,e,t)},i.prototype.removeEventListener=i.prototype.off,i.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},r.one(this,e,t),this.addEventListener=n},i.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=r.fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),r.trigger(this,e)},i.prototype.dispatchEvent=i.prototype.trigger,exports["default"]=i},{82:82}],43:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}exports.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e(86),i=t(r),o=e(88),a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":n(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},s=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=function(){e.apply(this,arguments)},r={};(0,o.isObject)(t)?("function"==typeof t.init&&(i["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),a(n,e);for(var s in r)r.hasOwnProperty(s)&&(n.prototype[s]=r[s]);return n};exports["default"]=s},{86:86,88:88}],44:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}exports.__esModule=!0;for(var n=e(94),r=t(n),i={},o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a=o[0],s=void 0,u=0;u<o.length;u++)if(o[u][1]in r["default"]){s=o[u];break}if(s)for(var l=0;l<s.length;l++)i[a[l]]=s[l];exports["default"]=i},{94:94}],45:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(5),a=t(o),s=function(e){function t(){return n(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},t}(a["default"]);a["default"].registerComponent("LoadingSpinner",s),exports["default"]=s},{5:5}],46:[function(e,module,exports){"use strict";function t(e){if(e instanceof t)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:(0,n.isObject)(e)&&("number"==typeof e.code&&(this.code=e.code),(0,n.assign)(this,e)),this.message||(this.message=t.defaultMessages[this.code]||"")}exports.__esModule=!0;var n=e(88);t.prototype.code=0,t.prototype.message="",t.prototype.status=null,t.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],t.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var r=0;r<t.errorTypes.length;r++)t[t.errorTypes[r]]=r,t.prototype[t.errorTypes[r]]=r;exports["default"]=t},{88:88}],47:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(3),s=n(a),u=e(5),l=n(u),c=e(49),d=n(c),f=e(81),p=t(f),h=e(83),y=t(h),g=e(91),m=n(g),v=function(e){function t(n){var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};r(this,t);var a=i(this,e.call(this,n,o));return a.update(),a.enabled_=!0,a.el_.setAttribute("aria-haspopup","true"),a.el_.setAttribute("role","menuitem"),a.on("keydown",a.handleSubmenuKeyPress),a}return o(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createMenu=function(){var e=new d["default"](this.player_);if(this.options_.title){var t=p.createEl("li",{className:"vjs-menu-title",innerHTML:(0,m["default"])(this.options_.title),tabIndex:-1});e.children_.unshift(t),p.insertElFirst(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",y.bind(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault()):38===t.which||40===t.which?this.buttonPressed_||(this.pressButton(),t.preventDefault()):e.prototype.handleKeyPress.call(this,t)},t.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault())},t.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},t.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,e.prototype.disable.call(this)},t.prototype.enable=function(){return this.enabled_=!0,e.prototype.enable.call(this)},t}(s["default"]);l["default"].registerComponent("MenuButton",v),exports["default"]=v},{3:3,49:49,5:5,81:81,83:83,91:91}],48:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(3),a=t(o),s=e(5),u=t(s),l=e(88),c=function(e){function t(i,o){n(this,t);var a=r(this,e.call(this,i,o));return a.selectable=o.selectable,a.selected(o.selected),a.selectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitem"),a}return i(t,e),t.prototype.createEl=function(t,n,r){return e.prototype.createEl.call(this,"li",(0,l.assign)({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},n),r)},t.prototype.handleClick=function(e){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},t}(a["default"]);u["default"].registerComponent("MenuItem",c),exports["default"]=c},{3:3,5:5,88:88}],49:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(5),s=n(a),u=e(81),l=t(u),c=e(83),d=t(c),f=e(82),p=t(f),h=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.focusedChild_=-1,a.on("keydown",a.handleKeyPress),a}return o(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",d.bind(this,function(e){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=l.createEl(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.setAttribute("role","presentation"),n.appendChild(this.contentEl_),p.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;this.focusedChild_!==undefined&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;this.focusedChild_!==undefined&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(s["default"]);s["default"].registerComponent("Menu",h),exports["default"]=h},{5:5,81:81,82:82,83:83}],50:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(81),s=n(a),u=e(83),l=n(u),c=e(5),d=t(c),f="vjs-modal-dialog",p=27,h=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=s.createEl("div",{className:f+"-content"},{role:"document"}),a.descEl_=s.createEl("p",{className:f+"-description vjs-offscreen",id:a.el().getAttribute("aria-describedby")}),s.textContent(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.buildCSSClass=function(){return f+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){e.which===p&&this.closeable()&&this.close()},t.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",l.bind(this,this.handleKeyPress)),e.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",l.bind(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},t.prototype.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},t.prototype.fill=function(){return this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),s.insertContent(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t),this},t.prototype.empty=function(){return this.trigger("beforemodalempty"),s.emptyEl(this.contentEl()),this.trigger("modalempty"),this},t.prototype.content=function(e){return void 0!==e&&(this.content_=e),this.content_},t}(d["default"]);h.prototype.options_={temporary:!0},d["default"].registerComponent("ModalDialog",h),exports["default"]=h},{5:5,81:81,83:83}],51:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(5),s=n(a),u=e(94),l=n(u),c=e(95),d=n(c),f=e(82),p=t(f),h=e(81),y=t(h),g=e(83),m=t(g),v=e(85),_=t(v),b=e(78),w=t(b),T=e(86),S=n(T),E=e(91),O=n(E),k=e(90),P=e(79),C=e(89),I=t(C),j=e(44),x=n(j),A=e(46),M=n(A),L=e(97),R=n(L),D=e(88),N=e(87),U=n(N),B=e(69),F=n(B),V=e(50),H=n(V),q=e(62),z=n(q),W=e(63),G=n(W),Y=e(76),X=n(Y);e(61),e(59),e(55),e(68),e(45),e(1),e(4),e(8),e(41),e(71),e(60);var Q=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],K=function(e){function t(n,o,a){if(r(this,t),n.id=n.id||"vjs_video_"+_.newGUID(),o=(0,D.assign)(t.getTagSettings(n),o),o.initChildren=!1,o.createEl=!1,o.reportTouchActivity=!1,!o.language)if("function"==typeof n.closest){var s=n.closest("[lang]");s&&(o.language=s.getAttribute("lang"))}else for(var u=n;u&&1===u.nodeType;){if(y.getElAttributes(u).hasOwnProperty("lang")){o.language=u.getAttribute("lang");break}u=u.parentNode}var l=i(this,e.call(this,null,o,a));if(!l.options_||!l.options_.techOrder||!l.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");l.tag=n,l.tagAttributes=n&&y.getElAttributes(n),l.language(l.options_.language),o.languages?function(){var e={};Object.getOwnPropertyNames(o.languages).forEach(function(t){e[t.toLowerCase()]=o.languages[t]}),l.languages_=e}():l.languages_=t.prototype.options_.languages,l.cache_={},l.poster_=o.poster||"",l.controls_=!!o.controls,n.controls=!1,l.scrubbing_=!1,l.el_=l.createEl();var c=(0,U["default"])(l.options_);return o.plugins&&function(){var e=o.plugins;Object.getOwnPropertyNames(e).forEach(function(t){"function"==typeof this[t]?this[t](e[t]):S["default"].error("Unable to find plugin:",t)},l)}(),l.options_.playerOptions=c,l.initChildren(),l.isAudio("audio"===n.nodeName.toLowerCase()),l.controls()?l.addClass("vjs-controls-enabled"):l.addClass("vjs-controls-disabled"),l.el_.setAttribute("role","region"),l.isAudio()?l.el_.setAttribute("aria-label","audio player"):l.el_.setAttribute("aria-label","video player"),l.isAudio()&&l.addClass("vjs-audio"),l.flexNotSupported_()&&l.addClass("vjs-no-flex"),w.IS_IOS||l.addClass("vjs-workinghover"),t.players[l.id_]=l,l.userActive(!0),l.reportUserActivity(),l.listenForUserActivity_(),l.on("fullscreenchange",l.handleFullscreenChange_),l.on("stageclick",l.handleStageClick_),l}return o(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.tag,n=void 0,r=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");n=this.el_=r?t.parentNode:e.prototype.createEl.call(this,"div"),t.removeAttribute("width"),t.removeAttribute("height");var i=y.getElAttributes(t);if(Object.getOwnPropertyNames(i).forEach(function(e){"class"===e?n.className+=" "+i[e]:n.setAttribute(e,i[e])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=n.player=this,this.addClass("vjs-paused"),!0!==d["default"].VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=I.createStyleElement("vjs-styles-dimensions");var o=y.$(".vjs-styles-defaults"),a=y.$("head");a.insertBefore(this.styleEl_,o?o.nextSibling:a.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var s=t.getElementsByTagName("a"),u=0;u<s.length;u++){var l=s.item(u);y.addElClass(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!r&&t.parentNode.insertBefore(n,t),y.insertElFirst(t,n),this.children_.unshift(t),this.el_=n,n},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var n=e+"_";if(t===undefined)return this[n]||0;if(""===t)this[n]=undefined;else{var r=parseFloat(t);if(isNaN(r))return S["default"].error('Improper value "'+t+'" supplied for for '+e),this;this[n]=r}return this.updateStyleEl_(),this},t.prototype.fluid=function(e){if(e===undefined)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},t.prototype.aspectRatio=function(e){if(e===undefined)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(!0===d["default"].VIDEOJS_NO_DYNAMIC_STYLE){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}var r=void 0,i=void 0,o=void 0,a=void 0;o=this.aspectRatio_!==undefined&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var s=o.split(":"),u=s[1]/s[0];r=this.width_!==undefined?this.width_:this.height_!==undefined?this.height_/u:this.videoWidth()||300,i=this.height_!==undefined?this.height_:r*u,a=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(a),I.setTextContent(this.styleEl_,"\n      ."+a+" {\n        width: "+r+"px;\n        height: "+i+"px;\n      }\n\n      ."+a+".vjs-fluid {\n        padding-top: "+100*u+"%;\n      }\n    ")},t.prototype.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_(),"Html5"!==e&&this.tag&&(z["default"].getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=e,this.isReady_=!1;var r=(0,D.assign)({source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+e+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]},this.options_[e.toLowerCase()]);this.tag&&(r.tag=this.tag),t&&(this.currentType_=t.type,t.src===this.cache_.src&&this.cache_.currentTime>0&&(r.startTime=this.cache_.currentTime),this.cache_.sources=null,this.cache_.source=t,this.cache_.src=t.src);var i=z["default"].getTech(e);i||(i=s["default"].getComponent(e)),this.tech_=new i(r),this.tech_.ready(m.bind(this,this.handleTechReady_),!0),F["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),Q.forEach(function(e){n.on(n.tech_,e,n["handleTech"+(0,O["default"])(e)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===e&&this.tag||y.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=F["default"].textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.tech=function(e){if(e&&e.IWillNotUseThisInPlugins)return this.tech_;var t="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw d["default"].alert(t),new Error(t)},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){(0,S["default"])("deleting tag.poster throws in some browsers",e)}this.play()}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(e){return e!==undefined?(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(S["default"].warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[e](t)},!0);else try{this.tech_&&this.tech_[e](t)}catch(e){throw(0,S["default"])(e),e}},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[e]()}catch(e){throw this.tech_[e]===undefined?(0,S["default"])("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",e):"TypeError"===e.name?((0,S["default"])("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1):(0,S["default"])(e),e}},t.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},t.prototype.pause=function(){return this.techCall_("pause"),this},t.prototype.paused=function(){return!1!==this.techGet_("paused")},t.prototype.scrubbing=function(e){return e!==undefined?(this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},t.prototype.currentTime=function(e){return e!==undefined?(this.techCall_("setCurrentTime",e),this):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.prototype.duration=function(e){return e===undefined?this.cache_.duration||0:(e=parseFloat(e)||0,e<0&&(e=Infinity),e!==this.cache_.duration&&(this.cache_.duration=e,e===Infinity?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=(0,k.createTimeRange)(0,0)),e},t.prototype.bufferedPercent=function(){return(0,P.bufferedPercent)(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},t.prototype.volume=function(e){var t=void 0;return e!==undefined?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),this):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return e!==undefined?(this.techCall_("setMuted",e),this):this.techGet_("muted")||!1},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return e!==undefined?(this.isFullscreen_=!!e,this):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=x["default"];return this.isFullscreen(!0),e.requestFullscreen?(p.on(l["default"],e.fullscreenchange,m.bind(this,function t(n){this.isFullscreen(l["default"][e.fullscreenElement]),!1===this.isFullscreen()&&p.off(l["default"],e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.exitFullscreen=function(){var e=x["default"];return this.isFullscreen(!1),e.requestFullscreen?l["default"][e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=l["default"].documentElement.style.overflow,p.on(l["default"],"keydown",m.bind(this,this.fullWindowOnEscKey)),l["default"].documentElement.style.overflow="hidden",y.addElClass(l["default"].body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,p.off(l["default"],"keydown",this.fullWindowOnEscKey),l["default"].documentElement.style.overflow=this.docOrigOverflow,y.removeElClass(l["default"].body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var i=(0,O["default"])(r[n]),o=z["default"].getTech(i);if(o||(o=s["default"].getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else S["default"].error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t=this,n=this.options_.techOrder.map(O["default"]).map(function(e){return[e,z["default"].getTech(e)||s["default"].getComponent(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(S["default"].error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,t,n){var r=void 0;return e.some(function(e){return t.some(function(t){if(r=n(e,t))return!0})}),r},i=function(e){return function(t,n){return e(n,t)}},o=function(e,n){var r=e[0];if(e[1].canPlaySource(n,t.options_[r.toLowerCase()]))return{source:n,tech:r}};return(this.options_.sourceOrder?r(e,n,i(o)):r(n,e,o))||!1},t.prototype.src=function(e){if(e===undefined)return this.techGet_("src");var t=z["default"].getTech(this.techName_);return t||(t=s["default"].getComponent(this.techName_)),Array.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!t.canPlaySource(e,this.options_[this.techName_.toLowerCase()])?this.sourceList_([e]):(this.cache_.sources=null,this.cache_.source=e,this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){t.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},t.prototype.sourceList_=function(e){var t=this.selectSource(e);t?(t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source),this.cache_.sources=e):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},t.prototype.load=function(){return this.techCall_("load"),this},t.prototype.reset=function(){return this.loadTech_((0,O["default"])(this.options_.techOrder[0]),null),this.techCall_("reset"),this},t.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},t.prototype.currentSource=function(){var e={},t=this.currentSrc();return t&&(e.src=t),this.cache_.source||e},t.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},t.prototype.currentType=function(){return this.currentType_||""},t.prototype.preload=function(e){return e!==undefined?(this.techCall_("setPreload",e),this.options_.preload=e,this):this.techGet_("preload")},t.prototype.autoplay=function(e){return e!==undefined?(this.techCall_("setAutoplay",e),this.options_.autoplay=e,this):this.techGet_("autoplay",e)},t.prototype.loop=function(e){return e!==undefined?(this.techCall_("setLoop",e),this.options_.loop=e,this):this.techGet_("loop")},t.prototype.poster=function(e){return e===undefined?this.poster_:(e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange"),this)},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(e){return e!==undefined?(e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},t.prototype.usingNativeControls=function(e){return e!==undefined?(e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},t.prototype.error=function(e){return e===undefined?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.error_=new M["default"](e),this.addClass("vjs-error"),S["default"].error("(CODE:"+this.error_.code+" "+M["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},t.prototype.reportUserActivity=function(e){this.userActivity_=!0},t.prototype.userActive=function(e){return e!==undefined?(e=!!e,e!==this.userActive_&&(this.userActive_=e,e?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,r=m.bind(this,this.reportUserActivity),i=function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())},o=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},a=function(t){r(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",i),this.on("mouseup",a),this.on("keydown",r),this.on("keyup",r);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e>0&&(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return e!==undefined?(this.techCall_("setPlaybackRate",e),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},t.prototype.isAudio=function(e){return e!==undefined?(this.isAudio_=!!e,this):!!this.isAudio_},t.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new X["default"],this.videoTracks_)},t.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new G["default"],this.audioTracks_)},t.prototype.textTracks=function(){if(this.tech_)return this.tech_.textTracks()},t.prototype.remoteTextTracks=function(){if(this.tech_)return this.tech_.remoteTextTracks()},t.prototype.remoteTextTrackEls=function(){if(this.tech_)return this.tech_.remoteTextTrackEls()},t.prototype.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},t.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},t.prototype.removeRemoteTextTrack=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.track,n=t===undefined?arguments[0]:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(n)},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){return e===undefined?this.language_:(this.language_=String(e).toLowerCase(),this)},t.prototype.languages=function(){return(0,U["default"])(t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=(0,U["default"])(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];r=(0,U["default"])(r),r.player=undefined,e.tracks[n]=r}return e},t.prototype.createModal=function(e,t){var n=this;t=t||{},t.content=e||"";var r=new H["default"](this,t);return this.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open()},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=y.getElAttributes(e),r=n["data-setup"];if(y.hasElClass(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=(0,R["default"])(r||"{}"),o=i[0],a=i[1];o&&S["default"].error(o),(0,D.assign)(n,a)}if((0,D.assign)(t,n),e.hasChildNodes())for(var s=e.childNodes,u=0,l=s.length;u<l;u++){var c=s[u],d=c.nodeName.toLowerCase();"source"===d?t.sources.push(y.getElAttributes(c)):"track"===d&&t.tracks.push(y.getElAttributes(c))}return t},t.prototype.flexNotSupported_=function(){var e=l["default"].createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(s["default"]);K.players={};var $=d["default"].navigator;K.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:$&&($.languages&&$.languages[0]||$.userLanguage||$.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){K.prototype[e]=function(){return this.techGet_(e)}}),Q.forEach(function(e){K.prototype["handleTech"+(0,O["default"])(e)+"_"]=function(){return this.trigger(e)}}),s["default"].registerComponent("Player",K),exports["default"]=K},{1:1,4:4,41:41,44:44,45:45,46:46,5:5,50:50,55:55,59:59,60:60,61:61,62:62,63:63,68:68,69:69,71:71,76:76,78:78,79:79,8:8,81:81,82:82,83:83,85:85,86:86,87:87,88:88,89:89,90:90,91:91,94:94,95:95,97:97}],52:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}exports.__esModule=!0;var n=e(51),r=t(n),i=function(e,t){r["default"].prototype[e]=t};exports["default"]=i},{51:51}],53:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(3),a=t(o),s=e(5),u=t(s),l=function(e){function t(i){var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};n(this,t);var a=r(this,e.call(this,i,o));return a.update(),a}return i(t,e),t.prototype.update=function(){var e=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=e,this.addChild(e),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createPopup=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t}(a["default"]);u["default"].registerComponent("PopupButton",l),exports["default"]=l},{3:3,5:5}],54:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(5),s=n(a),u=e(81),l=t(u),c=e(83),d=t(c),f=e(82),p=t(f),h=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",d.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=l.createEl(t,{className:"vjs-menu-content"});var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),p.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t}(s["default"]);s["default"].registerComponent("Popup",h),exports["default"]=h},{5:5,81:81,82:82,83:83}],55:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(3),s=n(a),u=e(5),l=n(u),c=e(83),d=t(c),f=e(81),p=t(f),h=e(78),y=t(h),g=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.update(),n.on("posterchange",d.bind(a,a.update)),a}return o(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=p.createEl("div",{className:"vjs-poster",tabIndex:-1});return y.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=p.createEl("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},t}(s["default"]);l["default"].registerComponent("PosterImage",g),exports["default"]=g},{3:3,5:5,78:78,81:81,83:83}],56:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){t&&(p=t),d["default"].setTimeout(h,e)}exports.__esModule=!0,exports.hasLoaded=exports.autoSetupTimeout=exports.autoSetup=undefined;var i=e(81),o=n(i),a=e(82),s=n(a),u=e(94),l=t(u),c=e(95),d=t(c),f=!1,p=void 0,h=function(){if(o.isReal()){var e=l["default"].getElementsByTagName("video"),t=l["default"].getElementsByTagName("audio"),n=[];if(e&&e.length>0)for(var i=0,a=e.length;i<a;i++)n.push(e[i]);if(t&&t.length>0)for(var s=0,u=t.length;s<u;s++)n.push(t[s]);if(n&&n.length>0)for(var c=0,d=n.length;c<d;c++){var h=n[c];if(!h||!h.getAttribute){r(1);break}if(h.player===undefined){var y=h.getAttribute("data-setup");null!==y&&p(h)}}else f||r(1)}};o.isReal()&&"complete"===l["default"].readyState?f=!0:s.one(d["default"],"load",function(){f=!0});var y=function(){return f};exports.autoSetup=h,exports.autoSetupTimeout=r,exports.hasLoaded=y},{81:81,82:82,94:94,95:95}],57:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(5),s=n(a),u=e(81),l=t(u),c=e(88),d=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.on("mousedown",a.handleMouseDown),a.on("touchstart",a.handleMouseDown),a.on("focus",a.handleFocus),a.on("blur",a.handleBlur),a.on("click",a.handleClick),a.on(n,"controlsvisible",a.update),a.on(n,a.playerEvent,a.update),a}return o(t,e),t.prototype.createEl=function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return n.className=n.className+" vjs-slider",n=(0,c.assign)({tabIndex:0},n),r=(0,c.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),l.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(e){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;l.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||e<0||e===Infinity)&&(e=0);var n=(100*e).toFixed(2)+"%";this.vertical()?t.el().style.height=n:t.el().style.width=n}}},t.prototype.calculateDistance=function(e){var t=l.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){return e===undefined?this.vertical_||!1:(this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},t}(s["default"]);s["default"].registerComponent("Slider",d),exports["default"]=d},{5:5,81:81,88:88}],58:[function(e,module,exports){"use strict";function t(e){return e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var n=e.search(/&(?!\w+=)/),r=void 0;return-1!==n?r=n+1:0===(n=r=e.lastIndexOf("/")+1)&&(n=r=e.length),t.connection=e.substring(0,n),t.stream=e.substring(r,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t,n){return e.rtmpSourceHandler.canPlayType(t.type)||(e.isStreamingSrc(t.src)?"maybe":"")},e.rtmpSourceHandler.handleSource=function(t,n,r){var i=e.streamToParts(t.src);n.setRtmpConnection(i.connection),n.setRtmpStream(i.stream)},e.registerSourceHandler(e.rtmpSourceHandler),e}exports.__esModule=!0,exports["default"]=t},{}],59:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=e.charAt(0).toUpperCase()+e.slice(1);E["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function s(e){E[e]=function(){return this.el_.vjs_getProperty(e)}}exports.__esModule=!0;for(var u=e(62),l=n(u),c=e(81),d=t(c),f=e(92),p=t(f),h=e(90),y=e(58),g=n(y),m=e(5),v=n(m),_=e(95),b=n(_),w=e(88),T=b["default"].navigator,S=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return n.source&&a.ready(function(){this.setSource(n.source)},!0),n.startTime&&a.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)},!0),b["default"].videojs=b["default"].videojs||{},b["default"].videojs.Flash=b["default"].videojs.Flash||{},b["default"].videojs.Flash.onReady=t.onReady,b["default"].videojs.Flash.onEvent=t.onEvent,b["default"].videojs.Flash.onError=t.onError,a.on("seeked",function(){this.lastSeekTarget_=undefined}),a}return o(t,e),t.prototype.createEl=function(){var e=this.options_;e.swf||(e.swf="//vjs.zencdn.net/swf/5.1.0/video-js.swf");var n=e.techId,r=(0,w.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),i=(0,w.assign)({wmode:"opaque",bgcolor:"#000000"},e.params),o=(0,w.assign)({id:n,name:n,"class":"vjs-tech"},e.attributes);return this.el_=t.embed(e.swf,r,i,o),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return e===undefined?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){var t=this;e=p.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()&&this.setTimeout(function(){return t.play()},0)},t.prototype.seeking=function(){return this.lastSeekTarget_!==undefined},t.prototype.setCurrentTime=function(t){var n=this.seekable();n.length&&(t=t>n.start(0)?t:n.start(0),t=t<n.end(n.length-1)?t:n.end(n.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.duration=function(){if(0===this.readyState())return NaN;var e=this.el_.vjs_getProperty("duration");return e>=0?e:Infinity},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?(0,h.createTimeRange)():(0,h.createTimeRange)(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?(0,h.createTimeRange)():(0,h.createTimeRange)(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t}(l["default"]),E=S.prototype,O="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),k="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),P=0;P<O.length;P++)s(O[P]),a(O[P]);for(var C=0;C<k.length;C++)s(k[C]);S.isSupported=function(){return S.version()[0]>=10},l["default"].withSourceHandlers(S),S.nativeSourceHandler={},S.nativeSourceHandler.canPlayType=function(e){return e in S.formats?"maybe":""},S.nativeSourceHandler.canHandleSource=function(e,t){function n(e){var t=p.getFileExtension(e);return t?"video/"+t:""}var r=void 0;return r=e.type?e.type.replace(/;.*/,"").toLowerCase():n(e.src),S.nativeSourceHandler.canPlayType(r)},S.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},S.nativeSourceHandler.dispose=function(){},S.registerSourceHandler(S.nativeSourceHandler),S.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},S.onReady=function(e){var t=d.getEl(e),n=t&&t.tech;n&&n.el()&&S.checkReady(n)},S.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){S.checkReady(e)},50))},S.onEvent=function(e,t){var n=d.getEl(e).tech,r=Array.prototype.slice.call(arguments,2);n.setTimeout(function(){n.trigger(t,r)},1)},S.onError=function(e,t){var n=d.getEl(e).tech;if("srcnotfound"===t)return n.error(4);n.error("FLASH: "+t)},S.version=function(){var version="0,0,0";try{version=new b["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{T.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(version=(T.plugins["Shockwave Flash 2.0"]||T.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(err){}}return version.split(",")},S.embed=function(e,t,n,r){var i=S.getEmbedCode(e,t,n,r);return d.createEl("div",{innerHTML:i}).childNodes[0]},S.getEmbedCode=function(e,t,n,r){var i="",o="",a="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){i+=e+"="+t[e]+"&amp;"}),n=(0,w.assign)({movie:e,flashvars:i,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(e){o+='<param name="'+e+'" value="'+n[e]+'" />'}),r=(0,w.assign)({data:e,width:"100%",height:"100%"},r),Object.getOwnPropertyNames(r).forEach(function(e){a+=e+'="'+r[e]+'" '}),'<object type="application/x-shockwave-flash" '+a+">"+o+"</object>"},(0,g["default"])(S),v["default"].registerComponent("Flash",S),l["default"].registerTech("Flash",S),exports["default"]=S},{5:5,58:58,62:62,81:81,88:88,90:90,92:92,95:95}],60:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return e.raw=t,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=r(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),l=e(62),c=n(l),d=e(5),f=n(d),p=e(81),h=t(p),y=e(92),g=t(y),m=e(83),v=t(m),_=e(86),b=n(_),w=e(98),T=n(w),S=e(78),E=t(S),O=e(94),k=n(O),P=e(95),C=n(P),I=e(88),j=e(87),x=n(j),A=e(91),M=n(A),L=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r)),s=n.source,l=!1;if(s&&(a.el_.currentSrc!==s.src||n.tag&&3===n.tag.initNetworkState_)?a.setSource(s):a.handleLateInit_(a.el_),a.el_.hasChildNodes()){for(var c=a.el_.childNodes,d=c.length,f=[];d--;){var p=c[d];"track"===p.nodeName.toLowerCase()&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(p),a.remoteTextTracks().addTrack_(p.track),l||a.el_.hasAttribute("crossorigin")||!g.isCrossOrigin(p.src)||(l=!0)):f.push(p))}for(var h=0;h<f.length;h++)a.el_.removeChild(f[h])}return["audio","video"].forEach(function(e){var t=a.el()[e+"Tracks"],n=a[e+"Tracks"](),r=(0,M["default"])(e);a["featuresNative"+r+"Tracks"]&&t&&t.addEventListener&&(a["handle"+r+"TrackChange_"]=function(e){n.trigger({type:"change",target:n,currentTarget:n,srcElement:n})},a["handle"+r+"TrackAdd_"]=function(e){return n.addTrack(e.track)},a["handle"+r+"TrackRemove_"]=function(e){return n.removeTrack(e.track)},t.addEventListener("change",a["handle"+r+"TrackChange_"]),t.addEventListener("addtrack",a["handle"+r+"TrackAdd_"]),t.addEventListener("removetrack",a["handle"+r+"TrackRemove_"]),a["removeOld"+r+"Tracks_"]=function(e){return a.removeOldTracks_(n,t)},a.on("loadstart",a["removeOld"+r+"Tracks_"]))}),a.featuresNativeTextTracks&&(l&&b["default"].warn((0,T["default"])(u)),a.handleTextTrackChange_=v.bind(a,a.handleTextTrackChange),a.handleTextTrackAdd_=v.bind(a,a.handleTextTrackAdd),a.handleTextTrackRemove_=v.bind(a,a.handleTextTrackRemove),a.proxyNativeTextTracks_()),(E.TOUCH_ENABLED||E.IS_IPHONE||E.IS_NATIVE_ANDROID)&&!0===n.nativeControlsForTouch&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}return a(t,e),t.prototype.dispose=function(){var n=this;["audio","video","text"].forEach(function(e){var t=(0,M["default"])(e),r=n.el_[e+"Tracks"];r&&r.removeEventListener&&(r.removeEventListener("change",n["handle"+t+"TrackChange_"]),r.removeEventListener("addtrack",n["handle"+t+"TrackAdd_"]),r.removeEventListener("removetrack",n["handle"+t+"TrackRemove_"])),r&&n.off("loadstart",n["removeOld"+t+"Tracks_"])}),t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=k["default"].createElement("video");var r=this.options_.tag&&h.getElAttributes(this.options_.tag),i=(0,x["default"])({},r);E.TOUCH_ENABLED&&!0===this.options_.nativeControlsForTouch||delete i.controls,h.setElAttributes(e,(0,I.assign)(i,{id:this.options_.techId,"class":"vjs-tech"}))}e.playerId=this.options_.playerId}for(var o=["autoplay","preload","loop","muted"],a=o.length-1;a>=0;a--){var s=o[a],u={};"undefined"!=typeof this.options_[s]&&(u[s]=this.options_[s]),h.setElAttributes(e,u)}return e},t.prototype.handleLateInit_=function(e){var t=this;if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var n=function(){var e=!1,n=function(){e=!0};t.on("loadstart",n);var r=function(){e||this.trigger("loadstart")};return t.on("loadedmetadata",r),t.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),e||this.trigger("loadstart")}),{v:void 0}}();if("object"===(void 0===n?"undefined":s(n)))return n.v}var r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(e){this.trigger(e)},this)})}},t.prototype.proxyNativeTextTracks_=function(){var e=this.el().textTracks;if(e){for(var t=0;t<e.length;t++)this.textTracks().addTrack_(e[t]);e.addEventListener&&(e.addEventListener("change",this.handleTextTrackChange_),e.addEventListener("addtrack",this.handleTextTrackAdd_),e.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},t.prototype.handleTextTrackChange=function(e){var t=this.textTracks();this.textTracks().trigger({type:"change",target:t,currentTarget:t,srcElement:t})},t.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},t.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},t.prototype.removeOldTracks_=function(e,t){var n=[];if(t){for(var r=0;r<e.length;r++){for(var i=e[r],o=!1,a=0;a<t.length;a++)if(t[a]===i){o=!0;break}o||n.push(i)}for(var s=0;s<n.length;s++){var u=n[s];e.removeTrack_(u)}}},t.prototype.removeOldTextTracks_=function(e){var t=this.textTracks(),n=this.el().textTracks;this.removeOldTracks_(t,n)},t.prototype.play=function(){var e=this.el_.play();e!==undefined&&"function"==typeof e.then&&e.then(null,function(e){})},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){(0,b["default"])(e,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){var e=this;if(this.el_.duration===Infinity&&E.IS_ANDROID&&E.IS_CHROME&&0===this.el_.currentTime){var t=function(){var t=function n(){e.el_.currentTime>0&&(e.el_.duration===Infinity&&e.trigger("durationchange"),e.off("timeupdate",n))};return e.on("timeupdate",t),{v:NaN}}();if("object"===(void 0===t?"undefined":s(t)))return t.v}return this.el_.duration||NaN},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0})};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=C["default"].navigator&&C["default"].navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){if(e===undefined)return this.el_.src;this.setSrc(e)},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=k["default"].createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t["default"]&&(n["default"]=t["default"]),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},t.prototype.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},t.prototype.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},t}(c["default"]);if(h.isReal()){L.TEST_VID=k["default"].createElement("video");var R=k["default"].createElement("track");R.kind="captions",R.srclang="en",R.label="English",L.TEST_VID.appendChild(R)}L.isSupported=function(){try{L.TEST_VID.volume=.5}catch(e){return!1}return!(!L.TEST_VID||!L.TEST_VID.canPlayType)},L.canControlVolume=function(){try{var e=L.TEST_VID.volume;return L.TEST_VID.volume=e/2+.1,e!==L.TEST_VID.volume}catch(e){return!1}},L.canControlPlaybackRate=function(){if(E.IS_ANDROID&&E.IS_CHROME)return!1;try{var e=L.TEST_VID.playbackRate;return L.TEST_VID.playbackRate=e/2+.1,e!==L.TEST_VID.playbackRate}catch(e){return!1}},L.supportsNativeTextTracks=function(){return E.IS_ANY_SAFARI},L.supportsNativeVideoTracks=function(){return!(!L.TEST_VID||!L.TEST_VID.videoTracks)},L.supportsNativeAudioTracks=function(){return!(!L.TEST_VID||!L.TEST_VID.audioTracks)},L.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],L.prototype.featuresVolumeControl=L.canControlVolume(),L.prototype.featuresPlaybackRate=L.canControlPlaybackRate(),L.prototype.movingMediaElementInDOM=!E.IS_IOS,L.prototype.featuresFullscreenResize=!0,L.prototype.featuresProgressEvents=!0,L.prototype.featuresTimeupdateEvents=!0,L.prototype.featuresNativeTextTracks=L.supportsNativeTextTracks(),L.prototype.featuresNativeVideoTracks=L.supportsNativeVideoTracks(),L.prototype.featuresNativeAudioTracks=L.supportsNativeAudioTracks();var D=L.TEST_VID&&L.TEST_VID.constructor.prototype.canPlayType,N=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,U=/^video\/mp4/i;L.patchCanPlayType=function(){E.ANDROID_VERSION>=4&&!E.IS_FIREFOX?L.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&N.test(e)?"maybe":D.call(this,e)}:E.IS_OLD_ANDROID&&(L.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&U.test(e)?"maybe":D.call(this,e)})},L.unpatchCanPlayType=function(){var e=L.TEST_VID.constructor.prototype.canPlayType;return L.TEST_VID.constructor.prototype.canPlayType=D,e},L.patchCanPlayType(),L.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},L.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["paused","currentTime","buffered","volume","muted","poster","preload","autoplay","controls","loop","error","seeking","seekable","ended","defaultMuted","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){L.prototype[e]=function(){return this.el_[e]}}),["volume","muted","src","poster","preload","autoplay","loop","playbackRate"].forEach(function(e){L.prototype["set"+(0,M["default"])(e)]=function(t){this.el_[e]=t}}),["pause","load"].forEach(function(e){L.prototype[e]=function(){return this.el_[e]()}}),c["default"].withSourceHandlers(L),L.nativeSourceHandler={},L.nativeSourceHandler.canPlayType=function(e){try{return L.TEST_VID.canPlayType(e)}catch(e){return""}},L.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return L.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=g.getFileExtension(e.src);return L.nativeSourceHandler.canPlayType("video/"+n)}return""},L.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},L.nativeSourceHandler.dispose=function(){},L.registerSourceHandler(L.nativeSourceHandler),f["default"].registerComponent("Html5",L),c["default"].registerTech("Html5",L),exports["default"]=L},{5:5,62:62,78:78,81:81,83:83,86:86,87:87,88:88,91:91,92:92,94:94,95:95,98:98}],61:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=e(5),a=t(o),s=e(62),u=t(s),l=e(91),c=t(l),d=function(e){function t(i,o,s){n(this,t);var l=r(this,e.call(this,i,o,s));if(o.playerOptions.sources&&0!==o.playerOptions.sources.length)i.src(o.playerOptions.sources);else for(var d=0,f=o.playerOptions.techOrder;d<f.length;d++){var p=(0,c["default"])(f[d]),h=u["default"].getTech(p);if(p||(h=a["default"].getComponent(p)),h&&h.isSupported()){i.loadTech_(p);break}}return l}return i(t,e),t}(a["default"]);a["default"].registerComponent("MediaLoader",d),exports["default"]=d},{5:5,62:62,91:91}],62:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n,r){var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{},o=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var a=new m["default"](i);return o.addTrack_(a),a}exports.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=e(5),l=n(u),c=e(66),d=n(c),f=e(65),p=n(f),h=e(87),y=n(h),g=e(72),m=n(g),v=e(70),_=n(v),b=e(76),w=n(b),T=e(63),S=n(T),E=e(83),O=t(E),k=e(86),P=n(k),C=e(90),I=e(79),j=e(46),x=n(j),A=e(95),M=n(A),L=e(94),R=n(L),D=e(88),N=function(t){function n(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){};r(this,n),e.reportTouchActivity=!1;var a=i(this,t.call(this,null,e,o));return a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),a.textTracks_=e.textTracks,a.videoTracks_=e.videoTracks,a.audioTracks_=e.audioTracks,a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===e["native"+t+"Tracks"]&&(a["featuresNative"+t+"Tracks"]=!1)}),!1===e.nativeCaptions&&(a.featuresNativeTextTracks=!1),a.featuresNativeTextTracks||a.emulateTextTracks(),a.autoRemoteTextTracks_=new _["default"],a.initTextTrackListeners(),a.initTrackListeners(),e.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}return o(n,t),n.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(O.bind(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},n.prototype.onDurationChange=function(e){this.duration_=this.duration()},n.prototype.buffered=function(){return(0,C.createTimeRange)(0,0)},n.prototype.bufferedPercent=function(){return(0,I.bufferedPercent)(this.buffered(),this.duration_)},n.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.prototype.clearTracks=function(e){var t=this;e=[].concat(e),e.forEach(function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack_(i)}})},n.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},n.prototype.reset=function(){},n.prototype.error=function(e){return e!==undefined&&(this.error_=new x["default"](e),this.trigger("error")),this.error_},n.prototype.played=function(){return this.hasStarted_?(0,C.createTimeRange)(0,0):(0,C.createTimeRange)()},n.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.initTextTrackListeners=function(){var e=O.bind(this,function(){this.trigger("texttrackchange")}),t=this.textTracks();t&&(t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",O.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})))},n.prototype.initTrackListeners=function(){var e=this;["video","audio"].forEach(function(t){var n=function(){e.trigger(t+"trackchange")},r=e[t+"Tracks"]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),e.on("dispose",function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)})})},n.prototype.addWebVttScript_=function(){var t=this;if(!M["default"].WebVTT&&null!==this.el().parentNode&&this.el().parentNode!==undefined){var n=function(){var n=e(99);if(!t.options_["vtt.js"]&&(0,D.isPlain)(n)&&Object.keys(n).length>0)return Object.keys(n).forEach(function(e){M["default"][e]=n[e]}),t.trigger("vttjsloaded"),{v:void 0};var r=R["default"].createElement("script");r.src=t.options_["vtt.js"]||"https://cdn.rawgit.com/gkatsev/vtt.js/vjs-v0.12.1/dist/vtt.min.js",r.onload=function(){t.trigger("vttjsloaded")},r.onerror=function(){t.trigger("vttjserror")},t.on("dispose",function(){r.onload=null,r.onerror=null}),M["default"].WebVTT=!0,t.el().parentNode.appendChild(r)}();if("object"===(void 0===n?"undefined":s(n)))return n.v}},n.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks();if(t){this.remoteTextTracks().on("addtrack",function(t){e.textTracks().addTrack_(t.track)}),this.remoteTextTracks().on("removetrack",function(t){e.textTracks().removeTrack_(t.track)}),this.on("ready",this.addWebVttScript_);var n=function(){return e.trigger("texttrackchange")},r=function(){n();for(var e=0;e<t.length;e++){var r=t[e];r.removeEventListener("cuechange",n),"showing"===r.mode&&r.addEventListener("cuechange",n)}};r(),t.addEventListener("change",r),this.on("dispose",function(){t.removeEventListener("change",r)})}},n.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new w["default"],this.videoTracks_},n.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new S["default"],this.audioTracks_},n.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new _["default"],this.textTracks_},n.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new _["default"],this.remoteTextTracks_},n.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new p["default"],this.remoteTextTrackEls_},n.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return a(this,e,t,n)},n.prototype.createRemoteTextTrack=function(e){var t=(0,y["default"])(e,{tech:this});return new d["default"](t)},n.prototype.addRemoteTextTrack=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1],n=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(P["default"].warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),!0!==t&&this.autoRemoteTextTracks_.addTrack_(n.track),n},n.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack_(e),this.autoRemoteTextTracks_.removeTrack_(e)},n.prototype.setPoster=function(){},n.prototype.canPlayType=function(){return""},n.isTech=function(e){return e.prototype instanceof n||e instanceof n||e===n},n.registerTech=function(e,t){if(n.techs_||(n.techs_={}),!n.isTech(t))throw new Error("Tech "+e+" must be a Tech");return n.techs_[e]=t,t},n.getTech=function(e){return n.techs_&&n.techs_[e]?n.techs_[e]:M["default"]&&M["default"].videojs&&M["default"].videojs[e]?(P["default"].warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),M["default"].videojs[e]):void 0},n}(l["default"]);N.prototype.textTracks_,N.prototype.audioTracks_,N.prototype.videoTracks_,N.prototype.featuresVolumeControl=!0,N.prototype.featuresFullscreenResize=!1,N.prototype.featuresPlaybackRate=!1,N.prototype.featuresProgressEvents=!1,N.prototype.featuresTimeupdateEvents=!1,N.prototype.featuresNativeTextTracks=!1,N.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),n===undefined&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n=e.sourceHandlers||[],r=void 0,i=0;i<n.length;i++)if(r=n[i].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(t,n))return r[i];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""},["seekable","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);return n||(e.nativeSourceHandler?n=e.nativeSourceHandler:P["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t,this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",e.prototype.firstLoadStartListener_)),this.sourceHandler_=n.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},e.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler(),this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},l["default"].registerComponent("Tech",N),l["default"].registerComponent("MediaTechController",N),N.registerTech("Tech",N),exports["default"]=N},{46:46,5:5,63:63,65:65,66:66,70:70,72:72,76:76,79:79,83:83,86:86,87:87,88:88,90:90,94:94,95:95,99:99}],63:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(74),s=n(a),u=e(78),l=t(u),c=e(94),d=n(c),f=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].enabled=!1)},p=function(e){function t(){var n,o,a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];r(this,t);for(var u=void 0,c=a.length-1;c>=0;c--)if(a[c].enabled){f(a,a[c]);break}if(l.IS_IE8){u=d["default"].createElement("custom");for(var p in s["default"].prototype)"constructor"!==p&&(u[p]=s["default"].prototype[p]);for(var h in t.prototype)"constructor"!==h&&(u[h]=t.prototype[h])}return u=n=i(this,e.call(this,a,u)),u.changing_=!1,o=u,i(n,o)}return o(t,e),t.prototype.addTrack_=function(t){var n=this;t.enabled&&f(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,f(n,t),n.changing_=!1,n.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(s["default"]);exports["default"]=p},{74:74,78:78,94:94}],64:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(73),s=e(75),u=n(s),l=e(87),c=n(l),d=e(78),f=t(d),p=function(e){function t(){var n,o,s=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};r(this,t);var u=(0,c["default"])(s,{kind:a.AudioTrackKind[s.kind]||""}),l=n=i(this,e.call(this,u)),d=!1;if(f.IS_IE8)for(var p in t.prototype)"constructor"!==p&&(l[p]=t.prototype[p]);return Object.defineProperty(l,"enabled",{get:function(){return d},set:function(e){"boolean"==typeof e&&e!==d&&(d=e,this.trigger("enabledchange"))}}),u.enabled&&(l.enabled=u.enabled),l.loaded_=!0,o=l,i(n,o)}return o(t,e),t}(u["default"]);exports["default"]=p},{73:73,75:75,78:78,87:87}],65:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var i=e(78),o=n(i),a=e(94),s=t(a),u=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];r(this,e);var n=this;if(o.IS_IE8){n=s["default"].createElement("custom");for(var i in e.prototype)"constructor"!==i&&(n[i]=e.prototype[i])}n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var a=0,u=t.length;a<u;a++)n.addTrackElement_(t[a]);if(o.IS_IE8)return n}return e.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}();exports["default"]=u},{78:78,94:94}],66:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(78),s=n(a),u=e(94),l=t(u),c=e(42),d=t(c),f=e(72),p=t(f),h=0,y=2,g=function(e){function t(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};r(this,t);var o=i(this,e.call(this)),a=void 0,u=o;if(s.IS_IE8){u=l["default"].createElement("custom");for(var c in t.prototype)"constructor"!==c&&(u[c]=t.prototype[c])}var d=new p["default"](n);if(u.kind=d.kind,u.src=d.src,u.srclang=d.language,u.label=d.label,u["default"]=d["default"],Object.defineProperty(u,"readyState",{get:function(){return a}}),Object.defineProperty(u,"track",{get:function(){return d}}),a=h,d.addEventListener("loadeddata",function(){a=y,u.trigger({type:"load",target:u})}),s.IS_IE8){var f;return f=u,i(o,f)}return o}return o(t,e),t}(d["default"]);g.prototype.allowedEvents_={load:"load"},g.NONE=h,g.LOADING=1,g.LOADED=y,g.ERROR=3,exports["default"]=g},{42:42,72:72,78:78,94:94}],67:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var i=e(78),o=n(i),a=e(94),s=t(a),u=function(){function e(t){r(this,e);var n=this;if(o.IS_IE8){n=s["default"].createElement("custom");for(var i in e.prototype)"constructor"!==i&&(n[i]=e.prototype[i])}if(e.prototype.setCues_.call(n,t),Object.defineProperty(n,"length",{get:function(){return this.length_}}),o.IS_IE8)return n}return e.prototype.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},e.prototype.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}();exports["default"]=u},{78:78,94:94}],68:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function s(e,t,n){try{e.style[t]=n}catch(e){return}}exports.__esModule=!0;var u=e(5),l=n(u),c=e(83),d=t(c),f=e(95),p=n(f),h="#222",y="#ccc",g={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},m=function(e){function t(n,o,a){r(this,t);var s=i(this,e.call(this,n,o,a));return n.on("loadstart",d.bind(s,s.toggleDisplay)),n.on("texttrackchange",d.bind(s,s.updateDisplay)),n.ready(d.bind(s,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on("fullscreenchange",d.bind(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);var r={captions:1,subtitles:1},i=this.player_.textTracks(),o=void 0,a=void 0;if(i){for(var s=0;s<i.length;s++){var u=i[s];u["default"]&&("descriptions"!==u.kind||o?u.kind in r&&!a&&(a=u):o=u)}a?a.mode="showing":o&&(o.mode="showing")}})),s}return o(t,e),t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof p["default"].WebVTT&&p["default"].WebVTT.processCues(p["default"],[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();if(this.clearDisplay(),e){for(var t=null,n=null,r=e.length;r--;){var i=e[r];"showing"===i.mode&&("descriptions"===i.kind?t=i:n=i)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))}},t.prototype.updateForTrack=function(e){if("function"==typeof p["default"].WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],r=0;r<e.activeCues.length;r++)n.push(e.activeCues[r]);p["default"].WebVTT.processCues(p["default"],n,this.el_);for(var i=n.length;i--;){var o=n[i];if(o){var u=o.displayState;if(t.color&&(u.firstChild.style.color=t.color),t.textOpacity&&s(u.firstChild,"color",a(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(u.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&s(u.firstChild,"backgroundColor",a(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?s(u,"backgroundColor",a(t.windowColor,t.windowOpacity)):u.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?u.firstChild.style.textShadow="2px 2px 3px "+h+", 2px 2px 4px "+h+", 2px 2px 5px "+h:"raised"===t.edgeStyle?u.firstChild.style.textShadow="1px 1px "+h+", 2px 2px "+h+", 3px 3px "+h:"depressed"===t.edgeStyle?u.firstChild.style.textShadow="1px 1px "+y+", 0 1px "+y+", -1px -1px "+h+", 0 -1px "+h:"uniform"===t.edgeStyle&&(u.firstChild.style.textShadow="0 0 4px "+h+", 0 0 4px "+h+", 0 0 4px "+h+", 0 0 4px "+h)),t.fontPercent&&1!==t.fontPercent){var l=p["default"].parseFloat(u.style.fontSize);u.style.fontSize=l*t.fontPercent+"px",u.style.height="auto",u.style.top="auto",u.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=g[t.fontFamily])}}}},t}(l["default"]);l["default"].registerComponent("TextTrackDisplay",m),exports["default"]=m},{5:5,83:83,95:95}],69:[function(e,module,exports){"use strict";exports.__esModule=!0;var t=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n,r){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},n=function(e){var n=e.$$("track"),r=Array.prototype.map.call(n,function(e){return e.track});return Array.prototype.map.call(n,function(e){var n=t(e.track);return e.src&&(n.src=e.src),n}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===r.indexOf(e)}).map(t))},r=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()};exports["default"]={textTracksToJson:n,jsonToTextTracks:r,trackToJson_:t}},{}],70:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(74),s=n(a),u=e(83),l=t(u),c=e(78),d=t(c),f=e(94),p=n(f),h=function(e){function t(){var n,o,a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];r(this,t);var u=void 0;if(d.IS_IE8){u=p["default"].createElement("custom");for(var l in s["default"].prototype)"constructor"!==l&&(u[l]=s["default"].prototype[l]);for(var c in t.prototype)"constructor"!==c&&(u[c]=t.prototype[c])}return u=n=i(this,e.call(this,a,u)),o=u,i(n,o)}return o(t,e),t.prototype.addTrack_=function(t){e.prototype.addTrack_.call(this,t),t.addEventListener("modechange",l.bind(this,function(){this.trigger("change")}))},t}(s["default"]);exports["default"]=h},{74:74,78:78,83:83,94:94}],71:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function s(e,t){return a(e.options[e.options.selectedIndex].value,t)}function u(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(a(e.options[r].value,n)===t){e.selectedIndex=r;break}}exports.__esModule=!0;var l=e(95),c=n(l),d=e(5),f=n(d),p=e(81),h=e(83),y=t(h),g=e(88),m=t(g),v=e(86),_=n(v),b="vjs-text-track-settings",w=["#000","Black"],T=["#00F","Blue"],S=["#0FF","Cyan"],E=["#0F0","Green"],O=["#F0F","Magenta"],k=["#F00","Red"],P=["#FFF","White"],C=["#FF0","Yellow"],I=["1","Opaque"],j=["0.5","Semi-Transparent"],x=["0","Transparent"],A={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[w,P,k,E,T,C,O,S]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[I,j,x]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[P,w,k,E,T,C,O,S]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[I,j]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[x,j,I]}};A.windowColor.options=A.backgroundColor.options;var M=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.setDefaults(),a.hide(),a.updateDisplay=y.bind(a,a.updateDisplay),o.persistTextTrackSettings===undefined&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.hide()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),m.each(A,function(e){a.on(a.$(e.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}return o(t,e),t.prototype.createElSelect_=function(e){var t=this,n=A[e],r=n.id.replace("%s",this.id_);return[(0,p.createEl)("label",{className:"vjs-label",textContent:n.label},{"for":r}),(0,p.createEl)("select",{id:r},undefined,n.options.map(function(e){return(0,p.createEl)("option",{textContent:t.localize(e[1]),value:e[0]})}))]},t.prototype.createElFgColor_=function(){var e=(0,p.createEl)("legend",{textContent:this.localize("Text")}),t=this.createElSelect_("color"),n=(0,p.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},undefined,this.createElSelect_("textOpacity"));return(0,p.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},undefined,[e].concat(t,n))},t.prototype.createElBgColor_=function(){var e=(0,p.createEl)("legend",{textContent:this.localize("Background")}),t=this.createElSelect_("backgroundColor"),n=(0,p.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},undefined,this.createElSelect_("backgroundOpacity"));return(0,p.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},undefined,[e].concat(t,n))},t.prototype.createElWinColor_=function(){var e=(0,p.createEl)("legend",{textContent:this.localize("Window")}),t=this.createElSelect_("windowColor"),n=(0,p.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},undefined,this.createElSelect_("windowOpacity"));return(0,p.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},undefined,[e].concat(t,n))},t.prototype.createElColors_=function(){return(0,p.createEl)("div",{className:"vjs-tracksettings-colors"},undefined,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])},t.prototype.createElFont_=function(){var e=(0,p.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},undefined,this.createElSelect_("fontPercent")),t=(0,p.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},undefined,this.createElSelect_("edgeStyle")),n=(0,p.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},undefined,this.createElSelect_("fontFamily"));return(0,p.createEl)("div",{className:"vjs-tracksettings-font"},undefined,[e,t,n])},t.prototype.createElControls_=function(){var e=(0,p.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),t=(0,p.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,p.createEl)("div",{className:"vjs-tracksettings-controls"},undefined,[e,t])},t.prototype.createEl=function(){var e=(0,p.createEl)("div",{className:"vjs-tracksettings"},undefined,[this.createElColors_(),this.createElFont_(),this.createElControls_()]),t=(0,p.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.id_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),n=(0,p.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.id_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),r=(0,p.createEl)("div",undefined,{role:"document"},[t,n,e]);return(0,p.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":t.id,"aria-describedby":n.id},r)},t.prototype.getValues=function(){var e=this;return m.reduce(A,function(t,n,r){var i=s(e.$(n.selector),n.parser);return i!==undefined&&(t[r]=i),t},{})},t.prototype.setValues=function(e){var t=this;m.each(A,function(n,r){u(t.$(n.selector),e[r],n.parser)})},t.prototype.setDefaults=function(){var e=this;m.each(A,function(t){var n=t.hasOwnProperty("default")?t["default"]:0;e.$(t.selector).selectedIndex=n})},t.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(c["default"].localStorage.getItem(b))}catch(err){_["default"].warn(err)}e&&this.setValues(e)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?c["default"].localStorage.setItem(b,JSON.stringify(e)):c["default"].localStorage.removeItem(b)}catch(err){_["default"].warn(err)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t}(f["default"]);f["default"].registerComponent("TextTrackSettings",M),exports["default"]=M},{5:5,81:81,83:83,86:86,88:88,95:95}],72:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(67),s=n(a),u=e(83),l=t(u),c=e(73),d=e(86),f=n(d),p=e(95),h=n(p),y=e(75),g=n(y),m=e(92),v=e(105),_=n(v),b=e(87),w=n(b),T=e(78),S=t(T),E=function(e,t){var n=new h["default"].WebVTT.Parser(h["default"],h["default"].vttjs,h["default"].WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(h["default"].console&&h["default"].console.groupCollapsed&&h["default"].console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach(function(e){return f["default"].error(e)}),h["default"].console&&h["default"].console.groupEnd&&h["default"].console.groupEnd()),n.flush()},O=function(e,t){var n={uri:e},r=(0,m.isCrossOrigin)(e);r&&(n.cors=r),(0,_["default"])(n,l.bind(this,function(e,n,r){if(e)return f["default"].error(e,n);t.loaded_=!0,"function"!=typeof h["default"].WebVTT?t.tech_&&function(){var e=function(){return E(r,t)};t.tech_.on("vttjsloaded",e),t.tech_.on("vttjserror",function(){f["default"].error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",e)})}():E(r,t)}))},k=function(e){function t(){var n,o,a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(r(this,t),!a.tech)throw new Error("A tech was not provided.");var u=(0,w["default"])(a,{kind:c.TextTrackKind[a.kind]||"subtitles",language:a.language||a.srclang||""}),d=c.TextTrackMode[u.mode]||"disabled",f=u["default"];"metadata"!==u.kind&&"chapters"!==u.kind||(d="hidden");var p=n=i(this,e.call(this,u));if(p.tech_=u.tech,S.IS_IE8)for(var h in t.prototype)"constructor"!==h&&(p[h]=t.prototype[h]);p.cues_=[],p.activeCues_=[];var y=new s["default"](p.cues_),g=new s["default"](p.activeCues_),m=!1,v=l.bind(p,function(){this.activeCues,m&&(this.trigger("cuechange"),m=!1)});return"disabled"!==d&&p.tech_.on("timeupdate",v),Object.defineProperty(p,"default",{get:function(){return f},set:function(){}}),Object.defineProperty(p,"mode",{get:function(){return d},set:function(e){c.TextTrackMode[e]&&(d=e,"showing"===d&&this.tech_.on("timeupdate",v),this.trigger("modechange"))}}),Object.defineProperty(p,"cues",{get:function(){return this.loaded_?y:null},set:function(){}}),Object.defineProperty(p,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return g;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(m=!1,t.length!==this.activeCues_.length)m=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(m=!0);return this.activeCues_=t,g.setCues_(this.activeCues_),g},set:function(){}}),u.src?(p.src=u.src,O(u.src,p)):p.loaded_=!0,o=p,i(n,o)}return o(t,e),t.prototype.addCue=function(e){var t=this.tech_.textTracks();if(t)for(var n=0;n<t.length;n++)t[n]!==this&&t[n].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=!1,n=0,r=this.cues_.length;n<r;n++)this.cues_[n]===e&&(this.cues_.splice(n,1),t=!0);t&&this.cues.setCues_(this.cues_)},t}(g["default"]);k.prototype.allowedEvents_={cuechange:"cuechange"},exports["default"]=k},{105:105,67:67,73:73,75:75,78:78,83:83,86:86,87:87,92:92,95:95}],73:[function(e,module,exports){"use strict";exports.__esModule=!0,exports.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},exports.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},exports.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},exports.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],74:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(42),s=n(a),u=e(78),l=t(u),c=e(94),d=n(c),f=function(e){function t(){var n,o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;r(this,t);var s=i(this,e.call(this));if(!a&&(a=s,l.IS_IE8)){a=d["default"].createElement("custom");for(var u in t.prototype)"constructor"!==u&&(a[u]=t.prototype[u])}a.tracks_=[],Object.defineProperty(a,"length",{get:function(){return this.tracks_.length}});for(var c=0;c<o.length;c++)a.addTrack_(o[c]);return n=a,i(s,n)}return o(t,e),t.prototype.addTrack_=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack_=function(e){for(var t=void 0,n=0,r=this.length;n<r;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(s["default"]);f.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var p in f.prototype.allowedEvents_)f.prototype["on"+p]=null;exports["default"]=f},{42:42,78:78,94:94}],75:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(78),s=n(a),u=e(94),l=t(u),c=e(85),d=n(c),f=e(42),p=t(f),h=function(e){function t(){var n,o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};r(this,t);var a=i(this,e.call(this)),u=a;if(s.IS_IE8){u=l["default"].createElement("custom");for(var c in t.prototype)"constructor"!==c&&(u[c]=t.prototype[c])}var f={id:o.id||"vjs_track_"+d.newGUID(),kind:o.kind||"",label:o.label||"",language:o.language||""},p=function(e){Object.defineProperty(u,e,{get:function(){return f[e]},set:function(){}})};for(var h in f)p(h);return n=u,i(a,n)}return o(t,e),t}(p["default"]);exports["default"]=h},{42:42,78:78,85:85,94:94}],76:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(74),s=n(a),u=e(78),l=t(u),c=e(94),d=n(c),f=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].selected=!1)},p=function(e){function t(){var n,o,a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];r(this,t);for(var u=void 0,c=a.length-1;c>=0;c--)if(a[c].selected){f(a,a[c]);break}if(l.IS_IE8){u=d["default"].createElement("custom");for(var p in s["default"].prototype)"constructor"!==p&&(u[p]=s["default"].prototype[p]);for(var h in t.prototype)"constructor"!==h&&(u[h]=t.prototype[h])}return u=n=i(this,e.call(this,a,u)),u.changing_=!1,Object.defineProperty(u,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),o=u,i(n,o)}return o(t,e),t.prototype.addTrack_=function(t){var n=this;t.selected&&f(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,f(n,t),n.changing_=!1,n.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(s["default"]);exports["default"]=p},{74:74,78:78,94:94}],77:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a=e(73),s=e(75),u=n(s),l=e(87),c=n(l),d=e(78),f=t(d),p=function(e){function t(){var n,o,s=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};r(this,t);var u=(0,c["default"])(s,{kind:a.VideoTrackKind[s.kind]||""}),l=n=i(this,e.call(this,u)),d=!1;if(f.IS_IE8)for(var p in t.prototype)"constructor"!==p&&(l[p]=t.prototype[p]);return Object.defineProperty(l,"selected",{get:function(){return d},set:function(e){"boolean"==typeof e&&e!==d&&(d=e,this.trigger("selectedchange"))}}),u.selected&&(l.selected=u.selected),o=l,i(n,o)}return o(t,e),t}(u["default"]);exports["default"]=p},{73:73,75:75,78:78,87:87}],78:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}exports.__esModule=!0,exports.BACKGROUND_SIZE_SUPPORTED=exports.TOUCH_ENABLED=exports.IS_ANY_SAFARI=exports.IS_SAFARI=exports.IE_VERSION=exports.IS_IE8=exports.IS_CHROME=exports.IS_EDGE=exports.IS_FIREFOX=exports.IS_NATIVE_ANDROID=exports.IS_OLD_ANDROID=exports.ANDROID_VERSION=exports.IS_ANDROID=exports.IOS_VERSION=exports.IS_IOS=exports.IS_IPOD=exports.IS_IPHONE=exports.IS_IPAD=undefined;var r=e(81),i=n(r),o=e(95),a=t(o),s=a["default"].navigator&&a["default"].navigator.userAgent||"",u=/AppleWebKit\/([\d.]+)/i.exec(s),l=u?parseFloat(u.pop()):null,c=exports.IS_IPAD=/iPad/i.test(s),d=exports.IS_IPHONE=/iPhone/i.test(s)&&!c,f=exports.IS_IPOD=/iPod/i.test(s),p=exports.IS_IOS=d||c||f,h=(exports.IOS_VERSION=function(){var e=s.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),exports.IS_ANDROID=/Android/i.test(s)),y=exports.ANDROID_VERSION=function(){var e=s.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),g=(exports.IS_OLD_ANDROID=h&&/webkit/i.test(s)&&y<2.3,exports.IS_NATIVE_ANDROID=h&&y<5&&l<537,exports.IS_FIREFOX=/Firefox/i.test(s),exports.IS_EDGE=/Edge/i.test(s)),m=exports.IS_CHROME=!g&&/Chrome/i.test(s),v=(exports.IS_IE8=/MSIE\s8\.0/.test(s),exports.IE_VERSION=function(e){return e&&parseFloat(e[1])}(/MSIE\s(\d+)\.\d/.exec(s)),exports.IS_SAFARI=/Safari/i.test(s)&&!m&&!h&&!g);exports.IS_ANY_SAFARI=v||p,exports.TOUCH_ENABLED=i.isReal()&&("ontouchstart"in a["default"]||a["default"].DocumentTouch&&a["default"].document instanceof a["default"].DocumentTouch),exports.BACKGROUND_SIZE_SUPPORTED=i.isReal()&&"backgroundSize"in a["default"].document.createElement("video").style},{81:81,95:95}],79:[function(e,module,exports){"use strict";function t(e,t){var r=0,i=void 0,o=void 0;if(!t)return 0;e&&e.length||(e=(0,n.createTimeRange)(0,0));for(var a=0;a<e.length;a++)i=e.start(a),o=e.end(a),o>t&&(o=t),r+=o-i;return r/t}exports.__esModule=!0,exports.bufferedPercent=t;var n=e(90)},{90:90}],80:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!e||!t)return"";if("function"==typeof i["default"].getComputedStyle){var n=i["default"].getComputedStyle(e);return n?n[t]:""}return e.currentStyle[t]||""}exports.__esModule=!0,exports["default"]=n;var r=e(95),i=t(r)},{95:95}],81:[function(e,module,exports){"use strict";function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return e.raw=t,e}function i(e){return"string"==typeof e&&/\S/.test(e)}function o(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function a(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function s(){return N["default"]===B["default"].document&&"undefined"!=typeof N["default"].createElement}function u(e){return(0,G.isObject)(e)&&1===e.nodeType}function l(e){return function(t,n){if(!i(t))return N["default"][e](null);i(n)&&(n=N["default"].querySelector(n));var r=u(n)?n:N["default"];return r[e]&&r[e](t)}}function c(e){return 0===e.indexOf("#")&&(e=e.slice(1)),N["default"].getElementById(e)}function d(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div",t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=arguments[3],i=N["default"].createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(q["default"].warn((0,W["default"])(R,e,n)),i.setAttribute(e,n)):"textContent"===e?f(i,n):i[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){i.setAttribute(e,n[e])}),r&&M(i,r),i}function f(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function p(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function h(e){var t=e[X];return t||(t=e[X]=V.newGUID()),Y[t]||(Y[t]={}),Y[t]}function y(e){var t=e[X];return!!t&&!!Object.getOwnPropertyNames(Y[t]).length}function g(e){var t=e[X];if(t){delete Y[t];try{delete e[X]}catch(e){e.removeAttribute?e.removeAttribute(X):e[X]=null}}}function m(e,t){return o(t),e.classList?e.classList.contains(t):a(t).test(e.className)}function v(e,t){return e.classList?e.classList.add(t):m(e,t)||(e.className=(e.className+" "+t).trim()),e}function _(e,t){return e.classList?e.classList.remove(t):(o(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function b(e,t,n){var r=m(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?v(e,t):_(e,t),e}function w(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];null===r||void 0===r||!1===r?e.removeAttribute(n):e.setAttribute(n,!0===r?"":r)})}function T(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,r=n.length-1;r>=0;r--){var i=n[r].name,o=n[r].value;"boolean"!=typeof e[i]&&-1===",autoplay,controls,loop,muted,default,".indexOf(","+i+",")||(o=null!==o),t[i]=o}return t}function S(e,t){return e.getAttribute(t)}function E(e,t,n){e.setAttribute(t,n)}function O(e,t){e.removeAttribute(t)}function k(){N["default"].body.focus(),N["default"].onselectstart=function(){return!1}}function P(){N["default"].onselectstart=function(){return!0}}function C(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=N["default"].documentElement,r=N["default"].body,i=n.clientLeft||r.clientLeft||0,o=B["default"].pageXOffset||r.scrollLeft,a=t.left+o-i,s=n.clientTop||r.clientTop||0,u=B["default"].pageYOffset||r.scrollTop,l=t.top+u-s;return{left:Math.round(a),top:Math.round(l)}}function I(e,t){var n={},r=C(e),i=e.offsetWidth,o=e.offsetHeight,a=r.top,s=r.left,u=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-u+o)/o)),n.x=Math.max(0,Math.min(1,(l-s)/i)),n}function j(e){return(0,G.isObject)(e)&&3===e.nodeType}function x(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function A(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),u(e)||j(e)?e:"string"==typeof e&&/\S/.test(e)?N["default"].createTextNode(e):void 0}).filter(function(e){return e})}function M(e,t){return A(t).forEach(function(t){return e.appendChild(t)}),e}function L(e,t){return M(x(e),t)}exports.__esModule=!0,exports.$$=exports.$=undefined;var R=r(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);exports.isReal=s,exports.isEl=u,exports.getEl=c,exports.createEl=d,exports.textContent=f,exports.insertElFirst=p,exports.getElData=h,exports.hasElData=y,exports.removeElData=g,exports.hasElClass=m,exports.addElClass=v,exports.removeElClass=_,exports.toggleElClass=b,exports.setElAttributes=w,exports.getElAttributes=T,exports.getAttribute=S,exports.setAttribute=E,exports.removeAttribute=O,exports.blockTextSelection=k,exports.unblockTextSelection=P,exports.findElPosition=C,exports.getPointerPosition=I,exports.isTextNode=j,exports.emptyEl=x,exports.normalizeContent=A,exports.appendContent=M,exports.insertContent=L;var D=e(94),N=n(D),U=e(95),B=n(U),F=e(85),V=t(F),H=e(86),q=n(H),z=e(98),W=n(z),G=e(88),Y={},X="vdata"+(new Date).getTime();exports.$=l("querySelector"),exports.$$=l("querySelectorAll")},{85:85,86:86,88:88,94:94,95:95,98:98}],82:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){var n=d.getElData(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&d.removeElData(e)}function i(e,t,n,r){n.forEach(function(n){e(t,n,r)})}function o(e){function t(){return!0}function n(){return!1}return e&&e.isPropagationStopped||function(){var r=e||m["default"].event;e={};for(var i in r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||_["default"]),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&e.clientX!==undefined){var o=_["default"].documentElement,a=_["default"].body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&e.button!==undefined&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}(),e}function a(e,t,n){if(Array.isArray(t))return i(a,e,t,n);var r=d.getElData(e);r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=p.newGUID()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=o(t);var i=r.handlers[t.type];if(i)for(var a=i.slice(0),s=0,u=a.length;s<u&&!t.isImmediatePropagationStopped();s++)try{a[s].call(e,t,n)}catch(e){y["default"].error(e)}}}),1===r.handlers[t].length&&(e.addEventListener?e.addEventListener(t,r.dispatcher,!1):e.attachEvent&&e.attachEvent("on"+t,r.dispatcher))}function s(e,t,n){if(d.hasElData(e)){var o=d.getElData(e);if(o.handlers){if(Array.isArray(t))return i(s,e,t,n);var a=function(t){o.handlers[t]=[],r(e,t)};if(t){var u=o.handlers[t];if(u){if(!n)return void a(t);if(n.guid)for(var l=0;l<u.length;l++)u[l].guid===n.guid&&u.splice(l--,1);r(e,t)}}else for(var c in o.handlers)a(c)}}}function u(e,t,n){var r=d.hasElData(e)?d.getElData(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=o(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)u.call(null,i,t,n);else if(!i&&!t.defaultPrevented){var a=d.getElData(t.target);t.target[t.type]&&(a.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),a.disabled=!1)}return!t.defaultPrevented}function l(e,t,n){if(Array.isArray(t))return i(l,e,t,n);var r=function o(){s(e,t,o),n.apply(this,arguments)};r.guid=n.guid=n.guid||p.newGUID(),a(e,t,r)}exports.__esModule=!0,exports.fixEvent=o,exports.on=a,exports.off=s,exports.trigger=u,exports.one=l;var c=e(81),d=n(c),f=e(85),p=n(f),h=e(86),y=t(h),g=e(95),m=t(g),v=e(94),_=t(v)},{81:81,85:85,86:86,94:94,95:95}],83:[function(e,module,exports){"use strict";exports.__esModule=!0,exports.throttle=exports.bind=undefined;var t=e(85);exports.bind=function(e,n,r){n.guid||(n.guid=(0,t.newGUID)());var i=function(){return n.apply(e,arguments)};return i.guid=r?r+"_"+n.guid:n.guid,i},exports.throttle=function(e,t){var n=Date.now();return function(){var r=Date.now();r-n>=t&&(e.apply(undefined,arguments),n=r)}}},{85:85}],84:[function(e,module,exports){"use strict";function t(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e;e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===Infinity)&&(i=r=n="-"),i=i>0||a>0?i+":":"",r=((i||o>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,i+r+n}exports.__esModule=!0,exports["default"]=t},{}],85:[function(e,module,exports){"use strict";function t(){return n++}exports.__esModule=!0,exports.newGUID=t;var n=1},{}],86:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}exports.__esModule=!0,exports.logByType=undefined;var n=e(95),r=t(n),i=e(78),o=e(88),a=void 0,s=exports.logByType=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!!i.IE_VERSION&&i.IE_VERSION<11;"log"!==e&&t.unshift(e.toUpperCase()+":"),a.history.push(t),t.unshift("VIDEOJS:");var s=r["default"].console&&r["default"].console[e];s&&(n&&(t=t.map(function(e){if((0,o.isObject)(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(x){return String(e)}return String(e)}).join(" ")),s.apply?s[Array.isArray(t)?"apply":"call"](r["default"].console,t):s(t))};a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s("log",t)},a.history=[],a.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s("error",t)},a.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s("warn",t)},exports["default"]=a},{78:78,88:88,95:95}],87:[function(e,module,exports){"use strict";function t(){for(var e={},r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.forEach(function(r){r&&(0,n.each)(r,function(r,i){if(!(0,n.isPlain)(r))return void(e[i]=r);(0,n.isPlain)(e[i])||(e[i]={}),e[i]=t(e[i],r)})}),e}exports.__esModule=!0,exports["default"]=t;var n=e(88)},{88:88}],88:[function(e,module,exports){"use strict";function t(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function n(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return Object.keys(e).reduce(function(n,r){return t(n,e[r],r)},n)}function r(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[e].concat(r)):(r.forEach(function(n){n&&t(n,function(t,n){e[n]=t})}),e)}function i(e){return!!e&&"object"===(void 0===e?"undefined":a(e))}function o(e){return i(e)&&"[object Object]"===s.call(e)&&e.constructor===Object}exports.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports.each=t,exports.reduce=n,exports.assign=r,exports.isObject=i,exports.isPlain=o;var s=Object.prototype.toString},{}],89:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}exports.__esModule=!0,exports.setTextContent=exports.createStyleElement=undefined;var n=e(94),r=t(n);exports.createStyleElement=function(e){var t=r["default"].createElement("style");return t.className=e,t},exports.setTextContent=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}},{94:94}],90:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,n){if(t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+n+").")}function r(e,t,r,i){return i===undefined&&(s["default"].warn("DEPRECATED: Function '"+e+"' on 'TimeRanges' called without an index argument."),i=0),n(e,i,r.length-1),r[i][t]}function i(e){return e===undefined||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:r.bind(null,"start",0,e),end:r.bind(null,"end",1,e)}}function o(e,t){return Array.isArray(e)?i(e):e===undefined||t===undefined?i():i([[e,t]])}exports.__esModule=!0,exports.createTimeRange=undefined,exports.createTimeRanges=o;var a=e(86),s=t(a);exports.createTimeRange=o},{86:86}],91:[function(e,module,exports){"use strict";function t(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}exports.__esModule=!0,exports["default"]=t},{}],92:[function(e,module,exports){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}exports.__esModule=!0,exports.isCrossOrigin=exports.getFileExtension=exports.getAbsoluteURL=exports.parseUrl=undefined;var n=e(94),r=t(n),i=e(95),o=t(i),a=exports.parseUrl=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=r["default"].createElement("a");n.href=e;var i=""===n.host&&"file:"!==n.protocol,o=void 0;i&&(o=r["default"].createElement("div"),o.innerHTML='<a href="'+e+'"></a>',n=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),r["default"].body.appendChild(o));for(var a={},s=0;s<t.length;s++)a[t[s]]=n[t[s]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),i&&r["default"].body.removeChild(o),a};exports.getAbsoluteURL=function(e){if(!e.match(/^https?:\/\//)){var t=r["default"].createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},exports.getFileExtension=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=t.exec(e);if(n)return n.pop().toLowerCase()}return""},exports.isCrossOrigin=function(e){var t=o["default"].location,n=a(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host}},{94:94,95:95}],93:[function(t,module,exports){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){var r=void 0;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),i.getPlayers()[e])return t&&U["default"].warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&i.getPlayers()[e].ready(n),i.getPlayers()[e];r=F.getEl(e)}else r=e;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(r.player||w["default"].players[r.playerId])return r.player||w["default"].players[r.playerId];t=t||{},i.hooks("beforesetup").forEach(function(e){var n=e(r,(0,O["default"])(t));if(!(0,W.isObject)(n)||Array.isArray(n))return void U["default"].error("please return an object in beforesetup hooks");t=(0,O["default"])(t,n)});var o=y["default"].getComponent("Player"),a=new o(r,t,n);return i.hooks("setup").forEach(function(e){return e(a)}),a}exports.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=t(95),s=r(a),u=t(94),l=r(u),c=t(56),d=n(c),f=t(89),p=n(f),h=t(5),y=r(h),g=t(42),m=r(g),v=t(82),_=n(v),b=t(51),w=r(b),T=t(52),S=r(T),E=t(87),O=r(E),k=t(83),P=n(k),C=t(72),I=r(C),j=t(64),x=r(j),A=t(77),M=r(A),L=t(90),R=t(84),D=r(R),N=t(86),U=r(N),B=t(81),F=n(B),V=t(78),H=n(V),q=t(92),z=n(q),W=t(88),G=t(80),Y=r(G),X=t(43),Q=r(X),K=t(105),$=r(K),J=t(62),Z=r(J);if("undefined"==typeof HTMLVideoElement&&F.isReal()&&(l["default"].createElement("video"),l["default"].createElement("audio"),l["default"].createElement("track")),i.hooks_={},i.hooks=function(e,t){return i.hooks_[e]=i.hooks_[e]||[],t&&(i.hooks_[e]=i.hooks_[e].concat(t)),i.hooks_[e]},i.hook=function(e,t){i.hooks(e,t)},i.removeHook=function(e,t){var n=i.hooks(e).indexOf(t);return!(n<=-1||(i.hooks_[e]=i.hooks_[e].slice(),i.hooks_[e].splice(n,1),0))},!0!==s["default"].VIDEOJS_NO_DYNAMIC_STYLE&&F.isReal()){var ee=F.$(".vjs-styles-defaults");if(!ee){ee=p.createStyleElement("vjs-styles-defaults");var te=F.$("head");te&&te.insertBefore(ee,te.firstChild),p.setTextContent(ee,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}d.autoSetupTimeout(1,i),i.VERSION="5.16.0",i.options=w["default"].prototype.options_,i.getPlayers=function(){return w["default"].players},i.players=w["default"].players,i.getComponent=y["default"].getComponent,i.registerComponent=function(e,t){Z["default"].isTech(t)&&U["default"].warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),y["default"].registerComponent.call(y["default"],e,t)},i.getTech=Z["default"].getTech,i.registerTech=Z["default"].registerTech,i.browser=H,i.TOUCH_ENABLED=H.TOUCH_ENABLED,i.extend=Q["default"],i.mergeOptions=O["default"],i.bind=P.bind,i.plugin=S["default"],i.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),i.options.languages=(0,O["default"])(i.options.languages,(n={},n[e]=t,n)),i.options.languages[e]},i.log=U["default"],i.createTimeRange=i.createTimeRanges=L.createTimeRanges,i.formatTime=D["default"],i.parseUrl=z.parseUrl,i.isCrossOrigin=z.isCrossOrigin,i.EventTarget=m["default"],i.on=_.on,i.one=_.one,i.off=_.off,i.trigger=_.trigger,i.xhr=$["default"],i.TextTrack=I["default"],i.AudioTrack=x["default"],i.VideoTrack=M["default"],i.isEl=F.isEl,i.isTextNode=F.isTextNode,i.createEl=F.createEl,i.hasClass=F.hasElClass,i.addClass=F.addElClass,i.removeClass=F.removeElClass,i.toggleClass=F.toggleElClass,i.setAttributes=F.setElAttributes,i.getAttributes=F.getElAttributes,i.emptyEl=F.emptyEl,i.appendContent=F.appendContent,i.insertContent=F.insertContent,i.computedStyle=Y["default"],"function"==typeof e&&e.amd?e("videojs",[],function(){return i}):"object"===(void 0===exports?"undefined":o(exports))&&"object"===(void 0===module?"undefined":o(module))&&(module.exports=i),exports["default"]=i},{105:105,42:42,43:43,5:5,51:51,52:52,56:56,62:62,64:64,72:72,77:77,78:78,80:80,81:81,82:82,83:83,84:84,86:86,87:87,88:88,89:89,90:90,92:92,94:94,95:95}],94:[function(e,module,exports){(function(t){var n=void 0!==t?t:"undefined"!=typeof window?window:{},r=e(96);if("undefined"!=typeof document)module.exports=document;else{var i=n["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=n["__GLOBAL_DOCUMENT_CACHE@4"]=r),module.exports=i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{96:96}],95:[function(e,module,exports){(function(e){"undefined"!=typeof window?module.exports=window:void 0!==e?module.exports=e:"undefined"!=typeof self?module.exports=self:module.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],96:[function(e,module,exports){},{}],97:[function(e,module,exports){function t(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(err){r=err}return[r,n]}module.exports=t},{}],98:[function(e,module,exports){function t(e){return e.replace(/\n\r?\s*/g,"")}module.exports=function(e){for(var n="",r=0;r<arguments.length;r++)n+=t(e[r])+(arguments[r+1]||"");return n}},{}],99:[function(e,module,exports){module.exports={WebVTT:e(100).WebVTT,VTTCue:e(101).VTTCue,VTTRegion:e(103).VTTRegion}},{100:100,101:101,103:103}],100:[function(e,module,exports){!function(e){function t(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function n(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function r(){this.values=h(null)}function i(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length){var s=a[0],u=a[1];t(s,u)}}}function o(e,o,a){function s(){var r=n(e);if(null===r)throw new t(t.Errors.BadTimeStamp,"Malformed timestamp: "+c);return e=e.replace(/^[^\sa-zA-Z-]+/,""),r}function u(e,t){var n=new r;i(e,function(e,t){switch(e){case"region":for(var r=a.length-1;r>=0;r--)if(a[r].id===t){n.set(e,a[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),o=i[0];n.integer(e,o),n.percent(e,o)&&n.set("snapToLines",!1),n.alt(e,o,["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),n.percent(e,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function l(){e=e.replace(/^\s+/,"")}var c=e;if(l(),o.startTime=s(),l(),"--\x3e"!==e.substr(0,3))throw new t(t.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+c);e=e.substr(3),l(),o.endTime=s(),l(),u(e,o)}function a(e,t){function r(){function e(e){return t=t.substr(e.length),e}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return e(n[1]?n[1]:n[2])}function i(e){return y[e]}function o(e){for(;h=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(h[0],i);return e}function a(e,t){return!v[t.localName]||v[t.localName]===e.localName}function s(t,n){var r=g[t];if(!r)return null;var i=e.document.createElement(r);i.localName=r;var o=m[t];return o&&n&&(i[o]=n.trim()),i}for(var u,l=e.document.createElement("div"),c=l,d=[];null!==(u=r());)if("<"!==u[0])c.appendChild(e.document.createTextNode(o(u)));else{if("/"===u[1]){d.length&&d[d.length-1]===u.substr(2).replace(">","")&&(d.pop(),c=c.parentNode);continue}var f,p=n(u.substr(1,u.length-2));if(p){f=e.document.createProcessingInstruction("timestamp",p),c.appendChild(f);continue}var h=u.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h)continue;if(!(f=s(h[1],h[3])))continue;if(!a(c,f))continue;h[2]&&(f.className=h[2].substr(1).replace("."," ")),d.push(h[1]),c.appendChild(f),c=f}return l}function s(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var r=e.pop(),i=r.textContent||r.innerText;if(i){var o=i.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):i}return"ruby"===r.tagName?n(e):r.childNodes?(t(e,r),n(e)):void 0}var r,i=[],o="";if(!e||!e.childNodes)return"ltr";for(t(i,e);o=n(i);)for(var a=0;a<o.length;a++){r=o.charCodeAt(a);for(var s=0;s<_.length;s++)if(_[s]===r)return"rtl"}return"ltr"}function u(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}function l(){}function c(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";r&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),l.call(this),this.cue=t,this.cueDiv=a(e,t.text);var u={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(u.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",u.unicodeBidi="plaintext"),this.applyStyles(u,this.cueDiv),this.div=e.document.createElement("div"),u={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(u.direction=s(this.cueDiv),u.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(u),this.div.appendChild(this.cueDiv);var c=0;switch(t.positionAlign){case"start":c=t.position;break;case"middle":c=t.position-t.size/2;break;case"end":c=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(c,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(c,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function d(e){var t,n,r,i,o=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=t!==undefined?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function f(e,t,n,r){function i(e,t){for(var i,o=new d(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var u=e.intersectPercentage(n);a>u&&(i=new d(e),a=u),e=new d(o)}return i||o}var o=new d(t),a=t.cue,s=u(a),l=[];if(a.snapToLines){var c;switch(a.vertical){case"":l=["+y","-y"],c="height";break;case"rl":l=["+x","-x"],c="width";break;case"lr":l=["-x","+x"],c="width"}var f=o.lineHeight,p=f*Math.round(s),h=n[c]+f,y=l[0];Math.abs(p)>h&&(p=p<0?-1:1,p*=Math.ceil(h/f)*f),s<0&&(p+=""===a.vertical?n.height:n.width,l=l.reverse()),o.move(y,p)}else{var g=o.lineHeight/n.height*100;switch(a.lineAlign){case"middle":s-=g/2;break;case"end":s-=g}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}l=["+y","-x","+x","-y"],o=new d(t)}var m=i(o,l);t.move(m.toCSSCompatValues(n))}function p(){}var h=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();t.prototype=h(Error.prototype),t.prototype.constructor=t,t.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},r.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var y={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"â€Ž","&rlm;":"â€","&nbsp;":"Â "},g={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},m={v:"title",lang:"lang"},v={rt:"ruby"},_=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];l.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},l.prototype.formatStyle=function(e,t){return 0===e?0:e+t},c.prototype=h(l.prototype),c.prototype.constructor=c,d.prototype.move=function(e,t){switch(t=t!==undefined?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},d.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},d.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},d.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},d.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},d.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},d.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},d.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e,{left:e.left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},p.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},p.convertCueToDOMTree=function(e,t){return e&&t?a(e,t):null},p.processCues=function(e,t,n){function r(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),r(t)){var o=[],a=d.getSimpleBoxPosition(i),s=Math.round(.05*a.height*100)/100,u={font:s+"px sans-serif"};!function(){for(var n,r,s=0;s<t.length;s++)r=t[s],n=new c(e,r,u),i.appendChild(n.div),f(e,n,a,o),r.displayState=n.div,o.push(d.getSimpleBoxPosition(n))}()}else for(var l=0;l<t.length;l++)i.appendChild(t[l].displayState)},p.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},p.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof t))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function n(){for(var e=u.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,u.buffer=e.substr(t),n}function a(e){var t=new r;if(i(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var o=new r;if(o.percent("x",i[0]),o.percent("y",i[1]),!o.has("x")||!o.has("y"))break;t.set(e+"X",o.get("x")),t.set(e+"Y",o.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var n=new(u.vttjs.VTTRegion||u.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),u.onregion&&u.onregion(n),u.regionList.push({id:t.get("id"),region:n})}}function s(e){i(e,function(e,t){switch(e){case"Region":a(t)}},/:/)}var u=this;e&&(u.buffer+=u.decoder.decode(e,{stream:!0}));try{var l;if("INITIAL"===u.state){if(!/\r\n|\n/.test(u.buffer))return this;l=n();var c=l.match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new t(t.Errors.BadSignature);u.state="HEADER"}for(var d=!1;u.buffer;){if(!/\r\n|\n/.test(u.buffer))return this;switch(d?d=!1:l=n(),u.state){case"HEADER":/:/.test(l)?s(l):l||(u.state="ID");continue;case"NOTE":l||(u.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(l)){u.state="NOTE";break}if(!l)continue;if(u.cue=new(u.vttjs.VTTCue||u.window.VTTCue)(0,0,""),u.state="CUE",-1===l.indexOf("--\x3e")){u.cue.id=l;continue}case"CUE":try{o(l,u.cue,u.regionList)}catch(e){u.reportOrThrowError(e),u.cue=null,u.state="BADCUE";continue}u.state="CUETEXT";continue;case"CUETEXT":var f=-1!==l.indexOf("--\x3e");if(!l||f&&(d=!0)){u.oncue&&u.oncue(u.cue),u.cue=null,u.state="ID";continue}u.cue.text&&(u.cue.text+="\n"),u.cue.text+=l;continue;case"BADCUE":l||(u.state="ID");continue}}}catch(e){u.reportOrThrowError(e),"CUETEXT"===u.state&&u.cue&&u.oncue&&u.oncue(u.cue),u.cue=null,u.state="INITIAL"===u.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new t(t.Errors.BadSignature)}catch(e){e.reportOrThrowError(e)}return e.onflush&&e.onflush(),this}},e.WebVTT=p}(this,this.vttjs)},{}],101:[function(e,module,exports){void 0!==module&&module.exports&&(this.VTTCue=this.VTTCue||e(102).VTTCue),function(e){e.VTTCue.prototype.toJSON=function(){var e={},t=this;return Object.keys(this).forEach(function(n){"getCueAsHTML"!==n&&"hasBeenReset"!==n&&"displayState"!==n&&(e[n]=t[n])}),e},e.VTTCue.create=function(t){if(!t.hasOwnProperty("startTime")||!t.hasOwnProperty("endTime")||!t.hasOwnProperty("text"))throw new Error("You must at least have start time, end time, and text.");var n=new e.VTTCue(t.startTime,t.endTime,t.text);for(var r in t)n.hasOwnProperty(r)&&(n[r]=t[r]);return n},e.VTTCue.fromJSON=function(e){return this.create(JSON.parse(e))}}(this)},{102:102}],102:[function(e,module,exports){!function(e,t){function n(e){return"string"==typeof e&&!!s[e.toLowerCase()]&&e.toLowerCase()}function r(e){return"string"==typeof e&&!!u[e.toLowerCase()]&&e.toLowerCase()}function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function o(e,t,o){var s=this,u=/MSIE\s8\.0/.test(navigator.userAgent),l={};u?s=document.createElement("custom"):l.enumerable=!0,s.hasBeenReset=!1;var c="",d=!1,f=e,p=t,h=o,y=null,g="",m=!0,v="auto",_="start",b=50,w="middle",T=50,S="middle";if(Object.defineProperty(s,"id",i({},l,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},l,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(s,"startTime",i({},l,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},l,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},l,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},l,{get:function(){return y},set:function(e){y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},l,{get:function(){return g},set:function(e){var t=n(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},l,{get:function(){return m},set:function(e){m=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},l,{get:function(){return v},set:function(e){if("number"!=typeof e&&e!==a)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},l,{get:function(){return _},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},l,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},l,{get:function(){return w},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},l,{get:function(){return T},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},l,{get:function(){return S},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");S=t,this.hasBeenReset=!0}})),s.displayState=undefined,u)return s}var a="auto",s={"":!0,lr:!0,rl:!0},u={start:!0,middle:!0,end:!0,left:!0,right:!0};o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.VTTCue=e.VTTCue||o,t.VTTCue=o}(this,this.vttjs||{})},{}],103:[function(e,module,exports){void 0!==module&&module.exports&&(this.VTTRegion=e(104).VTTRegion),function(e){e.VTTRegion.create=function(t){var n=new e.VTTRegion;for(var r in t)n.hasOwnProperty(r)&&(n[r]=t[r]);return n},e.VTTRegion.fromJSON=function(e){return this.create(JSON.parse(e))}}(this)},{104:104}],104:[function(e,module,exports){!function(e,t){function n(e){return"string"==typeof e&&!!o[e.toLowerCase()]&&e.toLowerCase()}function r(e){return"number"==typeof e&&e>=0&&e<=100}function i(){var e=100,t=3,i=0,o=100,a=0,s=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return u},set:function(e){var t=n(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");u=t}}})}var o={"":!0,up:!0};e.VTTRegion=e.VTTRegion||i,t.VTTRegion=i}(this,this.vttjs||{})},{}],105:[function(e,module,exports){"use strict";function t(e,t){for(var n=0;n<e.length;n++)t(e[n])}function n(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e,t,n){var r=e;return l(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=d(t,{uri:e}),r.callback=n,r}function i(e,t,n){return t=r(e,t,n),o(t)}function o(e){function t(){4===f.readyState&&s()}function r(){var e=undefined;if(e=f.response?f.response:f.responseText||a(f),w)try{e=JSON.parse(e)}catch(e){}return e}function o(e){return clearTimeout(y),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,l(e,d)}function s(){if(!h){var t;clearTimeout(y),t=e.useXDR&&f.status===undefined?200:1223===f.status?204:f.status;var n=d,i=null;return 0!==t?(n={body:r(),statusCode:t,method:m,headers:{},url:g,rawRequest:f},f.getAllResponseHeaders&&(n.headers=c(f.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),l(i,n,n.body)}}if("undefined"==typeof e.callback)throw new Error("callback argument missing");var u=!1,l=function(t,n,r){u||(u=!0,e.callback(t,n,r))},d={body:undefined,headers:{},statusCode:0,method:m,url:g,rawRequest:f},f=e.xhr||null;f||(f=e.cors||e.useXDR?new i.XDomainRequest:new i.XMLHttpRequest);var p,h,y,g=f.url=e.uri||e.url,m=f.method=e.method||"GET",v=e.body||e.data||null,_=f.headers=e.headers||{},b=!!e.sync,w=!1;if("json"in e&&(w=!0,_.accept||_.Accept||(_.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(_["content-type"]||_["Content-Type"]||(_["Content-Type"]="application/json"),v=JSON.stringify(e.json))),f.onreadystatechange=t,f.onload=s,f.onerror=o,f.onprogress=function(){},f.ontimeout=o,f.open(m,g,!b,e.username,e.password),b||(f.withCredentials=!!e.withCredentials),!b&&e.timeout>0&&(y=setTimeout(function(){h=!0,f.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",o(e)},e.timeout)),f.setRequestHeader)for(p in _)_.hasOwnProperty(p)&&f.setRequestHeader(p,_[p]);else if(e.headers&&!n(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(f.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(f),f.send(v),f}function a(e){if("document"===e.responseType)return e.responseXML;var t=204===e.status&&e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function s(){}var u=e(95),l=e(106),c=e(109),d=e(110);module.exports=i,i.XMLHttpRequest=u.XMLHttpRequest||s,i.XDomainRequest="withCredentials"in new i.XMLHttpRequest?i.XMLHttpRequest:u.XDomainRequest,t(["get","put","post","patch","head","delete"],function(e){i["delete"===e?"del":e]=function(t,n,i){return n=r(t,n,i),n.method=e.toUpperCase(),o(n)}})},{106:106,109:109,110:110,95:95}],106:[function(e,module,exports){function t(e){var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}module.exports=t;var n=Object.prototype.toString},{}],107:[function(e,module,exports){function t(e,t,s){if(!o(t))throw new TypeError("iterator must be a function");arguments.length<3&&(s=this),"[object Array]"===a.call(e)?n(e,t,s):"string"==typeof e?r(e,t,s):i(e,t,s)}function n(e,t,n){for(var r=0,i=e.length;r<i;r++)s.call(e,r)&&t.call(n,e[r],r,e)}function r(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}function i(e,t,n){for(var r in e)s.call(e,r)&&t.call(n,e[r],r,e)}var o=e(106);module.exports=t;var a=Object.prototype.toString,s=Object.prototype.hasOwnProperty},{106:106}],108:[function(e,module,exports){function t(e){return e.replace(/^\s*|\s*$/g,"")}exports=module.exports=t,exports.left=function(e){return e.replace(/^\s*/,"")},exports.right=function(e){return e.replace(/\s*$/,"")}},{}],109:[function(e,module,exports){var t=e(108),n=e(107),r=function(e){return"[object Array]"===Object.prototype.toString.call(e)};module.exports=function(e){if(!e)return{};var i={};return n(t(e).split("\n"),function(e){var n=e.indexOf(":"),o=t(e.slice(0,n)).toLowerCase(),a=t(e.slice(n+1));"undefined"==typeof i[o]?i[o]=a:r(i[o])?i[o].push(a):i[o]=[i[o],a]}),i}},{107:107,108:108}],110:[function(e,module,exports){function t(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e}module.exports=t;var n=Object.prototype.hasOwnProperty},{}]},{},[93])(93)}),function(e){"use strict";function t(e){switch(typeof e){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return null===e?"null":"object"}}function n(e){return Object.prototype.toString.call(e).replace(/^\[object *|\]$/g,"")}function r(e){return"function"==typeof e}function i(e){if(null===e||e===I)throw TypeError();return Object(e)}function o(e){return e>>0}function a(e){return e>>>0}function s(t){function n(e){Object.defineProperty(t,e,{get:function(){return t._getter(e)},set:function(n){t._setter(e,n)},enumerable:!0,configurable:!1})}if(!("TYPED_ARRAY_POLYFILL_NO_ARRAY_ACCESSORS"in e)){if(t.length>j)throw RangeError("Array too large for polyfill");var r;for(r=0;r<t.length;r+=1)n(r)}}function u(e,t){var n=32-t;return e<<n>>n}function l(e,t){var n=32-t;return e<<n>>>n}function c(e){return[255&e]}function d(e){return u(e[0],8)}function f(e){return[255&e]}function p(e){return l(e[0],8)}function h(e){return e=U(Number(e)),[e<0?0:e>255?255:255&e]}function y(e){return[255&e,e>>8&255]}function g(e){return u(e[1]<<8|e[0],16)}function m(e){return[255&e,e>>8&255]}function v(e){return l(e[1]<<8|e[0],16)}function _(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function b(e){return u(e[3]<<24|e[2]<<16|e[1]<<8|e[0],32)}function w(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function T(e){return l(e[3]<<24|e[2]<<16|e[1]<<8|e[0],32)}function S(e,t,n){function r(e){var t=M(e),n=e-t;return n<.5?t:n>.5?t+1:t%2?t+1:t}var i,o,a,s=(1<<t-1)-1;if(e!==e)o=(1<<t)-1,a=N(2,n-1),i=0;else if(e===Infinity||e===-Infinity)o=(1<<t)-1,a=0,i=e<0?1:0;else if(0===e)o=0,a=0,i=1/e==-Infinity?1:0;else if(i=e<0,(e=A(e))>=N(2,1-s)){o=D(M(L(e)/x),1023);var u=e/N(2,o);u<1&&(o-=1,u*=2),u>=2&&(o+=1,u/=2);var l=N(2,n);a=r(u*l)-l,o+=s,a/l>=1&&(o+=1,a=0),o>2*s&&(o=(1<<t)-1,a=0)}else o=0,a=r(e/N(2,1-s-n));var c,d=[];for(c=n;c;c-=1)d.push(a%2?1:0),a=M(a/2);for(c=t;c;c-=1)d.push(o%2?1:0),o=M(o/2);d.push(i?1:0),d.reverse();for(var f=d.join(""),p=[];f.length;)p.unshift(parseInt(f.substring(0,8),2)),f=f.substring(8);return p}function E(e,t,n){var r,i,o,a,s,u,l,c,d=[];for(r=0;r<e.length;++r)for(o=e[r],i=8;i;i-=1)d.push(o%2?1:0),o>>=1;return d.reverse(),a=d.join(""),s=(1<<t-1)-1,u=parseInt(a.substring(0,1),2)?-1:1,l=parseInt(a.substring(1,1+t),2),c=parseInt(a.substring(1+t),2),l===(1<<t)-1?0!==c?NaN:u*Infinity:l>0?u*N(2,l-s)*(1+c/N(2,n)):0!==c?u*N(2,-(s-1))*(c/N(2,n)):u<0?-0:0}function O(e){return E(e,11,52)}function k(e){return S(e,11,52)}function P(e){return E(e,8,23)}function C(e){return S(e,8,23)}var I=void 0,j=1e5,x=Math.LN2,A=Math.abs,M=Math.floor,L=Math.log,R=Math.max,D=Math.min,N=Math.pow,U=Math.round;!function(){var e=Object.defineProperty,t=!function(){try{return Object.defineProperty({},"x",{})}catch(_){return!1}}();e&&!t||(Object.defineProperty=function(t,n,r){if(e)try{return e(t,n,r)}catch(_){}if(t!==Object(t))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(t,n,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(t,n,r.set),"value"in r&&(t[n]=r.value),t})}(),function(){function u(e){if((e=o(e))<0)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"_bytes",{value:Array(e)});for(var t=0;t<e;t+=1)this._bytes[t]=0}function l(){if(!arguments.length||"object"!=typeof arguments[0])return function(e){if((e=o(e))<0)throw RangeError("length is not a small enough positive integer.");Object.defineProperty(this,"length",{value:e}),Object.defineProperty(this,"byteLength",{value:e*this.BYTES_PER_ELEMENT}),Object.defineProperty(this,"buffer",{value:new u(this.byteLength)}),Object.defineProperty(this,"byteOffset",{value:0})}.apply(this,arguments);if(arguments.length>=1&&"object"===t(arguments[0])&&arguments[0]instanceof l)return function(e){if(this.constructor!==e.constructor)throw TypeError();var t=e.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new u(t)}),Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:e.length});for(var n=0;n<this.length;n+=1)this._setter(n,e._getter(n))}.apply(this,arguments);if(arguments.length>=1&&"object"===t(arguments[0])&&!(arguments[0]instanceof l)&&!(arguments[0]instanceof u||"ArrayBuffer"===n(arguments[0])))return function(e){var t=e.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new u(t)}),Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:e.length});for(var n=0;n<this.length;n+=1){var r=e[n];this._setter(n,Number(r))}}.apply(this,arguments);if(arguments.length>=1&&"object"===t(arguments[0])&&(arguments[0]instanceof u||"ArrayBuffer"===n(arguments[0])))return function(e,t,n){if((t=a(t))>e.byteLength)throw RangeError("byteOffset out of range");if(t%this.BYTES_PER_ELEMENT)throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");if(n===I){var r=e.byteLength-t;if(r%this.BYTES_PER_ELEMENT)throw RangeError("length of buffer minus byteOffset not a multiple of the element size");n=r/this.BYTES_PER_ELEMENT}else n=a(n),r=n*this.BYTES_PER_ELEMENT;if(t+r>e.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:e}),Object.defineProperty(this,"byteLength",{value:r}),Object.defineProperty(this,"byteOffset",{value:t}),Object.defineProperty(this,"length",{value:n})}.apply(this,arguments);throw TypeError()}function S(e,t,n){var r=function(){Object.defineProperty(this,"constructor",{value:r}),l.apply(this,arguments),s(this)};"__proto__"in r?r.__proto__=l:(r.from=l.from,r.of=l.of),r.BYTES_PER_ELEMENT=e;var i=function(){};return i.prototype=E,r.prototype=new i,Object.defineProperty(r.prototype,"BYTES_PER_ELEMENT",{value:e}),Object.defineProperty(r.prototype,"_pack",{value:t}),Object.defineProperty(r.prototype,"_unpack",{value:n}),r}e.ArrayBuffer=e.ArrayBuffer||u,Object.defineProperty(l,"from",{value:function(e){return new this(e)}}),Object.defineProperty(l,"of",{value:function(){return new this(arguments)}});var E={};l.prototype=E,Object.defineProperty(l.prototype,"_getter",{value:function(e){if(arguments.length<1)throw SyntaxError("Not enough arguments");if((e=a(e))>=this.length)return I;var t,n,r=[];for(t=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;t<this.BYTES_PER_ELEMENT;t+=1,n+=1)r.push(this.buffer._bytes[n]);return this._unpack(r)}}),Object.defineProperty(l.prototype,"get",{value:l.prototype._getter}),Object.defineProperty(l.prototype,"_setter",{value:function(e,t){if(arguments.length<2)throw SyntaxError("Not enough arguments");if(!((e=a(e))>=this.length)){var n,r,i=this._pack(t);for(n=0,r=this.byteOffset+e*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,r+=1)this.buffer._bytes[r]=i[n]}}}),Object.defineProperty(l.prototype,"constructor",{value:l}),Object.defineProperty(l.prototype,"copyWithin",{value:function(e,t){var n=arguments[2],r=i(this),s=r.length,u=a(s);u=R(u,0);var l,c=o(e);l=c<0?R(u+c,0):D(c,u);var d,f=o(t);d=f<0?R(u+f,0):D(f,u);var p;p=n===I?u:o(n);var h;h=p<0?R(u+p,0):D(p,u);var y,g=D(h-d,u-l);for(d<l&&l<d+g?(y=-1,d=d+g-1,l=l+g-1):y=1;g>0;)r._setter(l,r._getter(d)),d+=y,l+=y,g-=1;return r}}),Object.defineProperty(l.prototype,"every",{value:function(e){if(this===I||null===this)throw TypeError();var t=Object(this),n=a(t.length);if(!r(e))throw TypeError();for(var i=arguments[1],o=0;o<n;o++)if(!e.call(i,t._getter(o),o,t))return!1;return!0}}),Object.defineProperty(l.prototype,"fill",{value:function(e){var t=arguments[1],n=arguments[2],r=i(this),s=r.length,u=a(s);u=R(u,0);var l,c=o(t);l=c<0?R(u+c,0):D(c,u);var d;d=n===I?u:o(n);var f;for(f=d<0?R(u+d,0):D(d,u);l<f;)r._setter(l,e),l+=1;return r}}),Object.defineProperty(l.prototype,"filter",{value:function(e){if(this===I||null===this)throw TypeError();var t=Object(this),n=a(t.length);if(!r(e))throw TypeError();for(var i=[],o=arguments[1],s=0;s<n;s++){var u=t._getter(s);e.call(o,u,s,t)&&i.push(u)}return new this.constructor(i)}}),Object.defineProperty(l.prototype,"find",{value:function(e){var t=i(this),n=t.length,o=a(n);if(!r(e))throw TypeError();for(var s=arguments.length>1?arguments[1]:I,u=0;u<o;){var l=t._getter(u),c=e.call(s,l,u,t);if(Boolean(c))return l;++u}return I}}),Object.defineProperty(l.prototype,"findIndex",{value:function(e){var t=i(this),n=t.length,o=a(n);if(!r(e))throw TypeError();for(var s=arguments.length>1?arguments[1]:I,u=0;u<o;){var l=t._getter(u),c=e.call(s,l,u,t);if(Boolean(c))return u;++u}return-1}}),Object.defineProperty(l.prototype,"forEach",{value:function(e){if(this===I||null===this)throw TypeError();var t=Object(this),n=a(t.length);if(!r(e))throw TypeError();for(var i=arguments[1],o=0;o<n;o++)e.call(i,t._getter(o),o,t)}}),Object.defineProperty(l.prototype,"indexOf",{value:function(e){if(this===I||null===this)throw TypeError();var t=Object(this),n=a(t.length);if(0===n)return-1;var r=0;if(arguments.length>0&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(r>0||-1)*M(A(r)))),r>=n)return-1;for(var i=r>=0?r:R(n-A(r),0);i<n;i++)if(t._getter(i)===e)return i;return-1}}),Object.defineProperty(l.prototype,"join",{value:function(e){if(this===I||null===this)throw TypeError();for(var t=Object(this),n=a(t.length),r=Array(n),i=0;i<n;++i)r[i]=t._getter(i);return r.join(e===I?",":e)}}),Object.defineProperty(l.prototype,"lastIndexOf",{value:function(e){if(this===I||null===this)throw TypeError();var t=Object(this),n=a(t.length);if(0===n)return-1;var r=n;arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(r>0||-1)*M(A(r))));for(var i=r>=0?D(r,n-1):n-A(r);i>=0;i--)if(t._getter(i)===e)return i;return-1}}),Object.defineProperty(l.prototype,"map",{value:function(e){if(this===I||null===this)throw TypeError();var t=Object(this),n=a(t.length);if(!r(e))throw TypeError();var i=[];i.length=n;for(var o=arguments[1],s=0;s<n;s++)i[s]=e.call(o,t._getter(s),s,t);return new this.constructor(i)}}),Object.defineProperty(l.prototype,"reduce",{value:function(e){if(this===I||null===this)throw TypeError();var t=Object(this),n=a(t.length);if(!r(e))throw TypeError();if(0===n&&1===arguments.length)throw TypeError();var i,o=0;for(i=arguments.length>=2?arguments[1]:t._getter(o++);o<n;)i=e.call(I,i,t._getter(o),o,t),o++;return i}}),Object.defineProperty(l.prototype,"reduceRight",{value:function(e){if(this===I||null===this)throw TypeError();var t=Object(this),n=a(t.length);if(!r(e))throw TypeError();if(0===n&&1===arguments.length)throw TypeError();var i,o=n-1;for(i=arguments.length>=2?arguments[1]:t._getter(o--);o>=0;)i=e.call(I,i,t._getter(o),o,t),o--;return i}}),Object.defineProperty(l.prototype,"reverse",{value:function(){if(this===I||null===this)throw TypeError();for(var e=Object(this),t=a(e.length),n=M(t/2),r=0,i=t-1;r<n;++r,--i){var o=e._getter(r);e._setter(r,e._getter(i)),e._setter(i,o)}return e}}),Object.defineProperty(l.prototype,"set",{value:function(e,t){if(arguments.length<1)throw SyntaxError("Not enough arguments");var n,r,i,o,s,u,l,c,d,f;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(n=arguments[0],(i=a(arguments[1]))+n.length>this.length)throw RangeError("Offset plus length of array is out of range");if(c=this.byteOffset+i*this.BYTES_PER_ELEMENT,d=n.length*this.BYTES_PER_ELEMENT,n.buffer===this.buffer){for(f=[],s=0,u=n.byteOffset;s<d;s+=1,u+=1)f[s]=n.buffer._bytes[u];for(s=0,l=c;s<d;s+=1,l+=1)this.buffer._bytes[l]=f[s]}else for(s=0,u=n.byteOffset,l=c;s<d;s+=1,u+=1,l+=1)this.buffer._bytes[l]=n.buffer._bytes[u]}else{if("object"!=typeof arguments[0]||"undefined"==typeof arguments[0].length)throw TypeError("Unexpected argument type(s)");if(r=arguments[0],o=a(r.length),(i=a(arguments[1]))+o>this.length)throw RangeError("Offset plus length of array is out of range");for(s=0;s<o;s+=1)u=r[s],this._setter(i+s,Number(u))}}}),Object.defineProperty(l.prototype,"slice",{value:function(e,t){for(var n=i(this),r=n.length,s=a(r),u=o(e),l=u<0?R(s+u,0):D(u,s),c=t===I?s:o(t),d=c<0?R(s+c,0):D(c,s),f=d-l,p=n.constructor,h=new p(f),y=0;l<d;){var g=n._getter(l);h._setter(y,g),++l,++y}return h}}),Object.defineProperty(l.prototype,"some",{value:function(e){if(this===I||null===this)throw TypeError();var t=Object(this),n=a(t.length);if(!r(e))throw TypeError();for(var i=arguments[1],o=0;o<n;o++)if(e.call(i,t._getter(o),o,t))return!0;return!1}}),Object.defineProperty(l.prototype,"sort",{value:function(e){if(this===I||null===this)throw TypeError();for(var t=Object(this),n=a(t.length),r=Array(n),i=0;i<n;++i)r[i]=t._getter(i);for(e?r.sort(e):r.sort(),i=0;i<n;++i)t._setter(i,r[i]);return t}}),Object.defineProperty(l.prototype,"subarray",{value:function(e,t){function n(e,t,n){return e<t?t:e>n?n:e}e=o(e),t=o(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=n(e,0,this.length),t=n(t,0,this.length);var r=t-e;return r<0&&(r=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,r)}});var j=S(1,c,d),x=S(1,f,p),L=S(1,h,p),N=S(2,y,g),U=S(2,m,v),B=S(4,_,b),F=S(4,w,T),V=S(4,C,P),H=S(8,k,O);e.Int8Array=e.Int8Array||j,e.Uint8Array=e.Uint8Array||x,e.Uint8ClampedArray=e.Uint8ClampedArray||L,e.Int16Array=e.Int16Array||N,e.Uint16Array=e.Uint16Array||U,e.Int32Array=e.Int32Array||B,e.Uint32Array=e.Uint32Array||F,e.Float32Array=e.Float32Array||V,e.Float64Array=e.Float64Array||H}(),function(){function t(e,t){return r(e.get)?e.get(t):e[t]}function i(e,t,r){if(!(e instanceof ArrayBuffer||"ArrayBuffer"===n(e)))throw TypeError();if((t=a(t))>e.byteLength)throw RangeError("byteOffset out of range");if(r=r===I?e.byteLength-t:a(r),t+r>e.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:e}),Object.defineProperty(this,"byteLength",{value:r}),Object.defineProperty(this,"byteOffset",{value:t})}function o(e){return function(n,r){if((n=a(n))+e.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");n+=this.byteOffset;for(var i=new Uint8Array(this.buffer,n,e.BYTES_PER_ELEMENT),o=[],s=0;s<e.BYTES_PER_ELEMENT;s+=1)o.push(t(i,s));return Boolean(r)===Boolean(u)&&o.reverse(),t(new e(new Uint8Array(o).buffer),0)}}function s(e){return function(n,r,i){if((n=a(n))+e.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");var o,s,l=new e([r]),c=new Uint8Array(l.buffer),d=[];for(o=0;o<e.BYTES_PER_ELEMENT;o+=1)d.push(t(c,o));Boolean(i)===Boolean(u)&&d.reverse(),s=new Uint8Array(this.buffer,n,e.BYTES_PER_ELEMENT),s.set(d)}}var u=function(){var e=new Uint16Array([4660]);return 18===t(new Uint8Array(e.buffer),0)}();Object.defineProperty(i.prototype,"getUint8",{value:o(Uint8Array)}),Object.defineProperty(i.prototype,"getInt8",{value:o(Int8Array)}),Object.defineProperty(i.prototype,"getUint16",{value:o(Uint16Array)}),Object.defineProperty(i.prototype,"getInt16",{value:o(Int16Array)}),Object.defineProperty(i.prototype,"getUint32",{value:o(Uint32Array)}),Object.defineProperty(i.prototype,"getInt32",{value:o(Int32Array)}),Object.defineProperty(i.prototype,"getFloat32",{value:o(Float32Array)}),Object.defineProperty(i.prototype,"getFloat64",{value:o(Float64Array)}),Object.defineProperty(i.prototype,"setUint8",{value:s(Uint8Array)}),Object.defineProperty(i.prototype,"setInt8",{value:s(Int8Array)}),Object.defineProperty(i.prototype,"setUint16",{value:s(Uint16Array)}),Object.defineProperty(i.prototype,"setInt16",{value:s(Int16Array)}),Object.defineProperty(i.prototype,"setUint32",{value:s(Uint32Array)}),Object.defineProperty(i.prototype,"setInt32",{value:s(Int32Array)}),Object.defineProperty(i.prototype,"setFloat32",{value:s(Float32Array)}),Object.defineProperty(i.prototype,"setFloat64",{value:s(Float64Array)}),e.DataView=e.DataView||i}()}(self),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojsContribAds=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){return i(t[a][1][e]||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(require,module,exports){"use strict";var e=function(e){if(!e.ads.cancelPlayTimeout){if(videojs.browser.IS_IOS&&videojs.browser.IS_IPHONE&&!e.el_.hasAttribute("playsinline")){var t=e.currentWidth?e.currentWidth():e.width(),n=e.currentHeight?e.currentHeight():e.height(),r=document.createElement("div");r.style.width=t+"px",r.style.height=n+"px",r.style.background="black",e.el_.parentNode.insertBefore(r,e.el_),e.el_.style.display="none",e.one(["adstart","adplaying","adtimeout","adserror","adscanceled","adskip","playing"],function(){e.el_.style.display="block",r.remove()}),e.on("fullscreenchange",function(){r&&e.hasClass("vjs-fullscreen")&&(e.el_.style.display="block",r.remove())})}e.ads.cancelPlayTimeout=window.setTimeout(function(){e.ads.cancelPlayTimeout=null,e.paused()||e.pause(),e.ads.cancelledPlay=!0},1)}};module.exports=e},{}],2:[function(require,module,exports){"use strict";var e=function(e){e.ads.contentSrc=e.currentSrc();var t=function(){if("ad-playback"!==e.ads.state){var t=e.currentSrc();t!==e.ads.contentSrc&&(e.trigger({type:"contentupdate",oldValue:e.ads.contentSrc,newValue:t}),e.ads.contentSrc=t)}};e.on("loadstart",t),window.setTimeout(t,1)};module.exports=e},{}],3:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,r=(t(n),function(e,t,n){n.isImmediatePropagationStopped=function(){return!0},n.cancelBubble=!0,n.isPropagationStopped=function(){return!0},e.trigger({type:t+n.type,state:e.ads.state,originalEvent:n})}),i=function(e){if("playing"===e.type&&"preroll?"===this.ads.state)r(this,"ad",e);else if("playing"!==e.type||"ad-playback"!==this.ads.state||this.ads.videoElementRecycled())if("playing"===e.type&&"ads-ready?"===this.ads.state)r(this,"ad",e);else{if("playing"===e.type&&"ad-playback"===this.ads.state&&this.ads.videoElementRecycled())return void r(this,"adcontent",e);if("ad-playback"===this.ads.state)(this.ads.videoElementRecycled()||this.ads.stitchedAds())&&r(this,"ad",e);else if("content-playback"===this.ads.state&&"ended"===e.type)r(this,"content",e);else if("content-resuming"===this.ads.state){if(this.ads.snapshot&&this.currentSrc()!==this.ads.snapshot.currentSrc){if("loadstart"===e.type)return;return r(this,"content",e)}if(this.ads.snapshot&&this.ads.snapshot.ended){if("pause"===e.type||"ended"===e.type)return;return r(this,"content",e)}"playing"!==e.type&&r(this,"content",e)}}else r(this,"ad",e)};module.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,r=t(n),i={};i.getPlayerSnapshot=function(e){var t=void 0;t=r["default"].browser.IS_IOS&&e.ads.isLive(e)&&e.seekable().length>0?e.currentTime()-e.seekable().end(0):e.currentTime();var n=e.$(".vjs-tech"),i=e.remoteTextTracks?e.remoteTextTracks():[],o=[],a={ended:e.ended(),currentSrc:e.currentSrc(),src:e.src(),currentTime:t,type:e.currentType()};n&&(a.nativePoster=n.poster,a.style=n.getAttribute("style"));for(var s=i.length;s>0;s--){var u=i[s];o.push({track:u,mode:u.mode}),u.mode="disabled"}return a.suppressedTracks=o,a},i.restorePlayerSnapshot=function(e,t,n){if(!0===e.ads.disableNextSnapshotRestore)return void(e.ads.disableNextSnapshotRestore=!1);var i=e.$(".vjs-tech"),o=100,a=t.suppressedTracks,s=void 0,u=function(){for(var e=a.length;e>0;e--)s=a[e],s.track.mode=s.mode},l=function(){var n=void 0;r["default"].browser.IS_IOS&&e.ads.isLive(e)?t.currentTime<0&&(n=e.seekable().length>0?e.seekable().end(0)+t.currentTime:e.currentTime(),e.currentTime(n)):t.ended?(e.currentTime(0),e.trigger("timeupdate")):e.currentTime(t.currentTime),t.ended||e.play()},c=function d(){if(e.off("contentcanplay",d),e.ads.tryToResumeTimeout_&&(e.clearTimeout(e.ads.tryToResumeTimeout_),e.ads.tryToResumeTimeout_=null),i=e.el().querySelector(".vjs-tech"),i.readyState>1)return l();if(i.seekable===undefined)return l();if(i.seekable.length>0)return l();if(o--)window.setTimeout(d,10);else try{l()}catch(e){r["default"].log.warn("Failed to resume the content after an advertisement",e)}};t.nativePoster&&(i.poster=t.nativePoster),"style"in t&&i.setAttribute("style",t.style||""),e.ads.videoElementRecycled()?(e.one("contentloadedmetadata",u),e.src({src:t.currentSrc,type:t.type}),e.load(),e.one("contentcanplay",c),e.ads.tryToResumeTimeout_=e.setTimeout(c,n.resumePeriod)):e.ended()&&t.ended||(u(),e.play())},module.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,r=t(n),i=require("./redispatch.js"),o=t(i),a=require("./snapshot.js"),s=t(a),u=require("./contentupdate.js"),l=t(u),c=require("./cancelContentPlay.js"),d=t(c),f=r["default"].getComponent("Html5").Events,p=function(e){var t=e.$(".vjs-tech");t&&t.removeAttribute("poster")},h={timeout:5e3,prerollTimeout:100,postrollTimeout:100,debug:!1,stitchedAds:!1,resumePeriod:500},y=function(e){var t=this,n=r["default"].mergeOptions(h,e),i=f.concat(["firstplay","loadedalldata","playing"]);t.on(i,o["default"]),t.on(["pause","ended"],function(){"content-resuming"===t.ads.state&&t.ads.snapshot&&t.ads.snapshot.ended&&t.addClass("vjs-has-started")}),t.on(["addurationchange","adcanplay"],function(){t.currentSrc()!==t.ads.snapshot.currentSrc&&t.play()}),t.on("nopreroll",function(){t.ads.nopreroll_=!0}),t.on("nopostroll",function(){t.ads.nopostroll_=!0}),t.on(["ads-ad-started","playing"],function(){t.removeClass("vjs-ad-loading")}),t.ads={state:"content-set",disableNextSnapshotRestore:!1,VERSION:"4.0.0",startLinearAdMode:function(){"preroll?"!==t.ads.state&&"content-playback"!==t.ads.state&&"postroll?"!==t.ads.state||t.trigger("adstart")},endLinearAdMode:function(){"ad-playback"===t.ads.state&&(t.trigger("adend"),t.removeClass("vjs-ad-loading"))},skipLinearAdMode:function(){"ad-playback"!==t.ads.state&&t.trigger("adskip")},stitchedAds:function(e){return e!==undefined&&(this._stitchedAds=!!e),this._stitchedAds},videoElementRecycled:function(){var e=void 0,n=void 0;if(!this.snapshot)throw new Error("You cannot use videoElementRecycled while there is no snapshot.");return e=t.src()!==this.snapshot.src,n=t.currentSrc()!==this.snapshot.currentSrc,e||n},isLive:function(e){return e.duration()===Infinity||"8"===r["default"].browser.IOS_VERSION&&0===e.duration()},shouldPlayContentBehindAd:function(e){return!r["default"].browser.IS_IOS&&!r["default"].browser.IS_ANDROID&&e.duration()===Infinity}},t.ads.stitchedAds(n.stitchedAds),(0,l["default"])(t);var a={"content-set":{events:{adscanceled:function(){this.state="content-playback"},adsready:function(){this.state="ads-ready"},play:function(){this.state="ads-ready?",(0,d["default"])(t),p(t)},adserror:function(){this.state="content-playback"},adskip:function(){this.state="content-playback"}}},"ads-ready":{events:{play:function(){this.state="preroll?",(0,d["default"])(t)},adskip:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"preroll?":{enter:function(){t.ads.nopreroll_?(t.trigger("readyforpreroll"),window.setTimeout(function(){t.trigger("nopreroll")},1)):(t.addClass("vjs-ad-loading"),t.ads.adTimeoutTimeout=window.setTimeout(function(){t.trigger("adtimeout")},n.prerollTimeout),t.trigger("readyforpreroll"))},leave:function(){window.clearTimeout(t.ads.adTimeoutTimeout)},events:{play:function(){(0,d["default"])(t)},adstart:function(){this.state="ad-playback"},adskip:function(){this.state="content-playback"},adtimeout:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"},nopreroll:function(){this.state="content-playback"}}},"ads-ready?":{enter:function(){t.addClass("vjs-ad-loading"),t.ads.adTimeoutTimeout=window.setTimeout(function(){t.trigger("adtimeout")},n.timeout)},leave:function(){window.clearTimeout(t.ads.adTimeoutTimeout),t.removeClass("vjs-ad-loading")},events:{play:function(){(0,d["default"])(t)},adscanceled:function(){this.state="content-playback"},adsready:function(){this.state="preroll?"},adskip:function(){this.state="content-playback"},adtimeout:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"ad-playback":{enter:function(){t.ads.shouldPlayContentBehindAd(t)||(this.snapshot=s["default"].getPlayerSnapshot(t)),t.ads.shouldPlayContentBehindAd(t)&&(this.preAdVolume_=t.volume(),t.volume(0)),t.addClass("vjs-ad-playing"),p(t),t.ads.cancelPlayTimeout&&window.setTimeout(function(){window.clearTimeout(t.ads.cancelPlayTimeout),t.ads.cancelPlayTimeout=null},1)},leave:function(){t.removeClass("vjs-ad-playing"),t.ads.shouldPlayContentBehindAd(t)||s["default"].restorePlayerSnapshot(t,this.snapshot,n),t.ads.shouldPlayContentBehindAd(t)&&t.volume(this.preAdVolume_)},events:{adend:function(){this.state="content-resuming"},adserror:function(){this.state="content-resuming",t.trigger("adend")}}},"content-resuming":{enter:function(){this.snapshot&&this.snapshot.ended&&(window.clearTimeout(t.ads._fireEndedTimeout),t.ads._fireEndedTimeout=window.setTimeout(function(){t.trigger("ended")},1e3))},leave:function(){window.clearTimeout(t.ads._fireEndedTimeout)},events:{contentupdate:function(){this.state="content-set"},contenttimeupdate:function(){this.state="content-playback"},contentresumed:function(){this.state="content-playback"},playing:function(){this.state="content-playback"},ended:function(){this.state="content-playback"}}},"postroll?":{enter:function(){this.snapshot=s["default"].getPlayerSnapshot(t),t.ads.nopostroll_?window.setTimeout(function(){t.ads.state="content-resuming",t.trigger("ended")},1):(t.addClass("vjs-ad-loading"),t.ads.adTimeoutTimeout=window.setTimeout(function(){t.trigger("adtimeout")},n.postrollTimeout))},leave:function(){window.clearTimeout(t.ads.adTimeoutTimeout),t.removeClass("vjs-ad-loading")},events:{adstart:function(){this.state="ad-playback"},adskip:function(){this.state="content-resuming",window.setTimeout(function(){t.trigger("ended")},1)},adtimeout:function(){this.state="content-resuming",window.setTimeout(function(){t.trigger("ended")},1)},adserror:function(){this.state="content-resuming",window.setTimeout(function(){t.trigger("ended")},1)},contentupdate:function(){this.state="ads-ready?"}}},"content-playback":{enter:function(){t.ads.cancelPlayTimeout&&(window.clearTimeout(t.ads.cancelPlayTimeout),t.ads.cancelPlayTimeout=null),t.ads.cancelledPlay&&(t.ads.cancelledPlay=!1,t.paused()&&t.play())},events:{adsready:function(){t.trigger("readyforpreroll")},adstart:function(){this.state="ad-playback"},contentupdate:function(){t.paused()?this.state="content-set":this.state="ads-ready?",this.snapshot&&this.snapshot.ended&&(this.snapshot=null)},contentended:function(){t.ads.snapshot&&t.ads.snapshot.ended||(this.state="postroll?")},play:function(){t.currentSrc()!==t.ads.contentSrc&&(0,d["default"])(t)}}}},u=function(e){var i=t.ads.state,o=a[i].events;if(o){var s=o[e.type];s&&s.apply(t.ads)}if(i!==t.ads.state){var u=i,l=t.ads.state;t.ads.triggerevent=e.type,a[u].leave&&a[u].leave.apply(t.ads),a[l].enter&&a[l].enter.apply(t.ads),n.debug&&r["default"].log("ads",t.ads.triggerevent+" triggered: "+u+" -> "+l)}};t.on(f.concat(["adtimeout","contentupdate","contenttimeupdate","contentplaying","contentended","contentresumed","adstart","adend","adskip","adsready","adserror","adscanceled","nopreroll"]),u),t.paused()||u({type:"play"})};r["default"].plugin("ads",y)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cancelContentPlay.js":1,"./contentupdate.js":2,"./redispatch.js":3,"./snapshot.js":4}]},{},[5])(5)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojsContribHls=e()}}(function(){var e;return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){return i(e[a][1][t]||t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(require,module,exports){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function e(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(err){i=!0,o=err}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=require("global/window"),r=e(n),i=function(e,t){for(var n=e.cues,r=0;r<n.length;r++){var i=n[r];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null},o=function(e,n){var o=arguments.length<=2||arguments[2]===undefined?0:arguments[2];if(e.segments)for(var a=o,s=undefined,u=0;u<e.segments.length;u++){var l=e.segments[u];if(s||(s=i(n,a+l.duration/2)),s){if("cueIn"in l){s.endTime=a,s.adEndTime=a,a+=l.duration,s=null;continue}if(a<s.endTime){a+=l.duration;continue}s.endTime+=l.duration}else if("cueOut"in l&&(s=new r["default"].VTTCue(a,a+l.duration,l.cueOut),s.adStartTime=a,s.adEndTime=a+parseFloat(l.cueOut),n.addCue(s)),"cueOutCont"in l){var c=undefined,d=undefined,f=l.cueOutCont.split("/").map(parseFloat),p=t(f,2);c=p[0],d=p[1],s=new r["default"].VTTCue(a,a+l.duration,""),s.adStartTime=a-c,s.adEndTime=s.adStartTime+d,n.addCue(s)}a+=l.duration}};exports["default"]={updateAdCues:o,findAdCue:i},module.exports=exports["default"]},{"global/window":32}],2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(e,t){return e.start(t)+"-"+e.end(t)},t=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},n=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},r=function(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n];ArrayBuffer.isView(r)?t[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[n]=r}),t},i=function(e){var t=e.byterange||{length:Infinity,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},o={hexDump:function(e){for(var r=Array.prototype.slice.call(e),i=16,o="",a=undefined,s=undefined,u=0;u<r.length/i;u++)a=r.slice(u*i,u*i+i).map(t).join(""),s=r.slice(u*i,u*i+i).map(n).join(""),o+=a+" "+s+"\n";return o},tagDump:function(e){return o.hexDump(e.bytes)},textRanges:function(t){var n="",r=undefined;for(r=0;r<t.length;r++)n+=e(t,r)+" ";return n},createTransferableMessage:r,initSegmentId:i};exports["default"]=o,module.exports=exports["default"]},{}],3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},module.exports=exports["default"]},{}],4:[function(require,module,exports){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("global/window"),n=e(t),r=require("aes-decrypter"),i=require("./bin-utils"),o=function(e){e.onmessage=function(e){var t=e.data,o=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),a=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),s=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new r.Decrypter(o,a,s,function(e,r){n["default"].postMessage((0,i.createTransferableMessage)({source:t.source,decrypted:r}),[r.buffer])})}};exports["default"]=function(e){return new o(e)},module.exports=exports["default"]},{"./bin-utils":2,"aes-decrypter":25,"global/window":32}],5:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=o,n=a,r=!0,s=l=undefined}},a=require("./playlist-loader"),s=t(a),u=require("./playlist.js"),l=require("./segment-loader"),c=t(l),d=require("./vtt-segment-loader"),f=t(d),p=require("./ranges"),h=t(p),y="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,g=t(y),m=require("./ad-cue-tags"),v=t(m),_=require("./sync-controller"),b=t(_),w=require("videojs-contrib-media-sources/es5/codec-utils"),T=require("webwackify"),S=t(T),E=require("./decrypter-worker"),O=t(E),k=require("./config"),P=t(k),C=require("./util/codecs.js"),I=require("./media-groups"),j=120,x=undefined,A={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},M=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],L=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},R=function(){var e=undefined;try{e=require.resolve("./decrypter-worker")}catch(e){}return e},D=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return(0,w.translateLegacyCodecs)([e])[0]})};exports.mapLegacyAvcCodecs_=D;var N=function(e,t,n){return e+"/"+t+'; codecs="'+n.filter(function(e){return!!e}).join(", ")+'"'},U=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"},B=function(e){var t=e.attributes||{};return t.CODECS?(0,C.parseCodecs)(t.CODECS):A},F=function(e,t){var n=U(t),r=B(t),i=t.attributes||{},o=!0,a=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&i.AUDIO){var s=e.mediaGroups.AUDIO[i.AUDIO];if(s){a=!0,o=!1;for(var u in s)if(!s[u].uri){o=!0;break}}}a&&!r.audioProfile&&(g["default"].log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),r.audioProfile=A.audioProfile);var l={};r.videoCodec&&(l.video=""+r.videoCodec+r.videoObjectTypeIndicator),r.audioProfile&&(l.audio="mp4a.40."+r.audioProfile);var c=N("audio",n,[l.audio]),d=N("video",n,[l.video]),f=N("video",n,[l.video,l.audio]);return a?!o&&l.video?[d,c]:[f,c]:l.video?[f]:[c]};exports.mimeTypesForPlaylist_=F;var V=function(e){function t(e){var r=this;n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var i=e.url,a=e.withCredentials,u=e.mode,l=e.tech,d=e.bandwidth,p=e.externHls,h=e.useCueTags,y=e.blacklistDuration,m=e.enableLowInitialPlaylist;if(!i)throw new Error("A non-empty playlist URL is required");x=p,this.withCredentials=a,this.tech_=l,this.hls_=l.hls,this.mode_=u,this.useCueTags_=h,this.blacklistDuration=y,this.enableLowInitialPlaylist=m,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:this.withCredentials,timeout:null},this.mediaTypes_=(0,I.createMediaTypes)(),this.mediaSource=new g["default"].MediaSource({mode:u}),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this)),this.seekable_=g["default"].createTimeRanges(),this.hasPlayed_=function(){return!1},this.syncController_=new b["default"](e),this.segmentMetadataTrack_=l.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=(0,S["default"])(O["default"],R());var v={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function(){return r.seekable()},seeking:function(){return r.tech_.seeking()},duration:function(){return r.mediaSource.duration},hasPlayed:function(){return r.hasPlayed_()},goalBufferLength:function(){return r.goalBufferLength()},bandwidth:d,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new s["default"](i,this.hls_,this.withCredentials),this.setupMasterPlaylistLoaderListeners_(),this.mainSegmentLoader_=new c["default"](g["default"].mergeOptions(v,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new c["default"](g["default"].mergeOptions(v,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new f["default"](g["default"].mergeOptions(v,{loaderType:"vtt"}),e),this.setupSegmentLoaderListeners_(),M.forEach(function(e){r[e+"_"]=L.bind(r,e)}),this.masterPlaylistLoader_.load()}return r(t,e),i(t,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=e.masterPlaylistLoader_.media(),n=1.5*e.masterPlaylistLoader_.targetDuration*1e3;(0,u.isLowestEnabledRendition)(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),(0,I.setupMediaGroups)({segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,mode:e.mode_,hls:e.hls_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t);try{e.setupSourceBuffers_()}catch(e){return g["default"].log.warn("Failed to create SourceBuffers",e),e.mediaSource.endOfStream("decode")}e.setupFirstPlay(),e.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t=e.masterPlaylistLoader_.media();if(!t){var n=undefined;return e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),e.initialMedia_=n,void e.masterPlaylistLoader_.media(e.initialMedia_)}e.useCueTags_&&e.updateAdCues_(t),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.updateDuration(),e.tech_.paused()||e.mainSegmentLoader_.load(),t.endList||function(){var t=function(){var t=e.seekable();0!==t.length&&e.mediaSource.addSeekableRange_(t.start(0),t.end(0))};e.duration()!==Infinity?function(){var n=function r(){e.duration()===Infinity?t():e.tech_.one("durationchange",r)};e.tech_.one("durationchange",n)}():t()}()}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=e.masterPlaylistLoader_.media(),n=1.5*e.masterPlaylistLoader_.targetDuration*1e3;(0,u.isLowestEnabledRendition)(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=e.masterPlaylistLoader_.media();e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var n=e.mediaGroups||{},r=!0,i=Object.keys(n.AUDIO);for(var o in n.AUDIO)for(var a in n.AUDIO[o]){var s=n.AUDIO[o][a];s.uri||(r=!1)}r&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),x.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),x.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),i.length&&Object.keys(n.AUDIO[i[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var t=e.selectPlaylist(),n=e.masterPlaylistLoader_.media(),r=e.tech_.buffered(),i=r.length?r.end(r.length-1)-e.tech_.currentTime():0,o=e.bufferLowWaterLine();(!n.endList||e.duration()<P["default"].MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<n.attributes.BANDWIDTH||i>=o)&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},j)}),this.mainSegmentLoader_.on("reseteverything",function(){e.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(t){e.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})}),this.audioSegmentLoader_.on("ended",function(){e.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===Infinity&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var n=function(){var t=e.seekable();return t.length?g["default"].browser.IE_VERSION&&"html5"===e.mode_&&0===e.tech_.readyState()?(e.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.tech_.setCurrentTime(t.end(0)),e.hasPlayed_=function(){return!0}}),{v:!1}):(e.trigger("firstplay"),void e.tech_.setCurrentTime(t.end(0))):{v:!1}}();if("object"==typeof n)return n.v}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return g["default"].log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=e&&this.audioSegmentLoader_.ended_),e&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var n=x.Playlist.playlistEnd(e,t),r=this.tech_.currentTime(),i=this.tech_.buffered();if(!i.length)return n-r<=h["default"].SAFE_TIME_DELTA;var o=i.end(i.length-1);return o-r<=h["default"].SAFE_TIME_DELTA&&n-o<=h["default"].SAFE_TIME_DELTA}},{key:"blacklistCurrentPlaylist",value:function(e,t){e===undefined&&(e={});var n=undefined,r=undefined;if(n=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration,!n){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var i=1===this.masterPlaylistLoader_.master.playlists.filter(u.isEnabled).length;return i?(g["default"].log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(i)):(n.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),r=this.selectPlaylist(),g["default"].log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(r))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=h["default"].findRange(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length&&"flash"!==this.mode_?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:x.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=undefined,t=undefined;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var r=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==r&&(e=x.Playlist.seekable(n,r),0!==e.length)){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(r=this.syncController_.getExpiredTime(n,this.mediaSource.duration)))return;if(t=x.Playlist.seekable(n,r),0===t.length)return}t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=g["default"].createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var e=this,t=this.mediaSource.duration,n=x.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered(),i=function o(){e.mediaSource.duration=n,e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",o)};r.length>0&&(n=Math.max(n,r.end(r.length-1))),t!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",i):i())}},{key:"dispose",value:function(){var e=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(t){var n=e.mediaTypes_[t].groups;for(var r in n)n[r].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e=this.masterPlaylistLoader_.media(),t=undefined;if(e&&"open"===this.mediaSource.readyState){if(t=F(this.masterPlaylistLoader_.master,e),t.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(t[0]),t[1]&&this.audioSegmentLoader_.mimeType(t[1]),this.excludeIncompatibleVariants_(e)}}},{key:"excludeIncompatibleVariants_",value:function(e){var t=this.masterPlaylistLoader_.master,n=2,r=null,i=undefined;e.attributes.CODECS&&(i=(0,C.parseCodecs)(e.attributes.CODECS),r=i.videoCodec,n=i.codecCount),t.playlists.forEach(function(e){var t={codecCount:2,videoCodec:null};if(e.attributes.CODECS){var i=e.attributes.CODECS;t=(0,C.parseCodecs)(i),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+D(i)+'"')&&(e.excludeUntil=Infinity)}t.codecCount!==n&&(e.excludeUntil=Infinity),t.videoCodec!==r&&(e.excludeUntil=Infinity)})}},{key:"updateAdCues_",value:function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),v["default"].updateAdCues(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=P["default"].GOAL_BUFFER_LENGTH,n=P["default"].GOAL_BUFFER_LENGTH_RATE,r=Math.max(t,P["default"].MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,r)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=P["default"].BUFFER_LOW_WATER_LINE,n=P["default"].BUFFER_LOW_WATER_LINE_RATE,r=Math.max(t,P["default"].MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,r)}}]),t}(g["default"].EventTarget);exports.MasterPlaylistController=V}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ad-cue-tags":1,"./config":3,"./decrypter-worker":4,"./media-groups":6,"./playlist-loader":9,"./playlist.js":11,"./ranges":12,"./segment-loader":16,"./sync-controller":18,"./util/codecs.js":19,"./vtt-segment-loader":20,"videojs-contrib-media-sources/es5/codec-utils":65,webwackify:76}],6:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var n="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,r=t(n),i=require("./playlist-loader"),o=t(i),a=function(){},s=function(e){var t=e["default"]?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},u=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)};exports.stopLoaders=u;var l=function(e,t){t.activePlaylistLoader=e,e.load()};exports.startLoaders=l;var c=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],i=n.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),c=o.activePlaylistLoader;if(u(r,o),s){if(!s.playlistLoader)return void(c&&i.resetEverything());r.resyncLoader(),l(s.playlistLoader,o)}}};exports.onGroupChanged=c;var d=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],i=n.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),c=o.activePlaylistLoader;if(u(r,o),s){if(!s.playlistLoader)return void i.resetEverything();if(c===s.playlistLoader)return void l(s.playlistLoader,o);r.track&&r.track(a),r.resetEverything(),l(s.playlistLoader,o)}}};exports.onTrackChanged=d;var f={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e],o=t.blacklistCurrentPlaylist;u(n,i);var a=i.activeTrack(),s=i.activeGroup(),l=(s.filter(function(e){return e["default"]})[0]||s[0]).id,c=i.tracks[l];if(a===c)return void o({message:"Problem encountered loading the default audio track."});r["default"].log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var d in i.tracks)i.tracks[d].enabled=i.tracks[d]===c;i.onTrackChanged()}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e];r["default"].log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),u(n,i);var o=i.activeTrack();o&&(o.mode="disabled"),i.onTrackChanged()}}};exports.onError=f;var p={AUDIO:function(e,t,n){if(t){var r=n.tech,i=n.requestOptions,o=n.segmentLoaders[e];t.on("loadedmetadata",function(){var e=t.media();o.playlist(e,i),(!r.paused()||e.endList&&"none"!==r.preload())&&o.load()}),t.on("loadedplaylist",function(){o.playlist(t.media(),i),r.paused()||o.load()}),t.on("error",f[e](e,n))}},SUBTITLES:function(e,t,n){var r=n.tech,i=n.requestOptions,o=n.segmentLoaders[e],a=n.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();o.playlist(e,i),o.track(a.activeTrack()),(!r.paused()||e.endList&&"none"!==r.preload())&&o.load()}),t.on("loadedplaylist",function(){o.playlist(t.media(),i),r.paused()||o.load()}),t.on("error",f[e](e,n))}};exports.setupListeners=p;var h={AUDIO:function(e,t){var n=t.mode,i=t.hls,a=t.segmentLoaders[e],u=t.requestOptions.withCredentials,l=t.master.mediaGroups,c=t.mediaTypes[e],d=c.groups,h=c.tracks;l[e]&&0!==Object.keys(l[e]).length&&"html5"===n||(l[e]={main:{"default":{"default":!0}}});for(var y in l[e]){d[y]||(d[y]=[]);for(var g in l[e][y]){var m=l[e][y][g],v=undefined;if(v=m.resolvedUri?new o["default"](m.resolvedUri,i,u):null,m=r["default"].mergeOptions({id:g,playlistLoader:v},m),p[e](e,m.playlistLoader,t),d[y].push(m),"undefined"==typeof h[g]){var _=new r["default"].AudioTrack({id:g,kind:s(m),enabled:!1,language:m.language,"default":m["default"],label:g});h[g]=_}}}a.on("error",f[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,i=t.hls,a=t.segmentLoaders[e],s=t.requestOptions.withCredentials,u=t.master.mediaGroups,l=t.mediaTypes[e],c=l.groups,d=l.tracks;for(var h in u[e]){c[h]||(c[h]=[]);for(var y in u[e][h])if(!u[e][h][y].forced){var g=u[e][h][y];if(g=r["default"].mergeOptions({id:y,playlistLoader:new o["default"](g.resolvedUri,i,s)},g),p[e](e,g.playlistLoader,t),c[h].push(g),"undefined"==typeof d[y]){var m=n.addRemoteTextTrack({id:y,kind:"subtitles",enabled:!1,language:g.language,label:y},!1).track;d[y]=m}}}a.on("error",f[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,i=t.master.mediaGroups,o=t.mediaTypes[e],a=o.groups,s=o.tracks;for(var u in i[e]){a[u]||(a[u]=[]);for(var l in i[e][u]){var c=i[e][u][l];if(c.instreamId.match(/CC\d/)&&(a[u].push(r["default"].mergeOptions({id:l},c)),"undefined"==typeof s[l])){var d=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",enabled:!1,language:c.language,label:l},!1).track;s[l]=d}}}}};exports.initialize=h;var y=function(e,t){return function(n){var r=t.masterPlaylistLoader,i=t.mediaTypes[e].groups,o=r.media();if(!o)return null;var a=null;return o.attributes[e]&&(a=i[o.attributes[e]]),a=a||i.main,void 0===n?a:null===n?null:a.filter(function(e){return e.id===n.id})[0]||null}};exports.activeGroup=y;var g={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if("showing"===n[r].mode)return n[r];return null}}};exports.activeTrack=g;var m=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){h[t](t,e)});var t=e.mediaTypes,n=e.masterPlaylistLoader,r=e.tech,i=e.hls;["AUDIO","SUBTITLES"].forEach(function(n){t[n].activeGroup=y(n,e),t[n].activeTrack=g[n](n,e),t[n].onGroupChanged=c(n,e),t[n].onTrackChanged=d(n,e)});var o=t.AUDIO.activeGroup(),a=(o.filter(function(e){return e["default"]})[0]||o[0]).id;t.AUDIO.tracks[a].enabled=!0,t.AUDIO.onTrackChanged(),n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return t[e].onGroupChanged()})});var s=function(){t.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"hls-audio-change"})};r.audioTracks().addEventListener("change",s),r.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),i.on("dispose",function(){r.audioTracks().removeEventListener("change",s),r.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(var u in t.AUDIO.tracks)r.audioTracks().addTrack(t.AUDIO.tracks[u])};exports.setupMediaGroups=m;var v=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:a,activeTrack:a,onGroupChanged:a,onTrackChanged:a}}),e};exports.createMediaTypes=v}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./playlist-loader":9}],7:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var n="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,r=t(n),i=require("./bin-utils"),o={FAILURE:2,TIMEOUT:-101,ABORTED:-102};exports.REQUEST_ERRORS=o;var a=function(e){var t=(undefined,undefined);return t=e.offset+e.length-1,"bytes="+e.offset+"-"+t},s=function(e){var t={};return e.byterange&&(t.Range=a(e.byterange)),t},u=function(e){e.forEach(function(e){e.abort()})},l=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},c=function(e){var t=e.target,n=Date.now()-t.requestTime,r={bandwidth:Infinity,bytesReceived:0,roundTripTime:n||0};return r.bytesReceived=e.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},d=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:o.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:o.ABORTED,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:o.FAILURE,xhr:t}:null},f=function(e,t){return function(n,r){var i=r.response,a=d(n,r);if(a)return t(a,e);if(16!==i.byteLength)return t({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:o.FAILURE,xhr:r},e);var s=new DataView(i);return e.key.bytes=new Uint32Array([s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12)]),t(null,e)}},p=function(e,t){return function(n,r){var i=r.response,a=d(n,r);return a?t(a,e):0===i.byteLength?t({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:o.FAILURE,xhr:r},e):(e.map.bytes=new Uint8Array(r.response),t(null,e))}},h=function(e,t){return function(n,r){var i=r.response,a=d(n,r);return a?t(a,e):0===i.byteLength?t({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:o.FAILURE,xhr:r},e):(e.stats=l(r),e.key?e.encryptedBytes=new Uint8Array(r.response):e.bytes=new Uint8Array(r.response),t(null,e))}},y=function(e,t,n){var r=function o(r){if(r.data.source===t.requestId){e.removeEventListener("message",o);var i=r.data.decrypted;return t.bytes=new Uint8Array(i.bytes,i.byteOffset,i.byteLength),n(null,t)}};e.addEventListener("message",r),e.postMessage((0,i.createTransferableMessage)({source:t.requestId,encrypted:t.encryptedBytes,key:t.key.bytes,iv:t.key.iv}),[t.encryptedBytes.buffer,t.key.bytes.buffer])},g=function(e){return e.reduce(function(e,t){return t.code>e.code?t:e})},m=function(e,t,n){var r=[],i=0;return function(o,a){if(o&&(u(e),r.push(o)),(i+=1)===e.length){if(a.endOfAllRequests=Date.now(),r.length>0){var s=g(r);return n(s,a)}return a.encryptedBytes?y(t,a,n):n(null,a)}}},v=function(e,t){return function(n){return e.stats=r["default"].mergeOptions(e.stats,c(n)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(n,e)}},_=function(e,t,n,i,o,a){var l=[],c=m(l,n,a);if(i.key){var d=r["default"].mergeOptions(t,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),y=f(i,c),g=e(d,y);l.push(g)}if(i.map&&!i.map.bytes){var _=r["default"].mergeOptions(t,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:s(i.map)}),b=p(i,c),w=e(_,b);l.push(w)}var T=r["default"].mergeOptions(t,{uri:i.resolvedUri,responseType:"arraybuffer",headers:s(i)}),S=h(i,c),E=e(T,S);return E.addEventListener("progress",v(i,o)),l.push(E),function(){return u(l)}};exports.mediaSegmentRequest=_}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2}],8:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=require("global/window"),o=t(i),a=require("./ranges"),s=t(a),u="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,l=t(u),c=["seeking","seeked","pause","playing","error"],d=function(){function e(t){var r=this;n(this,e),this.tech_=t.tech,this.seekable=t.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,t.debug&&(this.logger_=l["default"].log.bind(l["default"],"playback-watcher ->")),this.logger_("initialize");var i=function(){return r.monitorCurrentTime_()},a=function(){return r.techWaiting_()},s=function(){return r.cancelTimer_()},u=function(){return r.fixesBadSeeks_()};this.tech_.on("seekablechanged",u),this.tech_.on("waiting",a),this.tech_.on(c,s),this.tech_.on("canplay",i),this.dispose=function(){r.logger_("dispose"),r.tech_.off("seekablechanged",u),r.tech_.off("waiting",a),r.tech_.off(c,s),r.tech_.off("canplay",i),r.checkCurrentTimeTimeout_&&o["default"].clearTimeout(r.checkCurrentTimeTimeout_),r.cancelTimer_()}}return r(e,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&o["default"].clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=o["default"].setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+s["default"].SAFE_TIME_DELTA>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var e=this.tech_.seeking(),t=this.seekable(),n=this.tech_.currentTime(),r=undefined;return e&&this.afterSeekableWindow_(t,n)&&(r=t.end(t.length-1)),e&&this.beforeSeekableWindow_(t,n)&&(r=t.start(0)+s["default"].SAFE_TIME_DELTA),void 0!==r&&(this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+s["default"].printableRange(t)+". Seeking to "+r+"."),this.tech_.setCurrentTime(r),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=s["default"].findRange(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.buffered(),i=s["default"].findNextRange(r,t);if(this.videoUnderflow_(i,r,t))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(i.length>0){var o=i.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+o+", seeking to "+i.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*o,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t){return!!e.length&&t>e.end(e.length-1)+s["default"].SAFE_TIME_DELTA}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-s["default"].SAFE_TIME_DELTA)}},{key:"videoUnderflow_",value:function(e,t,n){if(0===e.length){var r=this.gapFromVideoUnderflow_(t,n);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),r=s["default"].findNextRange(t,n);this.cancelTimer_(),0!==r.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+s["default"].TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var n=s["default"].findGaps(e),r=0;r<n.length;r++){var i=n.start(r),o=n.end(r);if(t-i<4&&t-i>2)return{start:i,end:o}}return null}},{key:"logger_",value:function(){}}]),e}();exports["default"]=d,module.exports=exports["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ranges":12,"global/window":32}],9:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=o,n=a,r=!0,s=l=undefined}},a=require("./resolve-url"),s=t(a),u="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,l=require("m3u8-parser"),c=t(l),d=require("global/window"),f=t(d),p=function(e,t,n){var r=t.slice();n=n||0;for(var i=Math.min(e.length,t.length+n),o=n;o<i;o++)r[o-n]=(0,u.mergeOptions)(e[o],r[o-n]);return r};exports.updateSegments=p;var h=function(e,t){e.resolvedUri||(e.resolvedUri=(0,s["default"])(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=(0,s["default"])(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=(0,s["default"])(t,e.map.uri))};exports.resolveSegmentUris=h;var y=function(e,t){var n=(0,u.mergeOptions)(e,{}),r=n.playlists.filter(function(e){return e.uri===t.uri})[0];if(!r)return null;if(r.segments&&t.segments&&r.segments.length===t.segments.length&&r.mediaSequence===t.mediaSequence)return null;var i=(0,u.mergeOptions)(r,t);r.segments&&(i.segments=p(r.segments,t.segments,t.mediaSequence-r.mediaSequence)),i.segments.forEach(function(e){h(e,i.resolvedUri)});for(var o=0;o<n.playlists.length;o++)n.playlists[o].uri===t.uri&&(n.playlists[o]=i);return n.playlists[t.uri]=i,n};exports.updateMaster=y;var g=function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];e.playlists[n.uri]=n,n.resolvedUri=(0,s["default"])(e.uri,n.uri),n.attributes||(n.attributes={},u.log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}};exports.setupMediaPlaylists=g;var m=function(e){["AUDIO","SUBTITLES"].forEach(function(t){for(var n in e.mediaGroups[t])for(var r in e.mediaGroups[t][n]){var i=e.mediaGroups[t][n][r];i.uri&&(i.resolvedUri=(0,s["default"])(e.uri,i.uri))}})};exports.resolveMediaGroupUris=m;var v=function(e,t){var n=e.segments[e.segments.length-1];return undefined,t&&n&&n.duration?1e3*n.duration:500*(e.targetDuration||10)};exports.refreshDelay=v;var _=function(e){function t(e,r,i){var a=this;if(n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.srcUrl=e,this.hls_=r,this.withCredentials=i,!this.srcUrl)throw new Error("A non-empty playlist URL is required");this.state="HAVE_NOTHING",this.on("mediaupdatetimeout",function(){"HAVE_METADATA"===a.state&&(a.state="HAVE_CURRENT_METADATA",a.request=a.hls_.xhr({uri:(0,s["default"])(a.master.uri,a.media().uri),withCredentials:a.withCredentials},function(e,t){if(a.request)return e?a.playlistRequestError(a.request,a.media().uri,"HAVE_METADATA"):void a.haveMetadata(a.request,a.media().uri)}))})}return r(t,e),i(t,[{key:"playlistRequestError",value:function(e,t,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var n=this;this.request=null,this.state="HAVE_METADATA";var r=new c["default"].Parser;r.push(e.responseText),r.end(),r.manifest.uri=t,r.manifest.attributes=r.manifest.attributes||{};var i=y(this.master,r.manifest);this.targetDuration=r.manifest.targetDuration,i?(this.master=i,this.media_=this.master.playlists[r.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(f["default"].clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=f["default"].setTimeout(function(){n.trigger("mediaupdatetimeout")},v(this.media(),!!i))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),f["default"].clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var r=!this.media_||e.uri!==this.media_.uri;if(this.master.playlists[e.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r){if(this.state="SWITCHING_MEDIA",this.request){if((0,s["default"])(this.master.uri,e.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:(0,s["default"])(this.master.uri,e.uri),withCredentials:this.withCredentials},function(r,i){if(t.request){if(r)return t.playlistRequestError(t.request,e.uri,n);t.haveMetadata(i,e.uri),"HAVE_MASTER"===n?t.trigger("loadedmetadata"):t.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),f["default"].clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;f["default"].clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;return void(this.mediaUpdateTimeout=f["default"].setTimeout(function(){return t.load()},r))}if(!this.started)return void this.start();n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");var r=new c["default"].Parser;return r.push(n.responseText),r.end(),e.state="HAVE_MASTER",r.manifest.uri=e.srcUrl,r.manifest.playlists?(e.master=r.manifest,g(e.master),m(e.master),e.trigger("loadedplaylist"),void(e.request||e.media(r.manifest.playlists[0]))):(e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:f["default"].location.href,playlists:[{uri:e.srcUrl}]},e.master.playlists[e.srcUrl]=e.master.playlists[0],e.master.playlists[0].resolvedUri=e.srcUrl,e.master.playlists[0].attributes=e.master.playlists[0].attributes||{},e.haveMetadata(n,e.srcUrl),e.trigger("loadedmetadata"))}})}}]),t}(u.EventTarget);exports["default"]=_}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./resolve-url":15,"global/window":32,"m3u8-parser":33}],10:[function(require,module,exports){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./config"),n=e(t),r=require("./playlist"),i=e(r),o=require("./util/codecs.js"),a=function(e,t){var n=undefined;return e?(n=window.getComputedStyle(e),n?n[t]:""):""},s=function(e,t){var n=e.slice();e.sort(function(e,r){var i=t(e,r);return 0===i?n.indexOf(e)-n.indexOf(r):i})},u=function(e,t){var n=undefined,r=undefined;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||window.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||window.Number.MAX_VALUE,n-r};exports.comparePlaylistBandwidth=u;var l=function(e,t){var n=undefined,r=undefined;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||window.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||window.Number.MAX_VALUE,n===r&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-r};exports.comparePlaylistResolution=l;var c=function(e,t,r,o){var a=e.playlists.map(function(e){var t=undefined,n=undefined,r=undefined;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,r=e.attributes.BANDWIDTH,r=r||window.Number.MAX_VALUE,{bandwidth:r,width:t,height:n,playlist:e}});s(a,function(e,t){return e.bandwidth-t.bandwidth}),a=a.filter(function(e){return!i["default"].isIncompatible(e.playlist)});var u=a.filter(function(e){return i["default"].isEnabled(e.playlist)});u.length||(u=a.filter(function(e){return!i["default"].isDisabled(e.playlist)}));var l=u.filter(function(e){return e.bandwidth*n["default"].BANDWIDTH_VARIANCE<t}),c=l[l.length-1],d=l.filter(function(e){return e.bandwidth===c.bandwidth})[0],f=l.filter(function(e){return e.width&&e.height});s(f,function(e,t){return e.width-t.width});var p=f.filter(function(e){return e.width===r&&e.height===o});c=p[p.length-1];var h=p.filter(function(e){return e.bandwidth===c.bandwidth})[0],y=undefined,g=undefined,m=undefined;h||(y=f.filter(function(e){return e.width>r||e.height>o}),g=y.filter(function(e){return e.width===y[0].width&&e.height===y[0].height}),c=g[g.length-1],m=g.filter(function(e){return e.bandwidth===c.bandwidth})[0]);var v=m||h||d||u[0]||a[0];return v?v.playlist:null};exports.simpleSelector=c;var d=function(){return c(this.playlists.master,this.systemBandwidth,parseInt(a(this.tech_.el(),"width"),10),parseInt(a(this.tech_.el(),"height"),10))};exports.lastBandwidthSelector=d;var f=function(e){var t=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){return t<0&&(t=this.systemBandwidth),t=e*this.systemBandwidth+(1-e)*t,c(this.playlists.master,t,parseInt(a(this.tech_.el(),"width"),10),parseInt(a(this.tech_.el(),"height"),10))}};exports.movingAverageBandwidthSelector=f;var p=function(e){var t=e.master,n=e.currentTime,r=e.bandwidth,o=e.duration,a=e.segmentDuration,l=e.timeUntilRebuffer,c=e.currentTimeline,d=e.syncController,f=t.playlists.filter(function(e){return!i["default"].isIncompatible(e)}),p=f.filter(i["default"].isEnabled);p.length||(p=f.filter(function(e){return!i["default"].isDisabled(e)}));var h=p.filter(i["default"].hasAttribute.bind(null,"BANDWIDTH")),y=h.map(function(e){var t=d.getSyncPoint(e,o,c,n),s=t?1:2;return{playlist:e,rebufferingImpact:i["default"].estimateSegmentRequestTime(a,r,e)*s-l}}),g=y.filter(function(e){return e.rebufferingImpact<=0});return s(g,function(e,t){return u(t.playlist,e.playlist)}),g.length?g[0]:(s(y,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),y[0]||null)};exports.minRebufferMaxBandwidthSelector=p;var h=function(){var e=this.playlists.master.playlists.filter(i["default"].isEnabled);return s(e,function(e,t){return u(e,t)}),e.filter(function(e){return(0,o.parseCodecs)(e.attributes.CODECS).videoCodec})[0]||null};exports.lowestBitrateCompatibleVariantSelector=h},{"./config":3,"./playlist":11,"./util/codecs.js":19}],11:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var n="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,r=require("global/window"),i=t(r),o=function(e,t){var n=0,r=t-e.mediaSequence,i=e.segments[r];if(i){if("undefined"!=typeof i.start)return{result:i.start,precise:!0};if("undefined"!=typeof i.end)return{result:i.end-i.duration,precise:!0}}for(;r--;){if(i=e.segments[r],"undefined"!=typeof i.end)return{result:n+i.end,precise:!0};if(n+=i.duration,"undefined"!=typeof i.start)return{result:n+i.start,precise:!0}}return{result:n,precise:!1}},a=function(e,t){for(var n=0,r=undefined,i=t-e.mediaSequence;i<e.segments.length;i++){if(r=e.segments[i],"undefined"!=typeof r.start)return{result:r.start-n,precise:!0};if(n+=r.duration,"undefined"!=typeof r.end)return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},s=function(e,t,n){var r=undefined,i=undefined;return void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(r=o(e,t),r.precise?r.result:(i=a(e,t),i.precise?i.result:r.result+n))},u=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return i["default"].Infinity}return s(e,t,n)};exports.duration=u;var l=function(e,t,n){var r=0;if(t>n){var i=[n,t];t=i[0],n=i[1]}if(t<0){for(var o=t;o<Math.min(0,n);o++)r+=e.targetDuration;t=0}for(var o=t;o<n;o++)r+=e.segments[o].duration;return r};exports.sumDurations=l;var c=function(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,n=e.segments[t].duration||e.targetDuration,r=n+2*e.targetDuration;t--&&!((n+=e.segments[t].duration)>=r););return Math.max(0,t)};exports.safeLiveIndex=c;var d=function(e,t,n){if(!e||!e.segments)return null;if(e.endList)return u(e);if(null===t)return null;t=t||0;var r=n?c(e):e.segments.length;return s(e,e.mediaSequence+r,t)};exports.playlistEnd=d;var f=function(e,t){var r=!0,i=t||0,o=d(e,t,r);return null===o?(0,n.createTimeRange)():(0,n.createTimeRange)(i,o)};exports.seekable=f;var p=function(e){return e-Math.floor(e)==0},h=function(e,t){if(p(t))return t+.1*e;for(var n=t.toString().split(".")[1].length,r=1;r<=n;r++){var i=Math.pow(10,r),o=t*i;if(p(o)||r===n)return(o+e)/i}},y=h.bind(null,1),g=h.bind(null,-1),m=function(e,t,n,r){var i=undefined,o=undefined,a=e.segments.length,s=t-r;if(s<0){if(n>0)for(i=n-1;i>=0;i--)if(o=e.segments[i],(s+=g(o.duration))>0)return{mediaIndex:i,startTime:r-l(e,n,i)};return{mediaIndex:0,startTime:t}}if(n<0){for(i=n;i<0;i++)if((s-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};n=0}for(i=n;i<a;i++)if(o=e.segments[i],(s-=y(o.duration))<0)return{mediaIndex:i,startTime:r+l(e,n,i)};return{mediaIndex:a-1,startTime:t}};exports.getMediaInfoForTime=m;var v=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()};exports.isBlacklisted=v;var _=function(e){return e.excludeUntil&&e.excludeUntil===Infinity};exports.isIncompatible=_;var b=function(e){var t=v(e);return!e.disabled&&!t};exports.isEnabled=b;var w=function(e){return e.disabled};exports.isDisabled=w;var T=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1};exports.isAes=T;var S=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1};exports.isFmp4=S;var E=function(e,t){return t.attributes&&t.attributes[e]};exports.hasAttribute=E;var O=function(e,t,n){var r=arguments.length<=3||arguments[3]===undefined?0:arguments[3];return E("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-8*r)/t:NaN};exports.estimateSegmentRequestTime=O;var k=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!b(e)&&(e.attributes.BANDWIDTH||0)<n}).length};exports.isLowestEnabledRendition=k,exports["default"]={duration:u,seekable:f,safeLiveIndex:c,getMediaInfoForTime:m,isEnabled:b,isDisabled:w,isBlacklisted:v,isIncompatible:_,playlistEnd:d,isAes:T,isFmp4:S,hasAttribute:E,estimateSegmentRequestTime:O,isLowestEnabledRendition:k}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":32}],12:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(err){i=!0,o=err}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,i=t(r),o=1/30,a=3*o,s=function(e,t){var r=n(t,2),i=r[0],o=r[1];return Math.min(Math.max(i,e),o)},u=function(e,t){var n=[],r=undefined;if(e&&e.length)for(r=0;r<e.length;r++)t(e.start(r),e.end(r))&&n.push([e.start(r),e.end(r)]);return i["default"].createTimeRanges(n)},l=function(e,t){return u(e,function(e,n){return e-o<=t&&n+o>=t})},c=function(e,t){return u(e,function(e){return e-o>=t})},d=function(e){if(e.length<2)return i["default"].createTimeRanges();for(var t=[],n=1;n<e.length;n++){var r=e.end(n-1),o=e.start(n);t.push([r,o])}return i["default"].createTimeRanges(t)},f=function(e,t){var n=undefined,r=undefined,i=undefined,o=[],a=[],s=function(e){return e[0]<=i&&e[1]>=i};if(e)for(n=0;n<e.length;n++)r=e.start(n),i=e.end(n),a.push([r,i]);if(t)for(n=0;n<t.length;n++)r=t.start(n),i=t.end(n),a.some(s)||o.push(i);return 1!==o.length?null:o[0]},p=function(e,t){var n=null,r=null,o=0,a=[],s=[];if(!(e&&e.length&&t&&t.length))return i["default"].createTimeRange();for(var u=e.length;u--;)a.push({time:e.start(u),type:"start"}),a.push({time:e.end(u),type:"end"});for(u=t.length;u--;)a.push({time:t.start(u),type:"start"}),a.push({time:t.end(u),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),u=0;u<a.length;u++)"start"===a[u].type?2==++o&&(n=a[u].time):"end"===a[u].type&&1==--o&&(r=a[u].time),null!==n&&null!==r&&(s.push([n,r]),n=null,r=null);return i["default"].createTimeRanges(s)},h=function(e,t,n,r){for(var i=t.end(0)-t.start(0),o=e.end(0)-e.start(0),a=i-o,s=p(e,r),u=p(t,r),l=0,c=0,d=s.length;d--;)l+=s.end(d)-s.start(d),s.start(d)===n&&(l+=a);for(d=u.length;d--;)c+=u.end(d)-u.start(d);return Math.max(l,c)/i*100},y=function(e,t,n,r){var o=e+t,a=i["default"].createTimeRanges([[e,o]]),u=i["default"].createTimeRanges([[s(e,[n,o]),o]]);if(u.start(0)===u.end(0))return 0;var l=h(u,a,n,r);return isNaN(l)||l===Infinity||l===-Infinity?0:l},g=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},m=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?1:arguments[2];return((e.length?e.end(e.length-1):0)-t)/n};exports["default"]={findRange:l,findNextRange:c,findGaps:d,findSoleUncommonTimeRangesEnd:f,getSegmentBufferedPercent:y,TIME_FUDGE_FACTOR:o,SAFE_TIME_DELTA:a,printableRange:g,timeUntilRebuffer:m},module.exports=exports["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var n="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,r=t(n),i={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},o=function s(e,t){var n=0,o=0,a=r["default"].mergeOptions(i,t);e.ready(function(){e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var u=function(){o&&e.currentTime(o)},l=function(t){null!==t&&t!==undefined&&(o=e.duration()!==Infinity&&e.currentTime()||0,e.one("loadedmetadata",u),e.src(t),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},c=function(){return Date.now()-n<1e3*a.errorInterval?void e.trigger({type:"usage",name:"hls-error-reload-canceled"}):a.getSource&&"function"==typeof a.getSource?(n=Date.now(),a.getSource.call(e,l)):void r["default"].log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},d=function p(){e.off("loadedmetadata",u),e.off("error",c),e.off("dispose",p)},f=function(t){d(),s(e,t)};e.on("error",c),e.on("dispose",d),e.reloadSourceOnError=f},a=function(e){o(this,e)};exports["default"]=a,module.exports=exports["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(require,module,exports){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./playlist.js"),n=function(e,n,r){return function(i){var o=e.master.playlists[n],a=(0,t.isIncompatible)(o),s=(0,t.isEnabled)(o);return void 0===i?s:(i?delete o.disabled:o.disabled=!0,i===s||a||(r(),i?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),i)}},r=function o(t,r,i){e(this,o);var a=t.masterPlaylistController_.fastQualityChange_.bind(t.masterPlaylistController_);if(r.attributes.RESOLUTION){var s=r.attributes.RESOLUTION;this.width=s.width,this.height=s.height}this.bandwidth=r.attributes.BANDWIDTH,this.id=i,this.enabled=n(t.playlists,r.uri,a)},i=function(e){var n=e.playlists;e.representations=function(){return n.master.playlists.filter(function(e){return!(0,t.isIncompatible)(e)}).map(function(t,n){return new r(e,t,t.uri)})}};exports["default"]=i,module.exports=exports["default"]},{"./playlist.js":11}],15:[function(require,module,exports){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("url-toolkit"),n=e(t),r=require("global/window"),i=e(r),o=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=n["default"].buildAbsoluteURL(i["default"].location.href,e)),n["default"].buildAbsoluteURL(e,t))};exports["default"]=o,module.exports=exports["default"]},{"global/window":32,"url-toolkit":63}],16:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=o,n=a,r=!0,s=l=undefined}},a=require("./playlist"),s=t(a),u="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,l=t(u),c=require("./source-updater"),d=t(c),f=require("./config"),p=t(f),h=require("global/window"),y=t(h),g=require("videojs-contrib-media-sources/es5/remove-cues-from-track.js"),m=t(g),v=require("./bin-utils"),_=require("./media-segment-request"),b=require("./ranges"),w=require("./playlist-selectors"),T=500,S=function(e,t,n){if(!e||!t)return!1;var r=e.segments,i=n===r.length;return e.endList&&"open"===t.readyState&&i},E=function(e){return"number"==typeof e&&isFinite(e)},O=function(e,t,n){return"main"===e&&t&&n?n.containsAudio||n.containsVideo?t.containsVideo&&!n.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&n.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null};exports.illegalMediaSwitch=O;var k=function(e,t,n){var r=undefined;return r=e.length&&e.start(0)>0&&e.start(0)<t?e.start(0):t-30,Math.min(r,t-n)};exports.safeBackBufferTrimTime=k;var P=function(e){function t(e){var r=this,i=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];if(n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.state="INIT",this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.hls_=e.hls,this.loaderType_=e.loaderType,this.startingMedia_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.syncController_.on("syncinfoupdate",function(){return r.trigger("syncinfoupdate")}),this.mediaSource_.addEventListener("sourceopen",function(){return r.ended_=!1}),this.fetchAtBuffer_=!1,i.debug&&(this.logger_=l["default"].log.bind(l["default"],"segment-loader",this.loaderType_,"->"))}return r(t,e),i(t,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){if("WAITING"!==this.state)return void(this.pendingSegment_&&(this.pendingSegment_=null));this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return void 0!==e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():l["default"].createTimeRanges()}},{key:"initSegment",value:function(e){var t=!(arguments.length<=1||arguments[1]===undefined)&&arguments[1];if(!e)return null;var n=(0,v.initSegmentId)(e),r=this.initSegments_[n];return t&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes}),r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new d["default"](this.mediaSource_,this.mimeType_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];if(e){var n=this.playlist_,r=this.pendingSegment_;if(this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0}),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return void(null!==this.mediaIndex&&this.resyncLoader());var i=e.mediaSequence-n.mediaSequence;this.logger_("mediaSequenceDiff",i),null!==this.mediaIndex&&(this.mediaIndex-=i),r&&(r.mediaIndex-=i,r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(y["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e){this.mimeType_||(this.mimeType_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_()),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t){this.sourceUpdater_&&this.sourceUpdater_.remove(e,t),(0,m["default"])(e,t,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&y["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=y["default"].setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&y["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=y["default"].setTimeout(this.monitorBufferTick_.bind(this),T)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e){if(S(this.playlist_,this.mediaSource_,e.mediaIndex))return void this.endOfStream();(e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((e.timeline!==this.currentTimeline_||null!==e.startOfSegment&&e.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment),this.loadSegment_(e))}}}},{key:"checkBuffer_",value:function(e,t,n,r,i,o){var a=0,u=undefined;e.length&&(a=e.end(e.length-1));var l=Math.max(0,a-i);if(!t.segments.length)return null;if(l>=this.goalBufferLength_())return null;if(!r&&l>=1)return null;if(this.logger_("checkBuffer_","mediaIndex:",n,"hasPlayed:",r,"currentTime:",i,"syncPoint:",o,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",l),null===o)return n=this.getSyncSegmentCandidate_(t),this.logger_("getSync","mediaIndex:",n),this.generateSegmentInfo_(t,n,null,!0);if(null!==n){this.logger_("walkForward","mediaIndex:",n+1);var c=t.segments[n];return u=c&&c.end?c.end:a,this.generateSegmentInfo_(t,n+1,u,!1)}if(this.fetchAtBuffer_){var d=s["default"].getMediaInfoForTime(t,a,o.segmentIndex,o.time);n=d.mediaIndex,u=d.startTime}else{var d=s["default"].getMediaInfoForTime(t,i,o.segmentIndex,o.time);n=d.mediaIndex,u=d.startTime}return this.logger_("getMediaIndexForTime","mediaIndex:",n,"startOfSegment:",u),this.generateSegmentInfo_(t,n,u,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var n=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,n,r){if(t<0||t>=e.segments.length)return null;var i=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:i.resolvedUri,mediaIndex:t,isSyncRequest:r,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:i.timeline,duration:i.duration,segment:i}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),n=e.bandwidth,r=this.pendingSegment_.duration,i=s["default"].estimateSegmentRequestTime(r,n,this.playlist_,e.bytesReceived),o=(0,b.timeUntilRebuffer)(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(i<=o)return!1;var a=(0,w.minRebufferMaxBandwidthSelector)({master:this.hls_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var u=i-o,l=u-a.rebufferingImpact,c=.5;return o<=b.TIME_FUDGE_FACTOR&&(c=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||l<c)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*p["default"].BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=(0,_.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=k(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,n={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var r=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key={resolvedUri:t.key.resolvedUri,iv:r}}return t.map&&(n.map=this.initSegment(t.map)),n}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),!this.pendingSegment_)return void(this.mediaRequestsAborted+=1);if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===_.REQUEST_ERRORS.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===_.REQUEST_ERRORS.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),this.processSegmentResponse_(t)}}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(!this.pendingSegment_)return void(this.state="READY");var t=this.pendingSegment_,n=t.segment,r=this.syncController_.probeSegmentInfo(t);"undefined"==typeof this.startingMedia_&&r&&(r.containsAudio||r.containsVideo)&&(this.startingMedia_={containsAudio:r.containsAudio,containsVideo:r.containsVideo});var i=O(this.loaderType_,this.startingMedia_,r);if(i)return this.error({message:i,blacklistDuration:Infinity}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset"));var o=this.syncController_.mappingForTimeline(t.timeline);null!==o&&this.trigger({type:"segmenttimemapping",mapping:o}),this.state="APPENDING",n.map&&function(){var t=(0,v.initSegmentId)(n.map);if(!e.activeInitSegmentId_||e.activeInitSegmentId_!==t){var r=e.initSegment(n.map);e.sourceUpdater_.appendBuffer(r.bytes,function(){e.activeInitSegmentId_=t})}}(),t.byteLength=t.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.sourceUpdater_.appendBuffer(t.bytes,this.handleUpdateEnd_.bind(this))}},{key:"handleUpdateEnd_",value:function(){if(this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,n=null!==this.mediaIndex;if(this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration)return void this.resetEverything();n&&this.trigger("bandwidthupdate"),this.trigger("progress"),S(e.playlist,this.mediaSource_,e.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_()}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count}},{key:"logger_",value:function(){}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,r=t.end;if(E(n)&&E(r)){(0,m["default"])(n,r,this.segmentMetadataTrack_);var i=y["default"].WebKitDataCue||y["default"].VTTCue,o={bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:n,end:r},a=JSON.stringify(o),s=new i(n,r,a);s.value=o,this.segmentMetadataTrack_.addCue(s)}}}}]),t}(l["default"].EventTarget);exports["default"]=P}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2,"./config":3,"./media-segment-request":7,"./playlist":11,"./playlist-selectors":10,"./ranges":12,"./source-updater":17,"global/window":32,"videojs-contrib-media-sources/es5/remove-cues-from-track.js":72}],17:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,o=t(i),a=function(){},s=function(){function e(t,r){var i=this;n(this,e);var o=function(){i.sourceBuffer_=t.addSourceBuffer(r),i.onUpdateendCallback_=function(){var e=i.pendingCallback_;i.pendingCallback_=null,e&&e(),i.runCallback_()},i.sourceBuffer_.addEventListener("updateend",i.onUpdateendCallback_),i.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,"closed"===t.readyState?t.addEventListener("sourceopen",o):o()}return r(e,[{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(e)},t)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:o["default"].createTimeRanges()}},{key:"remove",value:function(e,t){var n=this;this.processedAppend_&&this.queueCallback_(function(){n.sourceBuffer_.remove(e,t)},a)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(e){var t=this;return void 0!==e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=undefined;!this.updating()&&this.callbacks_.length&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),e}();exports["default"]=s,module.exports=exports["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=o,n=a,r=!0,s=l=undefined}},a=require("mux.js/lib/mp4/probe"),s=t(a),u=require("mux.js/lib/tools/ts-inspector.js"),l=require("./playlist"),c="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,d=t(c),f=[{name:"VOD",run:function(e,t,n,r,i){return n!==Infinity?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(e,t,n,r,i){return e.datetimeToDisplayTime&&t.dateTimeObject?{time:t.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,segmentIndex:0}:null}},{name:"Segment",run:function(e,t,n,r,i){var o=t.segments||[],a=null,s=null;i=i||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.timeline===r&&"undefined"!=typeof l.start){var c=Math.abs(i-l.start);if(null!==s&&s<c)break;(!a||null===s||s>=c)&&(s=c,a={time:l.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(e,t,n,r,i){var o=null;if(i=i||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var u=t.discontinuityStarts[s],l=t.discontinuitySequence+s+1,c=e.discontinuities[l];if(c){var d=Math.abs(i-c.time);if(null!==a&&a<d)break;(!o||null===a||a>=d)&&(a=d,o={time:c.time,segmentIndex:u})}}return o}},{name:"Playlist",run:function(e,t,n,r,i){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}];exports.syncPointStrategies=f;var p=function(e){function t(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.inspectCache_=undefined,this.timelines=[],this.discontinuities=[],this.datetimeToDisplayTime=null,e.debug&&(this.logger_=d["default"].log.bind(d["default"],"sync-controller ->"))}return r(t,e),i(t,[{key:"getSyncPoint",value:function(e,t,n,r){var i=this.runStrategies_(e,t,n,r);return i.length?this.selectSyncPoint_(i,{key:"time",value:r}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var r=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+(0,l.sumDurations)(e,r.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,n,r){for(var i=[],o=0;o<f.length;o++){var a=f[o],s=a.run(this,e,t,n,r);s&&(s.strategy=a.name,i.push({strategy:a.name,syncPoint:s}),this.logger_("syncPoint found via <"+a.name+">:",s))}return i}},{key:"selectSyncPoint_",value:function(e,t){for(var n=e[0].syncPoint,r=Math.abs(e[0].syncPoint[t.key]-t.value),i=e[0].strategy,o=1;o<e.length;o++){var a=Math.abs(e[o].syncPoint[t.key]-t.value);a<r&&(r=a,n=e[o].syncPoint,i=e[o].strategy)}return this.logger_("syncPoint with strategy <"+i+"> chosen: ",n),n}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var n=t.mediaSequence-e.mediaSequence,r=n-1;r>=0;r--){var i=e.segments[r];if(i&&"undefined"!=typeof i.start){t.syncInfo={mediaSequence:e.mediaSequence+r,time:i.start},this.logger_("playlist sync:",t.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.dateTimeObject){var t=e.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=undefined}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,n=e.playlist,r=undefined;return r=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e),r&&this.calculateSegmentTimeMapping_(e,r)&&(this.saveDiscontinuitySyncInfo_(e),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:t.start})),r}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,n=s["default"].timescale(t.map.bytes),r=s["default"].startTime(n,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=r),{start:r,end:r+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=(0,u.inspect)(e.bytes,this.inspectCache_),n=undefined,r=undefined;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,n=t.video[0].dtsTime,r=t.video[1].dtsTime):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,n=t.audio[0].dtsTime,r=t.audio[1].dtsTime),{start:n,end:r,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var n=e.segment,r=this.timelines[e.timeline];if(null!==e.timestampOffset)this.logger_("tsO:",e.timestampOffset),r={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=r,this.trigger("timestampoffset"),n.start=e.startOfSegment,n.end=t.end+r.mapping;else{if(!r)return!1;n.start=t.start+r.mapping,n.end=t.end+r.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var i=t.discontinuityStarts[r],o=t.discontinuitySequence+r+1,a=i-e.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var u=undefined;u=a<0?n.start-(0,l.sumDurations)(t,e.mediaIndex,i):n.end+(0,l.sumDurations)(t,e.mediaIndex+1,i),this.discontinuities[o]={time:u,accuracy:s}}}}},{key:"logger_",value:function(){}}]),t}(d["default"].EventTarget);exports["default"]=p}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./playlist":11,"mux.js/lib/mp4/probe":57,"mux.js/lib/tools/ts-inspector.js":59}],19:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){var e=arguments.length<=0||arguments[0]===undefined?"":arguments[0],t={codecCount:0},n=undefined;return t.codecCount=e.split(",").length,t.codecCount=t.codecCount||2,n=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(e),n&&(t.videoCodec=n[2],t.videoObjectTypeIndicator=n[3]),t.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),t.audioProfile=t.audioProfile&&t.audioProfile[2],t};exports.parseCodecs=e},{}],20:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=o,n=a,r=!0,s=l=undefined}},a=require("./segment-loader"),s=t(a),u="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,l=t(u),c=require("global/window"),d=t(c),f=require("videojs-contrib-media-sources/es5/remove-cues-from-track.js"),p=t(f),h=require("./bin-utils"),y=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),g=function(e){return String.fromCharCode.apply(null,e)},m=function(e){function t(e){var r=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.mediaSource_=null,this.subtitlesTrack_=null}return r(t,e),i(t,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return l["default"].createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return l["default"].createTimeRanges([[t,n]])}},{key:"initSegment",value:function(e){var t=!(arguments.length<=1||arguments[1]===undefined)&&arguments[1];if(!e)return null;var n=(0,h.initSegmentId)(e),r=this.initSegments_[n];if(t&&!r&&e.bytes){var i=y.byteLength+e.bytes.byteLength,o=new Uint8Array(i);o.set(e.bytes),o.set(y,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return void 0===e?this.subtitlesTrack_:(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(e,t){(0,p["default"])(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){var n=function(){e.state="READY",e.paused()||e.monitorBuffer_()};return this.syncController_.one("timestampoffset",n),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var e=this;if(!this.pendingSegment_||!this.subtitlesTrack_)return void(this.state="READY");this.state="APPENDING";var t=this.pendingSegment_,n=t.segment;if("function"!=typeof d["default"].WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var r=function(){var t=function(){e.handleSegment_()};return e.state="WAITING_ON_VTTJS",e.subtitlesTrack_.tech_.one("vttjsloaded",t),e.subtitlesTrack_.tech_.one("vttjserror",function(){e.subtitlesTrack_.tech_.off("vttjsloaded",t),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")}),{v:undefined}}();if("object"==typeof r)return r.v}n.requested=!0;try{this.parseVTTCues_(t)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime),t.cues.forEach(function(t){e.subtitlesTrack_.addCue(t)}),this.handleUpdateEnd_()}},{key:"parseVTTCues_",value:function(e){var t=undefined,n=!1;"function"==typeof d["default"].TextDecoder?t=new d["default"].TextDecoder("utf8"):(t=d["default"].WebVTT.StringDecoder(),n=!0);var r=new d["default"].WebVTT.Parser(d["default"],d["default"].vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){return e.timestampmap=t},r.onparsingerror=function(e){l["default"].log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var i=e.segment.map.bytes;n&&(i=g(i)),r.parse(i)}var o=e.bytes;n&&(o=g(o)),r.parse(o),r.flush()}},{key:"updateTimeMapping_",value:function(e,t,n){var r=e.segment;if(t){if(!e.cues.length)return void(r.empty=!0);var i=e.timestampmap,o=i.MPEGTS/9e4-i.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=o,e.endTime+=o}),!n.syncInfo){var a=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(a,s-r.duration)}}}}}]),t}(s["default"]);exports["default"]=m,module.exports=exports["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2,"./segment-loader":16,"global/window":32,"videojs-contrib-media-sources/es5/remove-cues-from-track.js":72}],21:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var n="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,r=t(n),i=function(){return function e(t,i){t=(0,n.mergeOptions)({timeout:45e3},t);var o=e.beforeRequest||r["default"].Hls.xhr.beforeRequest;if(o&&"function"==typeof o){var a=o(t);a&&(t=a)}var s=(0,n.xhr)(t,function(e,t){var n=s.response;!e&&n&&(s.responseTime=Date.now(),s.roundTripTime=s.responseTime-s.requestTime,s.bytesReceived=n.byteLength||n.length,s.bandwidth||(s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3))),e&&"ETIMEDOUT"===e.code&&(s.timedout=!0),e||s.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(s&&(n||s.responseText)))),i(e,s)}),u=s.abort;return s.abort=function(){return s.aborted=!0,u.apply(s,arguments)},s.uri=t.uri,s.requestTime=Date.now(),s}};exports["default"]=i,module.exports=exports["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(require,module,exports){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],r=t[4],i=n[4],o=undefined,a=undefined,s=undefined,u=[],l=[],c=undefined,d=undefined,f=undefined,p=undefined,h=undefined,y=undefined;for(o=0;o<256;o++)l[(u[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!r[a];a^=c||1,s=l[s]||1)for(p=s^s<<1^s<<2^s<<3^s<<4,p=p>>8^255&p^99,r[a]=p,i[p]=a,f=u[d=u[c=u[a]]],y=16843009*f^65537*d^257*c^16843008*a,h=257*u[p]^16843008*p,o=0;o<4;o++)t[o][a]=h=h<<24^h>>>8,n[o][p]=y=y<<24^y>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),n[o]=n[o].slice(0);return e},r=null,i=function(){function i(t){e(this,i),r||(r=n()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];var o=undefined,a=undefined,s=undefined,u=undefined,l=undefined,c=this._tables[0][4],d=this._tables[1],f=t.length,p=1;if(4!==f&&6!==f&&8!==f)throw new Error("Invalid aes key size");for(u=t.slice(0),l=[],this._key=[u,l],o=f;o<4*f+28;o++)s=u[o-1],(o%f==0||8===f&&o%f==4)&&(s=c[s>>>24]<<24^c[s>>16&255]<<16^c[s>>8&255]<<8^c[255&s],o%f==0&&(s=s<<8^s>>>24^p<<24,p=p<<1^283*(p>>7))),u[o]=u[o-f]^s;for(a=0;o;a++,o--)s=u[3&a?o:o-4],l[a]=o<=4||a<4?s:d[0][c[s>>>24]]^d[1][c[s>>16&255]]^d[2][c[s>>8&255]]^d[3][c[255&s]]}return t(i,[{key:"decrypt",value:function(e,t,n,r,i,o){var a=this._key[1],s=e^a[0],u=r^a[1],l=n^a[2],c=t^a[3],d=undefined,f=undefined,p=undefined,h=a.length/4-2,y=undefined,g=4,m=this._tables[1],v=m[0],_=m[1],b=m[2],w=m[3],T=m[4];for(y=0;y<h;y++)d=v[s>>>24]^_[u>>16&255]^b[l>>8&255]^w[255&c]^a[g],f=v[u>>>24]^_[l>>16&255]^b[c>>8&255]^w[255&s]^a[g+1],p=v[l>>>24]^_[c>>16&255]^b[s>>8&255]^w[255&u]^a[g+2],c=v[c>>>24]^_[s>>16&255]^b[u>>8&255]^w[255&l]^a[g+3],g+=4,s=d,u=f,l=p;for(y=0;y<4;y++)i[(3&-y)+o]=T[s>>>24]<<24^T[u>>16&255]<<16^T[l>>8&255]<<8^T[255&c]^a[g++],d=s,s=u,u=l,l=c,c=d}}]),i}();exports["default"]=i,module.exports=exports["default"]},{}],23:[function(require,module,exports){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=o,n=a,r=!0,s=l=undefined}},o=require("./stream"),a=e(o),s=function(e){function o(){t(this,o),i(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,a["default"]),this.jobs=[],this.delay=1,this.timeout_=null}return n(o,e),r(o,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),o}(a["default"]);exports["default"]=s,module.exports=exports["default"]},{"./stream":26}],24:[function(require,module,exports){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=require("./aes"),i=e(r),o=require("./async-stream"),a=e(o),s=require("pkcs7"),u=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},l=function(e,t,n){var r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),o=new i["default"](Array.prototype.slice.call(t)),a=new Uint8Array(e.byteLength),s=new Int32Array(a.buffer),l=undefined,c=undefined,d=undefined,f=undefined,p=undefined,h=undefined,y=undefined,g=undefined,m=undefined;for(l=n[0],c=n[1],d=n[2],f=n[3],m=0;m<r.length;m+=4)p=u(r[m]),h=u(r[m+1]),y=u(r[m+2]),g=u(r[m+3]),o.decrypt(p,h,y,g,s,m),s[m]=u(s[m]^l),s[m+1]=u(s[m+1]^c),s[m+2]=u(s[m+2]^d),s[m+3]=u(s[m+3]^f),l=p,c=h,d=y,f=g;return a};exports.decrypt=l;var c=function(){function e(n,r,i,o){t(this,e);var l=e.STEP,c=new Int32Array(n.buffer),d=new Uint8Array(n.byteLength),f=0;for(this.asyncStream_=new a["default"],this.asyncStream_.push(this.decryptChunk_(c.subarray(f,f+l),r,i,d)),f=l;f<c.length;f+=l)i=new Uint32Array([u(c[f-4]),u(c[f-3]),u(c[f-2]),u(c[f-1])]),this.asyncStream_.push(this.decryptChunk_(c.subarray(f,f+l),r,i,d));this.asyncStream_.push(function(){o(null,(0,s.unpad)(d))})}return n(e,[{key:"decryptChunk_",value:function(e,t,n,r){return function(){var i=l(e,t,n);r.set(i,e.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),e}();exports.Decrypter=c,exports["default"]={Decrypter:c,decrypt:l}},{"./aes":22,"./async-stream":23,pkcs7:28}],25:[function(require,module,exports){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./decrypter"),n=require("./async-stream"),r=e(n);exports["default"]={decrypt:t.decrypt,Decrypter:t.Decrypter,AsyncStream:r["default"]},module.exports=exports["default"]},{"./async-stream":23,"./decrypter":24}],26:[function(require,module,exports){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=function(){function n(){e(this,n),this.listeners={}}return t(n,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var n=undefined;return!!this.listeners[e]&&(n=this.listeners[e].indexOf(t),this.listeners[e].splice(n,1),n>-1)}},{key:"trigger",value:function(e){var t=undefined,n=undefined,r=undefined,i=undefined;if(t=this.listeners[e])if(2===arguments.length)for(r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),r=t.length,n=0;n<r;++n)t[n].apply(this,i)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(e){this.on("data",function(t){e.push(t)})}}]),n}();exports["default"]=n,module.exports=exports["default"]},{}],27:[function(require,module,exports){"use strict";var e;module.exports=function(t){var n=e[t.byteLength%16||0],r=new Uint8Array(t.byteLength+n.length);return r.set(t),r.set(n,t.byteLength),r},e=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},{}],28:[function(require,module,exports){"use strict";exports.pad=require("./pad.js"),exports.unpad=require("./unpad.js")},{"./pad.js":27,"./unpad.js":29}],29:[function(require,module,exports){"use strict";module.exports=function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},{}],30:[function(require,module,exports){},{}],31:[function(require,module,exports){(function(e){var t,n=void 0!==e?e:"undefined"!=typeof window?window:{},r=require("min-document");"undefined"!=typeof document?t=document:(t=n["__GLOBAL_DOCUMENT_CACHE@4"])||(t=n["__GLOBAL_DOCUMENT_CACHE@4"]=r),module.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":30}],32:[function(require,module,exports){(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},module.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(require,module,exports){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}var t=require("./line-stream"),n=e(t),r=require("./parse-stream"),i=e(r),o=require("./parser"),a=e(o);module.exports={LineStream:n["default"],ParseStream:i["default"],Parser:a["default"]}},{"./line-stream":34,"./parse-stream":35,"./parser":36}],34:[function(require,module,exports){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=require("./stream"),a=e(o),s=function(e){function o(){t(this,o);var e=n(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return e.buffer="",e}return r(o,e),i(o,[{key:"push",value:function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}]),o}(a["default"]);exports["default"]=s},{"./stream":37}],35:[function(require,module,exports){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(err){i=!0,o=err}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=require("./stream"),s=e(a),u=function(){var e="[^=]*",t='"[^"]*"|[^,]*',n="(?:"+e+")=(?:"+t+")";return new RegExp("(?:^|,)("+n+")")},l=function(e){for(var t=e.split(u()),n={},r=t.length,i=void 0;r--;)""!==t[r]&&(i=/([^=]*)=(.*)/.exec(t[r]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),n[i[0]]=i[1]);return n},c=function(e){function a(){return t(this,a),n(this,(a.__proto__||Object.getPrototypeOf(a)).call(this))}return r(a,e),o(a,[{key:"push",value:function(e){var t=void 0,n=void 0;if(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),0!==e.length){if("#"!==e[0])return void this.trigger("data",{type:"uri",uri:e});if(0!==e.indexOf("#EXT"))return void this.trigger("data",{type:"comment",text:e.slice(1)});if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))return void this.trigger("data",{type:"tag",tagType:"m3u"});if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void this.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void this.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var r=l(t[1]);if(r.URI&&(n.uri=r.URI),r.BYTERANGE){var o=r.BYTERANGE.split("@"),a=i(o,2),s=a[0],u=a[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),u&&(n.byterange.offset=parseInt(u,10))}}return void this.trigger("data",n)}if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=l(t[1]),n.attributes.RESOLUTION){var c=n.attributes.RESOLUTION.split("x"),d={};c[0]&&(d.width=parseInt(c[0],10)),c[1]&&(d.height=parseInt(c[1],10)),n.attributes.RESOLUTION=d}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}return void this.trigger("data",n)}if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=l(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))return void this.trigger("data",{type:"tag",tagType:"endlist"});if(t=/^#EXT-X-DISCONTINUITY/.exec(e))return void this.trigger("data",{type:"tag",tagType:"discontinuity"});if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=l(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);this.trigger("data",{type:"tag",data:e.slice(4)})}}}]),a}(s["default"]);exports["default"]=c},{"./stream":37}],36:[function(require,module,exports){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=require("./stream"),s=e(a),u=require("./line-stream"),l=e(u),c=require("./parse-stream"),d=e(c),f=function(e){function a(){t(this,a);var e=n(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));e.lineStream=new l["default"],e.parseStream=new d["default"],e.lineStream.pipe(e.parseStream);var r=e,o=[],s={},u=void 0,c=void 0,f=function(){},p={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(e){var t=void 0,n=void 0;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(s.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(s.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(s.duration=e.duration),0===e.duration&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){return e.attributes?"NONE"===e.attributes.METHOD?void(c=null):e.attributes.URI?(e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),c={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void("undefined"!=typeof e.attributes.IV&&(c.iv=e.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){if(!isFinite(e.number))return void this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number});this.manifest.mediaSequence=e.number},"discontinuity-sequence":function(){if(!isFinite(e.number))return void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number});this.manifest.discontinuitySequence=e.number,h=e.number},"playlist-type":function(){if(!/VOD|EVENT/.test(e.playlistType))return void this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist});this.manifest.playlistType=e.playlistType},map:function(){u={},e.uri&&(u.uri=e.uri),e.byterange&&(u.byterange=e.byterange)},"stream-inf":function(){if(this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||p,!e.attributes)return void this.trigger("warn",{message:"ignoring empty stream-inf attributes"});s.attributes||(s.attributes={}),i(s.attributes,e.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||p,!(e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});var r=this.manifest.mediaGroups[e.attributes.TYPE];r[e.attributes["GROUP-ID"]]=r[e.attributes["GROUP-ID"]]||{},t=r[e.attributes["GROUP-ID"]],n={"default":/yes/i.test(e.attributes.DEFAULT)},n["default"]?n.autoselect=!0:n.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(n.language=e.attributes.LANGUAGE),e.attributes.URI&&(n.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(n.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(n.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(n.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=n},discontinuity:function(){h+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject},targetduration:function(){if(!isFinite(e.duration)||e.duration<0)return void this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration});this.manifest.targetDuration=e.duration},totalduration:function(){if(!isFinite(e.duration)||e.duration<0)return void this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration});this.manifest.totalDuration=e.duration},"cue-out":function(){s.cueOut=e.data},"cue-out-cont":function(){s.cueOutCont=e.data},"cue-in":function(){s.cueIn=e.data}})[e.tagType]||f).call(r)},uri:function(){s.uri=e.uri,o.push(s),!this.manifest.targetDuration||"duration"in s||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),c&&(s.key=c),s.timeline=h,u&&(s.map=u),s={}},comment:function(){}})[e.type].call(r)}),e}return r(a,e),o(a,[{key:"push",value:function(e){this.lineStream.push(e)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),a}(s["default"]);exports["default"]=f},{"./line-stream":34,"./parse-stream":35,"./stream":37}],37:[function(require,module,exports){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=function(){function n(){e(this,n),this.listeners={}}return t(n,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1}},{key:"trigger",value:function(e){var t=this.listeners[e],n=void 0,r=void 0,i=void 0;if(t)if(2===arguments.length)for(r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),r=t.length,n=0;n<r;++n)t[n].apply(this,i)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(e){this.on("data",function(t){e.push(t)})}}]),n}();exports["default"]=n},{}],38:[function(require,module,exports){"use strict";var e,t=require("../utils/stream.js");e=function(){var t=new Uint8Array,n=0;e.prototype.init.call(this),this.setTimestamp=function(e){n=e},this.parseId3TagSize=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},this.parseAdtsSize=function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n},this.push=function(e){var r,i,o,a,s=0,u=0;for(t.length?(a=t.length,t=new Uint8Array(e.byteLength+a),t.set(t.subarray(0,a)),t.set(e,a)):t=e;t.length-u>=3;)if(t[u]!=="I".charCodeAt(0)||t[u+1]!=="D".charCodeAt(0)||t[u+2]!=="3".charCodeAt(0))if(!0&t[u]&&240==(240&t[u+1])){if(t.length-u<7)break;if((s=this.parseAdtsSize(t,u))>t.length)break;o={type:"audio",data:t.subarray(u,u+s),pts:n,dts:n},this.trigger("data",o),u+=s}else u++;else{if(t.length-u<10)break;if((s=this.parseId3TagSize(t,u))>t.length)break;i={type:"timed-metadata",data:t.subarray(u,u+s)},this.trigger("data",i),u+=s}r=t.length-u,t=r>0?t.subarray(u):new Uint8Array}},e.prototype=new t,module.exports=e},{"../utils/stream.js":62}],39:[function(require,module,exports){"use strict";var e=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],t=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},n=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},r=function(e,t,r){return unescape(n(e,t,r))},i=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},o=function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n},a=function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},s=function(t){for(var n=0;n+5<t.length;){if(255===t[n]&&240==(246&t[n+1]))return e[(60&t[n+2])>>>2];n++}return null},u=function(e){var n,i,o;n=10,64&e[5]&&(n+=4,n+=t(e.subarray(10,14)));do{if((i=t(e.subarray(n+4,n+8)))<1)return null;if("PRIV"===String.fromCharCode(e[n],e[n+1],e[n+2],e[n+3])){o=e.subarray(n+10,n+i+10);for(var a=0;a<o.byteLength;a++)if(0===o[a]){var s=r(o,0,a);if("com.apple.streaming.transportStreamTimestamp"===s){var u=o.subarray(a+1),l=(1&u[3])<<30|u[4]<<22|u[5]<<14|u[6]<<6|u[7]>>>2;return l*=4,l+=3&u[7]}break}}n+=10,n+=i}while(n<e.byteLength);return null};module.exports={parseId3TagSize:i,parseAdtsSize:o,parseType:a,parseSampleRate:s,parseAacTimestamp:u}},{}],40:[function(require,module,exports){"use strict";var e,t=require("../utils/stream.js"),n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];e=function(){var t;e.prototype.init.call(this),this.push=function(e){var r,i,o,a,s,u,l=0,c=0;if("audio"===e.type)for(t?(a=t,t=new Uint8Array(a.byteLength+e.data.byteLength),t.set(a),t.set(e.data,a.byteLength)):t=e.data;l+5<t.length;)if(255===t[l]&&240==(246&t[l+1])){if(i=2*(1&~t[l+1]),r=(3&t[l+3])<<11|t[l+4]<<3|(224&t[l+5])>>5,s=1024*(1+(3&t[l+6])),u=9e4*s/n[(60&t[l+2])>>>2],o=l+r,t.byteLength<o)return;if(this.trigger("data",{pts:e.pts+c*u,dts:e.dts+c*u,sampleCount:s,audioobjecttype:1+(t[l+2]>>>6&3),channelcount:(1&t[l+2])<<2|(192&t[l+3])>>>6,samplerate:n[(60&t[l+2])>>>2],samplingfrequencyindex:(60&t[l+2])>>>2,samplesize:16,data:t.subarray(l+7+i,o)}),t.byteLength===o)return void(t=undefined);c++,t=t.subarray(o)}else l++},this.flush=function(){this.trigger("done")}},e.prototype=new t,module.exports=e},{"../utils/stream.js":62}],41:[function(require,module,exports){"use strict";var e,t,n,r=require("../utils/stream.js"),i=require("../utils/exp-golomb.js");t=function(){var e,n,r=0;t.prototype.init.call(this),this.push=function(t){var i;for(n?(i=new Uint8Array(n.byteLength+t.data.byteLength),i.set(n),i.set(t.data,n.byteLength),n=i):n=t.data;r<n.byteLength-3;r++)if(1===n[r+2]){e=r+5;break}for(;e<n.byteLength;)switch(n[e]){case 0:if(0!==n[e-1]){e+=2;break}if(0!==n[e-2]){e++;break}r+3!==e-2&&this.trigger("data",n.subarray(r+3,e-2));do{e++}while(1!==n[e]&&e<n.length);r=e-2,e+=3;break;case 1:if(0!==n[e-1]||0!==n[e-2]){e+=3;break}this.trigger("data",n.subarray(r+3,e-2)),r=e-2,e+=3;break;default:e+=3}n=n.subarray(r),e-=r,r=0},this.flush=function(){n&&n.byteLength>3&&this.trigger("data",n.subarray(r+3)),n=null,r=0,this.trigger("done")}},t.prototype=new r,n={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},e=function(){var r,o,a,s,u,l,c,d=new t;e.prototype.init.call(this),r=this,this.push=function(e){"video"===e.type&&(o=e.trackId,a=e.pts,s=e.dts,d.push(e))},d.on("data",function(e){var t={trackId:o,pts:a,dts:s,data:e};switch(31&e[0]){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=u(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=u(e.subarray(1)),t.config=l(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}r.trigger("data",t)}),d.on("done",function(){r.trigger("done")}),this.flush=function(){d.flush()},c=function(e,t){var n,r,i=8,o=8;for(n=0;n<e;n++)0!==o&&(r=t.readExpGolomb(),o=(i+r+256)%256),i=0===o?i:o},u=function(e){for(var t,n,r=e.byteLength,i=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=e[a];return n},l=function(e){var t,r,o,a,s,u,l,d,f,p,h,y,g,m=0,v=0,_=0,b=0,w=1;if(t=new i(e),r=t.readUnsignedByte(),a=t.readUnsignedByte(),o=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),n[r]&&(s=t.readUnsignedExpGolomb(),3===s&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==s?8:12,g=0;g<h;g++)t.readBoolean()&&(g<6?c(16,t):c(64,t));if(t.skipUnsignedExpGolomb(),0===(u=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===u)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),g=0;g<l;g++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),d=t.readUnsignedExpGolomb(),f=t.readUnsignedExpGolomb(),p=t.readBits(1),0===p&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(m=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb(),_=t.readUnsignedExpGolomb(),b=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:y=[1,1];break;case 2:y=[12,11];break;case 3:y=[10,11];break;case 4:y=[16,11];break;case 5:y=[40,33];break;case 6:y=[24,11];break;case 7:y=[20,11];break;case 8:y=[32,11];break;case 9:y=[80,33];break;case 10:y=[18,11];break;case 11:y=[15,11];break;case 12:y=[64,33];break;case 13:y=[160,99];break;case 14:y=[4,3];break;case 15:y=[3,2];break;case 16:y=[2,1];break;case 255:y=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}y&&(w=y[0]/y[1])}return{profileIdc:r,levelIdc:o,profileCompatibility:a,width:Math.ceil((16*(d+1)-2*m-2*v)*w),height:(2-p)*(f+1)*16-2*_-2*b}}},e.prototype=new r,module.exports={H264Stream:e,NalByteStream:t}},{"../utils/exp-golomb.js":61,"../utils/stream.js":62}],42:[function(require,module,exports){var e=[33,16,5,32,164,27],t=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],n=function(e){for(var t=[];e--;)t.push(0);return t},r=function(e){return Object.keys(e).reduce(function(t,n){return t[n]=new Uint8Array(e[n].reduce(function(e,t){return e.concat(t)},[])),t},{})},i={96e3:[e,[227,64],n(154),[56]],88200:[e,[231],n(170),[56]],64e3:[e,[248,192],n(240),[56]],48e3:[e,[255,192],n(268),[55,148,128],n(54),[112]],44100:[e,[255,192],n(268),[55,163,128],n(84),[112]],32e3:[e,[255,192],n(268),[55,234],n(226),[112]],24e3:[e,[255,192],n(268),[55,255,128],n(268),[111,112],n(126),[224]],16e3:[e,[255,192],n(268),[55,255,128],n(268),[111,255],n(269),[223,108],n(195),[1,192]],12e3:[t,n(268),[3,127,248],n(268),[6,255,240],n(268),[13,255,224],n(268),[27,253,128],n(259),[56]],11025:[t,n(268),[3,127,248],n(268),[6,255,240],n(268),[13,255,224],n(268),[27,255,192],n(268),[55,175,128],n(108),[112]],8e3:[t,n(268),[3,121,16],n(47),[7]]};module.exports=r(i)},{}],43:[function(require,module,exports){"use strict";var e=require("../utils/stream.js"),t=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,t.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}};t.prototype=new e,t.prototype.flush=function(e){var t,n,r,i,o={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(0===this.pendingTracks&&++this.processedTracks<this.numberOfTracks)return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?i=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(i=this.audioTrack.timelineStartInfo.pts),o.tags.videoTags=this.videoTags,o.tags.audioTags=this.audioTags,r=0;r<this.pendingCaptions.length;r++)n=this.pendingCaptions[r],n.startTime=n.startPts-i,n.startTime/=9e4,n.endTime=n.endPts-i,n.endTime/=9e4,o.captionStreams[n.stream]=!0,o.captions.push(n);for(r=0;r<this.pendingMetadata.length;r++)t=this.pendingMetadata[r],t.cueTime=t.pts-i,t.cueTime/=9e4,o.metadata.push(t);o.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",o),this.trigger("done")}},module.exports=t},{"../utils/stream.js":62}],44:[function(require,module,exports){"use strict";var e=require("./flv-tag.js"),t=function(t,n,r){var i,o,a,s=new Uint8Array(9),u=new DataView(s.buffer);return t=t||0,n=n===undefined||n,r=r===undefined||r,u.setUint8(0,70),u.setUint8(1,76),u.setUint8(2,86),u.setUint8(3,1),u.setUint8(4,(n?4:0)|(r?1:0)),u.setUint32(5,s.byteLength),t<=0?(o=new Uint8Array(s.byteLength+4),o.set(s),o.set([0,0,0,0],s.byteLength),o):(i=new e(e.METADATA_TAG),i.pts=i.dts=0,i.writeMetaDataDouble("duration",t),a=i.finalize().length,o=new Uint8Array(s.byteLength+a),o.set(s),o.set(u.byteLength,a),o)};module.exports=t},{"./flv-tag.js":45}],45:[function(require,module,exports){"use strict";var e;e=function(t,n){var r,i=0,o=16384,a=function(e,t){var n,r=e.position+t;r<e.bytes.byteLength||(n=new Uint8Array(2*r),n.set(e.bytes.subarray(0,e.position),0),e.bytes=n,e.view=new DataView(e.bytes.buffer))},s=e.widthBytes||new Uint8Array("width".length),u=e.heightBytes||new Uint8Array("height".length),l=e.videocodecidBytes||new Uint8Array("videocodecid".length);if(!e.widthBytes){for(r=0;r<"width".length;r++)s[r]="width".charCodeAt(r);for(r=0;r<"height".length;r++)u[r]="height".charCodeAt(r);for(r=0;r<"videocodecid".length;r++)l[r]="videocodecid".charCodeAt(r);e.widthBytes=s,e.heightBytes=u,e.videocodecidBytes=l}switch(this.keyFrame=!1,t){case e.VIDEO_TAG:this.length=16,o*=6;break;case e.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case e.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(o),this.view=new DataView(this.bytes.buffer),this.bytes[0]=t,this.position=this.length,this.keyFrame=n,this.pts=0,this.dts=0,this.writeBytes=function(e,t,n){var r,i=t||0;n=n||e.byteLength,r=i+n,a(this,n),this.bytes.set(e.subarray(i,r),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){a(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){a(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===i?0:this.length-(i+4)},this.startNalUnit=function(){if(i>0)throw new Error("Attempted to create new NAL wihout closing the old one");i=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,n;this.length===i+4?this.length-=4:i>0&&(t=i+4,n=this.length-t,this.position=i,this.view.setUint32(this.position,n),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+n))),i=0},this.writeMetaDataDouble=function(e,t){var n;if(a(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(s,this.position),this.position+=5;else if("height"===e)this.bytes.set(u,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(l,this.position),this.position+=12;else for(n=0;n<e.length;n++)this.bytes[this.position]=e.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++i},this.writeMetaDataBoolean=function(e,t){var n;for(a(this,2),this.view.setUint16(this.position,e.length),this.position+=2,n=0;n<e.length;n++)a(this,1),this.bytes[this.position]=e.charCodeAt(n),this.position++;a(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++i},this.finalize=function(){var t,r;switch(this.bytes[0]){case e.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||n?16:32),this.bytes[12]=n?0:1,t=this.pts-this.dts,this.bytes[13]=(16711680&t)>>>16,this.bytes[14]=(65280&t)>>>8,this.bytes[15]=(255&t)>>>0;break;case e.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=n?0:1;break;case e.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,i),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return r=this.length-11,this.bytes[1]=(16711680&r)>>>16,this.bytes[2]=(65280&r)>>>8,this.bytes[3]=(255&r)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,a(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=e.frameTime(this.bytes),this}},e.AUDIO_TAG=8,e.VIDEO_TAG=9,e.METADATA_TAG=18,e.isAudioFrame=function(t){return e.AUDIO_TAG===t[0]},e.isVideoFrame=function(t){return e.VIDEO_TAG===t[0]},e.isMetaData=function(t){return e.METADATA_TAG===t[0]},e.isKeyFrame=function(t){return e.isVideoFrame(t)?23===t[11]:!!e.isAudioFrame(t)||!!e.isMetaData(t)},e.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,t|=e[6]<<0,t|=e[7]<<24},module.exports=e},{}],46:[function(require,module,exports){module.exports={tag:require("./flv-tag"),Transmuxer:require("./transmuxer"),getFlvHeader:require("./flv-header")}},{"./flv-header":44,"./flv-tag":45,"./transmuxer":48}],47:[function(require,module,exports){"use strict";var e=function(){var e=this;this.list=[],this.push=function(e){this.list.push({bytes:e.bytes,dts:e.dts,pts:e.pts,keyFrame:e.keyFrame,metaDataTag:e.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})};module.exports=e},{}],48:[function(require,module,exports){"use strict";var e,t,n,r,i,o,a=require("../utils/stream.js"),s=require("./flv-tag.js"),u=require("../m2ts/m2ts.js"),l=require("../codecs/adts.js"),c=require("../codecs/h264").H264Stream,d=require("./coalesce-stream.js"),f=require("./tag-list.js");r=function(e,t){"number"==typeof t.pts&&(e.timelineStartInfo.pts===undefined?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"==typeof t.dts&&(e.timelineStartInfo.dts===undefined?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},i=function(e,t){var n=new s(s.METADATA_TAG);return n.dts=t,n.pts=t,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",e.width),n.writeMetaDataDouble("height",e.height),n},o=function(e,t){var n,r=new s(s.VIDEO_TAG,!0);for(r.dts=t,r.pts=t,r.writeByte(1),r.writeByte(e.profileIdc),r.writeByte(e.profileCompatibility),r.writeByte(e.levelIdc),r.writeByte(255),r.writeByte(225),r.writeShort(e.sps[0].length),r.writeBytes(e.sps[0]),r.writeByte(e.pps.length),n=0;n<e.pps.length;++n)r.writeShort(e.pps[n].length),r.writeBytes(e.pps[n]);return r},n=function(e){var t,i=[],o=[];n.prototype.init.call(this),this.push=function(t){r(e,t),e&&(e.audioobjecttype=t.audioobjecttype,e.channelcount=t.channelcount,e.samplerate=t.samplerate,e.samplingfrequencyindex=t.samplingfrequencyindex,e.samplesize=t.samplesize,e.extraData=e.audioobjecttype<<11|e.samplingfrequencyindex<<7|e.channelcount<<3),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),i.push(t)},this.flush=function(){var n,r,a,u=new f;if(0===i.length)return void this.trigger("done","AudioSegmentStream");for(a=-Infinity;i.length;)n=i.shift(),o.length&&n.pts>=o[0]&&(a=o.shift(),this.writeMetaDataTags(u,a)),(e.extraData!==t||n.pts-a>=1e3)&&(this.writeMetaDataTags(u,n.pts),t=e.extraData,a=n.pts),r=new s(s.AUDIO_TAG),r.pts=n.pts,r.dts=n.dts,r.writeBytes(n.data),u.push(r.finalize());o.length=0,t=null,this.trigger("data",{track:e,tags:u.list}),this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(t,n){var r;r=new s(s.METADATA_TAG),r.pts=n,r.dts=n,r.writeMetaDataDouble("audiocodecid",10),r.writeMetaDataBoolean("stereo",2===e.channelcount),r.writeMetaDataDouble("audiosamplerate",e.samplerate),r.writeMetaDataDouble("audiosamplesize",16),t.push(r.finalize()),r=new s(s.AUDIO_TAG,!0),r.pts=n,r.dts=n,r.view.setUint16(r.position,e.extraData),r.position+=2,r.length=Math.max(r.length,r.position),t.push(r.finalize())},this.onVideoKeyFrame=function(e){o.push(e)}},n.prototype=new a,t=function(e){var n,a,u=[];t.prototype.init.call(this),this.finishFrame=function(t,r){if(r){if(n&&e&&e.newMetadata&&(r.keyFrame||0===t.length)){var s=i(n,r.dts).finalize(),u=o(e,r.dts).finalize();s.metaDataTag=u.metaDataTag=!0,t.push(s),t.push(u),e.newMetadata=!1,this.trigger("keyframe",r.dts)}r.endNalUnit(),t.push(r.finalize()),a=null}},this.push=function(t){r(e,t),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),u.push(t)},this.flush=function(){for(var t,r=new f;u.length&&"access_unit_delimiter_rbsp"!==u[0].nalUnitType;)u.shift();if(0===u.length)return void this.trigger("done","VideoSegmentStream");for(;u.length;)t=u.shift(),"seq_parameter_set_rbsp"===t.nalUnitType?(e.newMetadata=!0,n=t.config,e.width=n.width,e.height=n.height,e.sps=[t.data],e.profileIdc=n.profileIdc,e.levelIdc=n.levelIdc,e.profileCompatibility=n.profileCompatibility,a.endNalUnit()):"pic_parameter_set_rbsp"===t.nalUnitType?(e.newMetadata=!0,e.pps=[t.data],a.endNalUnit()):"access_unit_delimiter_rbsp"===t.nalUnitType?(a&&this.finishFrame(r,a),a=new s(s.VIDEO_TAG),a.pts=t.pts,a.dts=t.dts):("slice_layer_without_partitioning_rbsp_idr"===t.nalUnitType&&(a.keyFrame=!0),a.endNalUnit()),a.startNalUnit(),a.writeBytes(t.data);a&&this.finishFrame(r,a),this.trigger("data",{track:e,tags:r.list}),this.trigger("done","VideoSegmentStream")}},t.prototype=new a,e=function(r){var i,o,a,s,f,p,h,y,g,m,v,_,b=this;e.prototype.init.call(this),r=r||{},this.metadataStream=new u.MetadataStream,r.metadataStream=this.metadataStream,i=new u.TransportPacketStream,o=new u.TransportParseStream,a=new u.ElementaryStream,s=new u.TimestampRolloverStream("video"),f=new u.TimestampRolloverStream("audio"),p=new u.TimestampRolloverStream("timed-metadata"),h=new l,y=new c,_=new d(r),i.pipe(o).pipe(a),a.pipe(s).pipe(y),a.pipe(f).pipe(h),a.pipe(p).pipe(this.metadataStream).pipe(_),v=new u.CaptionStream,y.pipe(v).pipe(_),a.on("data",function(e){var r,i,o;if("metadata"===e.type){for(r=e.tracks.length;r--;)"video"===e.tracks[r].type?i=e.tracks[r]:"audio"===e.tracks[r].type&&(o=e.tracks[r]);i&&!g&&(_.numberOfTracks++,g=new t(i),y.pipe(g).pipe(_)),o&&!m&&(_.numberOfTracks++,m=new n(o),h.pipe(m).pipe(_),g&&g.on("keyframe",m.onVideoKeyFrame))}}),this.push=function(e){i.push(e)},this.flush=function(){i.flush()},this.resetCaptions=function(){v.reset()},_.on("data",function(e){b.trigger("data",e)}),_.on("done",function(){b.trigger("done")})},e.prototype=new a,module.exports=e},{"../codecs/adts.js":40,"../codecs/h264":41,"../m2ts/m2ts.js":50,"../utils/stream.js":62,"./coalesce-stream.js":43,"./flv-tag.js":45,"./tag-list.js":47}],49:[function(require,module,exports){"use strict";var e=4,t=128,n=require("../utils/stream"),r=function(n){for(var r=0,i={payloadType:-1,payloadSize:0},o=0,a=0;r<n.byteLength&&n[r]!==t;){for(;255===n[r];)o+=255,r++;for(o+=n[r++];255===n[r];)a+=255,r++;if(a+=n[r++],!i.payload&&o===e){i.payloadType=o,i.payloadSize=a,i.payload=n.subarray(r,r+a);break}r+=a,o=0,a=0}return i},i=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},o=function(e,t){var n,r,i,o,a=[];if(!(64&t[0]))return a;for(r=31&t[0],n=0;n<r;n++)i=3*n,o={type:3&t[i+2],pts:e},4&t[i+2]&&(o.ccData=t[i+3]<<8|t[i+4],a.push(o));return a},a=function(){a.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new f(0,0),new f(0,1),new f(1,0),new f(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)};a.prototype=new n,a.prototype.push=function(t){var n,a;if("sei_rbsp"===t.nalUnitType&&(n=r(t.escapedRBSP),n.payloadType===e&&(a=i(n)))){if(t.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(this.ignoreNextEqualDts_=!1);this.captionPackets_=this.captionPackets_.concat(o(t.pts,a)),this.latestDts_=t.dts}},a.prototype.flush=function(){if(!this.captionPackets_.length)return void this.ccStreams_.forEach(function(e){e.flush()},this);this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)},a.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},a.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},a.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},a.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)};var s={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},u=function(e){return null===e?"":(e=s[e]||e,String.fromCharCode(e))},l=14,c=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],d=function(){for(var e=[],t=l+1;t--;)e.push("");return e},f=function(e,t){f.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,r,i,o;if((t=32639&e.ccData)===this.lastControlCode_)return void(this.lastControlCode_=null);if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.topRow_=l-1,this.mode_="rollUp";else if(t===this.ROLL_UP_3_ROWS_)this.topRow_=l-2,this.mode_="rollUp";else if(t===this.ROLL_UP_4_ROWS_)this.topRow_=l-3,this.mode_="rollUp";else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[l]=this.nonDisplayed_[l].slice(0,-1):this.displayed_[l]=this.displayed_[l].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=d();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=d();else if(t===this.RESUME_DIRECT_CAPTIONING_)this.mode_="paintOn";else if(this.isSpecialCharacter(r,i))r=(3&r)<<8,o=u(r|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[l]=this.displayed_[l].slice(0,-1),r=(3&r)<<8,o=u(r|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&i)&&this.addFormatting(e.pts,["i"]),1==(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var a=c.indexOf(7968&t);a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),o=u(r),o+=u(i),this[this.mode_](e.pts,o),this.column_+=o.length)}};f.prototype=new n,f.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},f.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=d(),this.nonDisplayed_=d(),this.lastControlCode_=null,this.column_=0,this.row_=l,this.formatting_=[]},f.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},f.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},f.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},f.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},f.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},f.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},f.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},f.prototype.isNormalChar=function(e){return e>=32&&e<=127},f.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,n)},f.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},f.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},f.prototype.rollUp=function(e,t){var n=this.displayed_[l];n+=t,this.displayed_[l]=n},f.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.topRow_;e<l;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[l]=""},f.prototype.paintOn=function(){},module.exports={CaptionStream:a,Cea608Stream:f}},{"../utils/stream":62}],50:[function(require,module,exports){"use strict";var e,t,n,r=require("../utils/stream.js"),i=require("./caption-stream"),o=require("./stream-types"),a=require("./timestamp-rollover-stream").TimestampRolloverStream,s=require("./stream-types.js"),u=188,l=71;e=function(){var t=new Uint8Array(u),n=0;e.prototype.init.call(this),this.push=function(e){var r,i=0,o=u;for(n?(r=new Uint8Array(e.byteLength+n),r.set(t.subarray(0,n)),r.set(e,n),n=0):r=e;o<r.byteLength;)r[i]!==l||r[o]!==l?(i++,o++):(this.trigger("data",r.subarray(i,o)),i+=u,o+=u);i<r.byteLength&&(t.set(r.subarray(i),0),n=r.byteLength-i)},this.flush=function(){n===u&&t[0]===l&&(this.trigger("data",t),n=0),this.trigger("done")}},e.prototype=new r,t=function(){var e,n,r,i;t.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=undefined,e=function(e,t){var i=0;t.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===t.type?n(e.subarray(i),t):r(e.subarray(i),t)},n=function(e,t){t.section_number=e[7],t.last_section_number=e[8],i.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=i.pmtPid},r=function(e,t){var n,r,a,s;if(1&e[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=(15&e[1])<<8|e[2],r=3+n-4,a=(15&e[10])<<8|e[11],s=12+a;s<r;){var u=e[s],l=(31&e[s+1])<<8|e[s+2];u===o.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=l:u===o.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=l:u===o.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][l]=u),s+=5+((15&e[s+3])<<8|e[s+4])}t.programMapTable=i.programMapTable}},this.push=function(t){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===n.pid)n.type="pat",e(t.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===undefined?this.packetsWaitingForPmt.push([t,r,n]):this.processPes_(t,r,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=o.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=o.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},t.prototype=new r,t.STREAM_TYPES={h264:27,adts:15},n=function(){var e=this,t={data:[],size:0},r={data:[],size:0},i={data:[],size:0},a=function(e,t){var n;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),n=e[7],192&n&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])},u=function(t,n,r){var i,o=new Uint8Array(t.size),s={type:n},u=0,l=0,c=!1;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,u=0;u<t.data.length;u++)i=t.data[u],o.set(i.data,l),l+=i.data.byteLength;a(o,s),c="video"===n||s.packetLength<=t.size,(r||c)&&(t.size=0,t.data.length=0),c&&e.trigger("data",s)}};n.prototype.init.call(this),this.push=function(n){({pat:function(){},pes:function(){var e,a;switch(n.streamType){case o.H264_STREAM_TYPE:case s.H264_STREAM_TYPE:e=t,a="video";break;case o.ADTS_STREAM_TYPE:e=r,a="audio";break;case o.METADATA_STREAM_TYPE:e=i,a="timed-metadata";break;default:return}n.payloadUnitStartIndicator&&u(e,a,!0),e.data.push(n),e.size+=n.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},r=n.programMapTable;null!==r.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+r.video,codec:"avc",type:"video"}),null!==r.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+r.audio,codec:"adts",type:"audio"}),e.trigger("data",t)}})[n.type]()},this.flush=function(){u(t,"video"),u(r,"audio"),u(i,"timed-metadata"),this.trigger("done")}},n.prototype=new r;var c={PAT_PID:0,MP2T_PACKET_LENGTH:u,TransportPacketStream:e,TransportParseStream:t,ElementaryStream:n,TimestampRolloverStream:a,CaptionStream:i.CaptionStream,Cea608Stream:i.Cea608Stream,MetadataStream:require("./metadata-stream")};for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d]);module.exports=c},{"../utils/stream.js":62,"./caption-stream":49,"./metadata-stream":51,"./stream-types":53,"./stream-types.js":53,"./timestamp-rollover-stream":54}],51:[function(require,module,exports){"use strict";var e,t=require("../utils/stream"),n=require("./stream-types"),r=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},i=function(e,t,n){return decodeURIComponent(r(e,t,n))},o=function(e,t,n){return unescape(r(e,t,n))},a=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},s={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=i(e.data,1,t),e.value=i(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=i(e.data,1,t),e.url=i(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=o(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};e=function(t){var r,i={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},o=0,u=[],l=0;if(e.prototype.init.call(this),this.dispatchType=n.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(r=0;r<i.descriptor.length;r++)this.dispatchType+=("00"+i.descriptor[r].toString(16)).slice(-2);this.push=function(e){var t,n,r,c,d,f;if("timed-metadata"===e.type){if(e.dataAlignmentIndicator&&(l=0,u.length=0),0===u.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))return void(i.debug&&console.log("Skipping unrecognized metadata packet"));if(u.push(e),l+=e.data.byteLength,1===u.length&&(o=a(e.data.subarray(6,10)),o+=10),!(l<o)){for(t={data:new Uint8Array(o),frames:[],pts:u[0].pts,dts:u[0].dts},d=0;d<o;)t.data.set(u[0].data.subarray(0,o-d),d),d+=u[0].data.byteLength,l-=u[0].data.byteLength,u.shift();n=10,64&t.data[5]&&(n+=4,n+=a(t.data.subarray(10,14)),o-=a(t.data.subarray(16,20)));do{if((r=a(t.data.subarray(n+4,n+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(f=String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),c={id:f,data:t.data.subarray(n+10,n+r+10)},c.key=c.id,s[c.id]&&(s[c.id](c),"com.apple.streaming.transportStreamTimestamp"===c.owner)){var p=c.data,h=(1&p[3])<<30|p[4]<<22|p[5]<<14|p[6]<<6|p[7]>>>2;h*=4,h+=3&p[7],c.timeStamp=h,t.pts===undefined&&t.dts===undefined&&(t.pts=c.timeStamp,t.dts=c.timeStamp),this.trigger("timestamp",c)}t.frames.push(c),n+=10,n+=r}while(n<o);this.trigger("data",t)}}}},e.prototype=new t,module.exports=e},{"../utils/stream":62,"./stream-types":53}],52:[function(require,module,exports){"use strict";var e=require("./stream-types.js"),t=function(e){var t=31&e[1];return t<<=8,t|=e[2]},n=function(e){return!!(64&e[1])},r=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},i=function(e,n){var r=t(e);return 0===r?"pat":r===n?"pmt":n?"pes":null},o=function(e){var t=n(e),i=4+r(e);return t&&(i+=e[i]+1),(31&e[i+10])<<8|e[i+11]},a=function(e){var t={},i=n(e),o=4+r(e);if(i&&(o+=e[o]+1),1&e[o+5]){var a,s,u;a=(15&e[o+1])<<8|e[o+2],s=3+a-4,u=(15&e[o+10])<<8|e[o+11];for(var l=12+u;l<s;){var c=o+l;t[(31&e[c+1])<<8|e[c+2]]=e[c],l+=5+((15&e[c+3])<<8|e[c+4])}return t}},s=function(n,r){switch(r[t(n)]){case e.H264_STREAM_TYPE:return"video";case e.ADTS_STREAM_TYPE:return"audio";case e.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},u=function(e){if(!n(e))return null;var t=4+r(e);if(t>=e.byteLength)return null;var i,o=null;return i=e[t+7],192&i&&(o={},o.pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,o.pts*=4,o.pts+=(6&e[t+13])>>>1,o.dts=o.pts,64&i&&(o.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,o.dts*=4,o.dts+=(6&e[t+18])>>>1)),o},l=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},c=function(e){for(var t,n=4+r(e),i=e.subarray(n),o=0,a=0,s=!1;a<i.byteLength-3;a++)if(1===i[a+2]){o=a+5;break}for(;o<i.byteLength;)switch(i[o]){case 0:if(0!==i[o-1]){o+=2;break}if(0!==i[o-2]){o++;break}a+3!==o-2&&"slice_layer_without_partitioning_rbsp_idr"===(t=l(31&i[a+3]))&&(s=!0);do{o++}while(1!==i[o]&&o<i.length);a=o-2,o+=3;break;case 1:if(0!==i[o-1]||0!==i[o-2]){o+=3;break}t=l(31&i[a+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(s=!0),a=o-2,o+=3;break;default:o+=3}return i=i.subarray(a),o-=a,a=0,i&&i.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===(t=l(31&i[a+3]))&&(s=!0),s};module.exports={parseType:i,parsePat:o,parsePmt:a,parsePayloadUnitStartIndicator:n,parsePesType:s,parsePesTime:u,videoPacketContainsKeyFrame:c}},{"./stream-types.js":53}],53:[function(require,module,exports){"use strict";module.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],54:[function(require,module,exports){"use strict";var e=require("../utils/stream"),t=8589934592,n=4294967296,r=function(e,r){var i=1;for(e>r&&(i=-1);Math.abs(r-e)>n;)e+=i*t;return e},i=function(e){var t,n;i.prototype.init.call(this),this.type_=e,this.push=function(e){e.type===this.type_&&(n===undefined&&(n=e.dts),e.dts=r(e.dts,n),e.pts=r(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")},this.discontinuity=function(){n=void 0,t=void 0}};i.prototype=new e,module.exports={TimestampRolloverStream:i,handleRollover:r}},{"../utils/stream":62}],55:[function(require,module,exports){module.exports={generator:require("./mp4-generator"),Transmuxer:require("./transmuxer").Transmuxer,AudioSegmentStream:require("./transmuxer").AudioSegmentStream,VideoSegmentStream:require("./transmuxer").VideoSegmentStream}},{"./mp4-generator":56,"./transmuxer":58}],56:[function(require,module,exports){"use strict";var e,t,n,r,i,o,a,s,u,l,c,d,f,p,h,y,g,m,v,_,b,w,T,S,E,O,k,P,C,I,j,x,A,M,L,R,D=Math.pow(2,32)-1;!function(){var e;if(T={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in T)T.hasOwnProperty(e)&&(T[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);S=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),O=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),E=new Uint8Array([0,0,0,1]),k=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),P=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),C={video:k,audio:P},x=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),j=new Uint8Array([0,0,0,0,0,0,0,0]),A=new Uint8Array([0,0,0,0,0,0,0,0]),M=A,L=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),R=A,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),e=function(e){var t,n,r,i=[],o=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)o+=i[t].byteLength;for(n=new Uint8Array(o+8),r=new DataView(n.buffer,n.byteOffset,n.byteLength),r.setUint32(0,n.byteLength),n.set(e,4),t=0,o=8;t<i.length;t++)n.set(i[t],o),o+=i[t].byteLength;return n},t=function(){return e(T.dinf,e(T.dref,x))},n=function(t){return e(T.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},r=function(){return e(T.ftyp,S,E,S,O)},y=function(t){return e(T.hdlr,C[t])},i=function(t){return e(T.mdat,t)},h=function(t){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(n[12]=t.samplerate>>>24&255,n[13]=t.samplerate>>>16&255,n[14]=t.samplerate>>>8&255,n[15]=255&t.samplerate),e(T.mdhd,n)},p=function(t){return e(T.mdia,h(t),y(t.type),a(t))},o=function(t){return e(T.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},a=function(n){return e(T.minf,"video"===n.type?e(T.vmhd,I):e(T.smhd,j),t(),m(n))},s=function(t,n){for(var r=[],i=n.length;i--;)r[i]=_(n[i]);return e.apply(null,[T.moof,o(t)].concat(r))},u=function(t){for(var n=t.length,r=[];n--;)r[n]=d(t[n]);return e.apply(null,[T.moov,c(4294967295)].concat(r).concat(l(t)))},l=function(t){for(var n=t.length,r=[];n--;)r[n]=b(t[n]);return e.apply(null,[T.mvex].concat(r))},c=function(t){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e(T.mvhd,n)},g=function(t){var n,r,i=t.samples||[],o=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,o[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e(T.sdtp,o)},m=function(t){return e(T.stbl,v(t),e(T.stts,R),e(T.stsc,M),e(T.stsz,L),e(T.stco,A))},function(){var t,r;v=function(n){return e(T.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===n.type?t(n):r(n))},t=function(t){var n,r=t.sps||[],i=t.pps||[],o=[],a=[];for(n=0;n<r.length;n++)o.push((65280&r[n].byteLength)>>>8),o.push(255&r[n].byteLength),o=o.concat(Array.prototype.slice.call(r[n]));for(n=0;n<i.length;n++)a.push((65280&i[n].byteLength)>>>8),a.push(255&i[n].byteLength),a=a.concat(Array.prototype.slice.call(i[n]));return e(T.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),e(T.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([r.length]).concat(o).concat([i.length]).concat(a))),e(T.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},r=function(t){return e(T.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),n(t))}}(),f=function(t){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return e(T.tkhd,n)},_=function(t){var n,r,i,o,a,s,u;return n=e(T.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(t.baseMediaDecodeTime/(D+1)),u=Math.floor(t.baseMediaDecodeTime%(D+1)),r=e(T.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,u>>>24&255,u>>>16&255,u>>>8&255,255&u])),a=92,"audio"===t.type?(i=w(t,a),e(T.traf,n,r,i)):(o=g(t),i=w(t,o.length+a),e(T.traf,n,r,i,o))},d=function(t){return t.duration=t.duration||4294967295,e(T.trak,f(t),p(t))},b=function(t){var n=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(n[n.length-1]=0),e(T.trex,n)},function(){var t,n,r;r=function(e,t){var n=0,r=0,i=0,o=0;return e.length&&(e[0].duration!==undefined&&(n=1),e[0].size!==undefined&&(r=2),e[0].flags!==undefined&&(i=4),e[0].compositionTimeOffset!==undefined&&(o=8)),[0,0,n|r|i|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},n=function(t,n){var i,o,a,s;for(o=t.samples||[],n+=20+16*o.length,i=r(o,n),s=0;s<o.length;s++)a=o[s],i=i.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size,a.flags.isLeading<<2|a.flags.dependsOn,a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,61440&a.flags.degradationPriority,15&a.flags.degradationPriority,(4278190080&a.compositionTimeOffset)>>>24,(16711680&a.compositionTimeOffset)>>>16,(65280&a.compositionTimeOffset)>>>8,255&a.compositionTimeOffset]);return e(T.trun,new Uint8Array(i))},t=function(t,n){var i,o,a,s;for(o=t.samples||[],n+=20+8*o.length,i=r(o,n),s=0;s<o.length;s++)a=o[s],i=i.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size]);return e(T.trun,new Uint8Array(i))},w=function(e,r){return"audio"===e.type?t(e,r):n(e,r)}}(),module.exports={ftyp:r,mdat:i,moof:s,moov:u,initSegment:function(e){var t,n=r(),i=u(e);return t=new Uint8Array(n.byteLength+i.byteLength),t.set(n),t.set(i,n.byteLength),t}}},{}],57:[function(require,module,exports){"use strict";var e,t,n,r;e=function(n,r){var i,o,a,s,u,l=[];if(!r.length)return null;for(i=0;i<n.byteLength;)o=n[i]<<24,o|=n[i+1]<<16,o|=n[i+2]<<8,o|=n[i+3],a=t(n.subarray(i+4,i+8)),s=o>1?i+o:n.byteLength,a===r[0]&&(1===r.length?l.push(n.subarray(i+8,s)):(u=e(n.subarray(i+8,s),r.slice(1)),u.length&&(l=l.concat(u)))),i=s;return l},t=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},n=function(t){var n={};return e(t,["moov","trak"]).reduce(function(t,n){var r,version,i,o,a;return(r=e(n,["tkhd"])[0])?(version=r[0],i=0===version?12:20,o=r[i]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3],(a=e(n,["mdia","mdhd"])[0])?(version=a[0],i=0===version?12:20,t[o]=a[i]<<24|a[i+1]<<16|a[i+2]<<8|a[i+3],t):null):null},n)},r=function(t,n){var r,i,o;return r=e(n,["moof","traf"]),i=[].concat.apply([],r.map(function(n){return e(n,["tfhd"]).map(function(r){var i,o,a;return i=r[4]<<24|r[5]<<16|r[6]<<8|r[7],o=t[i]||9e4,a=e(n,["tfdt"]).map(function(e){var version,t;return version=e[0],t=e[4]<<24|e[5]<<16|e[6]<<8|e[7],1===version&&(t*=Math.pow(2,32),t+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t})[0],(a=a||Infinity)/o})})),o=Math.min.apply(null,i),isFinite(o)?o:0},module.exports={parseType:t,timescale:n,startTime:r}},{}],58:[function(require,module,exports){"use strict";var e,t,n,r,i,o,a,s,u,l,c,d=require("../utils/stream.js"),f=require("./mp4-generator.js"),p=require("../m2ts/m2ts.js"),h=require("../codecs/adts.js"),y=require("../codecs/h264").H264Stream,g=require("../aac"),m=require("../data/silence"),v=require("../utils/clock"),_=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],b=["width","height","profileIdc","levelIdc","profileCompatibility"],w=9e4;i=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}},o=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},l=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},c=function(e){var t,n,r=0;for(t=0;t<e.length;t++)n=e[t],r+=n.data.byteLength;return r},t=function(e){var n=[],r=0,i=0,o=0,l=Infinity;t.prototype.init.call(this),this.push=function(t){a(e,t),e&&_.forEach(function(n){e[n]=t[n]}),n.push(t)},this.setEarliestDts=function(t){i=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){l=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var t,i,o,a;if(0===n.length)return void this.trigger("done","AudioSegmentStream");t=this.trimAdtsFramesByEarliestDts_(n),e.baseMediaDecodeTime=u(e),this.prefixWithSilence_(e,t),e.samples=this.generateSampleTable_(t),o=f.mdat(this.concatenateFrameData_(t)),n=[],i=f.moof(r,[e]),a=new Uint8Array(i.byteLength+o.byteLength),r++,a.set(i),a.set(o,i.byteLength),s(e),this.trigger("data",{track:e,boxes:a}),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(e,t){var n,r,i,a=0,s=0,u=0,c=0;if(t.length&&(n=v.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),a=Math.ceil(w/(e.samplerate/1024)),o&&l&&(s=n-Math.max(o,l),u=Math.floor(s/a),c=u*a),!(u<1||c>w/2))){for(r=m[e.samplerate],r||(r=t[0].data),i=0;i<u;i++)t.splice(i,0,{data:r});e.baseMediaDecodeTime-=Math.floor(v.videoTsToAudioTs(c,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(t){return e.minSegmentDts>=i?t:(e.minSegmentDts=Infinity,t.filter(function(t){return t.dts>=i&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],r.push({size:n.data.byteLength,duration:1024});return r},this.concatenateFrameData_=function(e){var t,n,r=0,i=new Uint8Array(c(e));for(t=0;t<e.length;t++)n=e[t],i.set(n.data,r),r+=n.data.byteLength;return i}},t.prototype=new d,e=function(t,n){var r,o,c=0,d=[],p=[];n=n||{},e.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){a(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||r||(r=e.config,t.sps=[e.data],b.forEach(function(e){t[e]=r[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||o||(o=e.data,t.pps=[e.data]),d.push(e)},this.flush=function(){for(var e,r,i,o,l,h;d.length&&"access_unit_delimiter_rbsp"!==d[0].nalUnitType;)d.shift();if(0===d.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(e=this.groupNalsIntoFrames_(d),i=this.groupFramesIntoGops_(e),i[0][0].keyFrame||(r=this.getGopForFusion_(d[0],t),r?(i.unshift(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.pts=r.pts,i.dts=r.dts,i.duration+=r.duration):i=this.extendFirstKeyFrame_(i)),p.length){var y;if(!(y=n.alignGopsAtEnd?this.alignGopsAtEnd_(i):this.alignGopsAtStart_(i)))return this.gopCache_.unshift({gop:i.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),d=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");s(t),i=y}a(t,i),t.samples=this.generateSampleTable_(i),l=f.mdat(this.concatenateNalData_(i)),t.baseMediaDecodeTime=u(t),this.trigger("processedGopsInfo",i.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),this.gopCache_.unshift({gop:i.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),d=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),o=f.moof(c,[t]),h=new Uint8Array(o.byteLength+l.byteLength),c++,h.set(o),h.set(l,o.byteLength),this.trigger("data",{track:t,boxes:h}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){s(t),r=undefined,o=undefined},this.getGopForFusion_=function(e){var n,r,i,o,a,s=Infinity;for(a=0;a<this.gopCache_.length;a++)o=this.gopCache_[a],i=o.gop,t.pps&&l(t.pps[0],o.pps[0])&&t.sps&&l(t.sps[0],o.sps[0])&&(i.dts<t.timelineStartInfo.dts||(n=e.dts-i.dts-i.duration)>=-1e4&&n<=45e3&&(!r||s>n)&&(r=o,s=n));return r?r.gop:null},this.extendFirstKeyFrame_=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},this.groupNalsIntoFrames_=function(e){var t,n,r=[],i=[];for(r.byteLength=0,t=0;t<e.length;t++)n=e[t],"access_unit_delimiter_rbsp"===n.nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.push(r)),r=[n],r.byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.push(r),i},this.groupFramesIntoGops_=function(e){var t,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)n=e[t],n.keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),r=[n],r.nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},this.generateSampleTable_=function(e,t){var n,r,o,a,s,u=t||0,l=[];for(n=0;n<e.length;n++)for(a=e[n],r=0;r<a.length;r++)s=a[r],o=i(),o.dataOffset=u,o.compositionTimeOffset=s.pts-s.dts,o.duration=s.duration,o.size=4*s.length,o.size+=s.byteLength,s.keyFrame&&(o.flags.dependsOn=2),u+=o.size,l.push(o);return l},this.concatenateNalData_=function(e){var t,n,r,i,o,a,s=0,u=e.byteLength,l=e.nalCount,c=u+4*l,d=new Uint8Array(c),f=new DataView(d.buffer);for(t=0;t<e.length;t++)for(i=e[t],n=0;n<i.length;n++)for(o=i[n],r=0;r<o.length;r++)a=o[r],f.setUint32(s,a.data.byteLength),s+=4,d.set(a.data,s),s+=a.data.byteLength;return d},this.alignGopsAtStart_=function(e){var t,n,r,i,o,a,s,u;for(o=e.byteLength,a=e.nalCount,s=e.duration,t=n=0;t<p.length&&n<e.length&&(r=p[t],i=e[n],r.pts!==i.pts);)i.pts>r.pts?t++:(n++,o-=i.byteLength,a-=i.nalCount,s-=i.duration);return 0===n?e:n===e.length?null:(u=e.slice(n),u.byteLength=o,u.duration=s,u.nalCount=a,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,n,r,i,o,a;for(t=p.length-1,n=e.length-1,o=null,a=!1;t>=0&&n>=0;){if(r=p[t],i=e[n],r.pts===i.pts){a=!0;break}r.pts>i.pts?t--:(t===p.length-1&&(o=n),n--)}if(!a&&null===o)return null;var s;if(0===(s=a?n:o))return e;var u=e.slice(s),l=u.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return u.byteLength=l.byteLength,u.duration=l.duration,u.nalCount=l.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){p=e}},e.prototype=new d,a=function(e,t){"number"==typeof t.pts&&(e.timelineStartInfo.pts===undefined&&(e.timelineStartInfo.pts=t.pts),e.minSegmentPts===undefined?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),e.maxSegmentPts===undefined?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(e.timelineStartInfo.dts===undefined&&(e.timelineStartInfo.dts=t.dts),e.minSegmentDts===undefined?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.maxSegmentDts===undefined?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},s=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},u=function(e){var t,n,r=e.minSegmentDts-e.timelineStartInfo.dts;return t=e.timelineStartInfo.baseMediaDecodeTime,t+=r,t=Math.max(0,t),"audio"===e.type&&(n=e.samplerate/w,t*=n,t=Math.floor(t)),t},r=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!=typeof e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,r.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}},r.prototype=new d,r.prototype.flush=function(e){var t,n,r,i,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,b.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,_.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,r=f.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(r.byteLength),a.initSegment.set(r),a.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)a.data.set(this.pendingBoxes[i],o),o+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)t=this.pendingCaptions[i],t.startTime=t.startPts-s,t.startTime/=9e4,t.endTime=t.endPts-s,t.endTime/=9e4,a.captionStreams[t.stream]=!0,a.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)n=this.pendingMetadata[i],n.cueTime=n.pts-s,n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},n=function(i){var a,u,l=this,c=!0;n.prototype.init.call(this),i=i||{},this.baseMediaDecodeTime=i.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new p.MetadataStream,e.aacStream=new g,e.audioTimestampRolloverStream=new p.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new p.TimestampRolloverStream("timed-metadata"),e.adtsStream=new h,e.coalesceStream=new r(i,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(n){"timed-metadata"!==n.type||e.audioSegmentStream||(u=u||{timelineStartInfo:{baseMediaDecodeTime:l.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new t(u),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};this.transmuxPipeline_=n,n.type="ts",n.metadataStream=new p.MetadataStream,n.packetStream=new p.TransportPacketStream,n.parseStream=new p.TransportParseStream,n.elementaryStream=new p.ElementaryStream,n.videoTimestampRolloverStream=new p.TimestampRolloverStream("video"),n.audioTimestampRolloverStream=new p.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new p.TimestampRolloverStream("timed-metadata"),n.adtsStream=new h,n.h264Stream=new y,n.captionStream=new p.CaptionStream,n.coalesceStream=new r(i,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream),n.elementaryStream.pipe(n.videoTimestampRolloverStream).pipe(n.h264Stream),n.elementaryStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.elementaryStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(r){var o;if("metadata"===r.type){for(o=r.tracks.length;o--;)a||"video"!==r.tracks[o].type?u||"audio"!==r.tracks[o].type||(u=r.tracks[o],u.timelineStartInfo.baseMediaDecodeTime=l.baseMediaDecodeTime):(a=r.tracks[o],a.timelineStartInfo.baseMediaDecodeTime=l.baseMediaDecodeTime);a&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new e(a,i),n.videoSegmentStream.on("timelineStartInfo",function(e){u&&(u.timelineStartInfo=e,n.audioSegmentStream.setEarliestDts(e.dts))}),n.videoSegmentStream.on("processedGopsInfo",l.trigger.bind(l,"gopInfo")),n.videoSegmentStream.on("baseMediaDecodeTime",function(e){u&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),u&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new t(u),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream))}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;this.baseMediaDecodeTime=e,u&&(u.timelineStartInfo.dts=undefined,u.timelineStartInfo.pts=undefined,s(u),u.timelineStartInfo.baseMediaDecodeTime=e,t.audioTimestampRolloverStream&&t.audioTimestampRolloverStream.discontinuity()),a&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[],t.videoTimestampRolloverStream.discontinuity()),a.timelineStartInfo.dts=undefined,a.timelineStartInfo.pts=undefined,s(a),t.captionStream.reset(),a.timelineStartInfo.baseMediaDecodeTime=e),t.timedMetadataTimestampRolloverStream&&t.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){u&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){a&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(c){var t=o(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),c=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){c=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},n.prototype=new d,module.exports={Transmuxer:n,VideoSegmentStream:e,AudioSegmentStream:t,AUDIO_PROPERTIES:_,VIDEO_PROPERTIES:b}},{"../aac":38,"../codecs/adts.js":40,"../codecs/h264":41,"../data/silence":42,"../m2ts/m2ts.js":50,"../utils/clock":60,"../utils/stream.js":62,"./mp4-generator.js":56}],59:[function(require,module,exports){"use strict";var e=require("../m2ts/stream-types.js"),t=require("../m2ts/timestamp-rollover-stream.js").handleRollover,n={};n.ts=require("../m2ts/probe.js"),n.aac=require("../aac/probe.js");var r=9e4,i=188,o=71,a=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},s=function(e,t){for(var r,a=0,s=i;s<e.byteLength;)if(e[a]!==o||e[s]!==o)a++,s++;else{switch(r=e.subarray(a,s),n.ts.parseType(r,t.pid)){case"pat":t.pid||(t.pid=n.ts.parsePat(r));break;case"pmt":t.table||(t.table=n.ts.parsePmt(r))}if(t.pid&&t.table)return;a+=i,s+=i}},u=function(e,t,r){for(var a,s,u,l,c=0,d=i,f=!1;d<e.byteLength;)if(e[c]!==o||e[d]!==o)c++,d++;else{switch(a=e.subarray(c,d),n.ts.parseType(a,t.pid)){case"pes":s=n.ts.parsePesType(a,t.table),u=n.ts.parsePayloadUnitStartIndicator(a),"audio"===s&&u&&(l=n.ts.parsePesTime(a))&&(l.type="audio",r.audio.push(l),f=!0)}if(f)break;c+=i,d+=i}for(d=e.byteLength,c=d-i,f=!1;c>=0;)if(e[c]!==o||e[d]!==o)c--,d--;else{switch(a=e.subarray(c,d),n.ts.parseType(a,t.pid)){case"pes":s=n.ts.parsePesType(a,t.table),u=n.ts.parsePayloadUnitStartIndicator(a),"audio"===s&&u&&(l=n.ts.parsePesTime(a))&&(l.type="audio",r.audio.push(l),f=!0)}if(f)break;c-=i,d-=i}},l=function(e,t,r){for(var a,s,u,l,c,d,f,p=0,h=i,y=!1,g={data:[],size:0};h<e.byteLength;)if(e[p]!==o||e[h]!==o)p++,h++;else{switch(a=e.subarray(p,h),n.ts.parseType(a,t.pid)){case"pes":if(s=n.ts.parsePesType(a,t.table),u=n.ts.parsePayloadUnitStartIndicator(a),"video"===s&&(u&&!y&&(l=n.ts.parsePesTime(a))&&(l.type="video",r.video.push(l),y=!0),!r.firstKeyFrame)){if(u&&0!==g.size){for(c=new Uint8Array(g.size),d=0;g.data.length;)f=g.data.shift(),c.set(f,d),d+=f.byteLength;n.ts.videoPacketContainsKeyFrame(c)&&(r.firstKeyFrame=n.ts.parsePesTime(c),r.firstKeyFrame.type="video"),g.size=0}g.data.push(a),g.size+=a.byteLength}}if(y&&r.firstKeyFrame)break;p+=i,h+=i}for(h=e.byteLength,p=h-i,y=!1;p>=0;)if(e[p]!==o||e[h]!==o)p--,h--;else{switch(a=e.subarray(p,h),n.ts.parseType(a,t.pid)){case"pes":s=n.ts.parsePesType(a,t.table),u=n.ts.parsePayloadUnitStartIndicator(a),"video"===s&&u&&(l=n.ts.parsePesTime(a))&&(l.type="video",r.video.push(l),y=!0)}if(y)break;p-=i,h-=i}},c=function(e,n){if(e.audio&&e.audio.length){var i=n;void 0===i&&(i=e.audio[0].dts),e.audio.forEach(function(e){e.dts=t(e.dts,i),e.pts=t(e.pts,i),e.dtsTime=e.dts/r,e.ptsTime=e.pts/r})}if(e.video&&e.video.length){var o=n;if(void 0===o&&(o=e.video[0].dts),e.video.forEach(function(e){e.dts=t(e.dts,o),e.pts=t(e.pts,o),e.dtsTime=e.dts/r,e.ptsTime=e.pts/r}),e.firstKeyFrame){var a=e.firstKeyFrame;a.dts=t(a.dts,o),a.pts=t(a.pts,o),a.dtsTime=a.dts/r,a.ptsTime=a.dts/r}}},d=function(e){for(var t,i=!1,o=0,a=null,s=null,u=0,l=0;e.length-l>=3;){switch(n.aac.parseType(e,l)){case"timed-metadata":if(e.length-l<10){i=!0;break}if((u=n.aac.parseId3TagSize(e,l))>e.length){i=!0;break}null===s&&(t=e.subarray(l,l+u),s=n.aac.parseAacTimestamp(t)),l+=u;break;case"audio":if(e.length-l<7){i=!0;break}if((u=n.aac.parseAdtsSize(e,l))>e.length){i=!0;break}null===a&&(t=e.subarray(l,l+u),a=n.aac.parseSampleRate(t)),o++,l+=u;break;default:l++}if(i)return null}if(null===a||null===s)return null;var c=r/a;return{audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*o*c,pts:s+1024*o*c}]}},f=function(t){var n={pid:null,table:null},r={};s(t,n);for(var i in n.table)if(n.table.hasOwnProperty(i)){var o=n.table[i];switch(o){case e.H264_STREAM_TYPE:r.video=[],l(t,n,r),0===r.video.length&&delete r.video;break;case e.ADTS_STREAM_TYPE:r.audio=[],u(t,n,r),0===r.audio.length&&delete r.audio}}return r},p=function(e,t){var n;return(n=a(e)?d(e):f(e))&&(n.audio||n.video)?(c(n,t),n):null};module.exports={inspect:p}},{"../aac/probe.js":39,"../m2ts/probe.js":52,"../m2ts/stream-types.js":53,"../m2ts/timestamp-rollover-stream.js":54}],60:[function(require,module,exports){var e,t,n,r,i,o,a=9e4;e=function(e){return e*a},t=function(e,t){return e*t},n=function(e){return e/a},r=function(e,t){return e/t},i=function(t,n){return e(r(t,n))},o=function(e,r){return t(n(e),r)},module.exports={secondsToVideoTs:e,secondsToAudioTs:t,videoTsToSeconds:n,audioTsToSeconds:r,audioTsToVideoTs:i,videoTsToAudioTs:o}},{}],61:[function(require,module,exports){"use strict";var e;e=function(e){var t=e.byteLength,n=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var i=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(i,i+a)),n=new DataView(o.buffer).getUint32(0),r=8*a,t-=a},this.skipBits=function(e){var i;r>e?(n<<=e,r-=e):(e-=r,i=Math.floor(e/8),e-=8*i,t-=i,this.loadWord(),n<<=e,r-=e)},this.readBits=function(e){var i=Math.min(r,e),o=n>>>32-i;return r-=i,r>0?n<<=i:t>0&&this.loadWord(),i=e-i,i>0?o<<i|this.readBits(i):o},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!=(n&2147483648>>>e))return n<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},module.exports=e},{}],62:[function(require,module,exports){"use strict";var e=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,i,o;if(n=e[t])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,o)}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},module.exports=e},{}],63:[function(require,module,exports){!function(t){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/;?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=this.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=this.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=this.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=r.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(d)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};"object"==typeof exports&&"object"==typeof module?module.exports=a:"function"==typeof e&&e.amd?e([],function(){return a}):"object"==typeof exports?exports.URLToolkit=a:t.URLToolkit=a}(this)},{}],64:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=require("global/window"),r=t(n),i="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,o=t(i),a=function(e){Object.defineProperties(e.frame,{id:{get:function(){return o["default"].log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return o["default"].log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return o["default"].log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},s=function(e){return undefined,isNaN(e)||Math.abs(e)===Infinity?Number.MAX_VALUE:e},u=function(e,t,n){var i=r["default"].WebKitDataCue||r["default"].VTTCue;t&&t.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new i(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),n&&function(){var t=s(e.mediaSource_.duration);n.forEach(function(e){var t=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var n=new i(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,a(n),this.metadataTrack_.addCue(n)},this)},e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length&&function(){for(var n=e.metadataTrack_.cues,r=[],i=0;i<n.length;i++)n[i]&&r.push(n[i]);var o=r.reduce(function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e},{}),a=Object.keys(o).sort(function(e,t){return Number(e)-Number(t)});a.forEach(function(e,n){var r=o[e],i=Number(a[n+1])||t;r.forEach(function(e){e.endTime=i})})}()}()};exports["default"]={addTextTrackData:u,durationOfVideo:s},module.exports=exports["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":32}],65:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(e){return/mp4a\.\d+.\d+/i.test(e)},t=function(e){return/avc1\.[\da-f]+/i.test(e)},n=function(e){var t={type:"",parameters:{}},n=e.trim().split(";");return t.type=n.shift().trim(),n.forEach(function(e){var n=e.trim().split("=");if(n.length>1){var r=n[0].replace(/"/g,"").trim(),i=n[1].replace(/"/g,"").trim();t.parameters[r]=i}}),t},r=function(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})})};exports["default"]={isAudioCodec:e,parseContentType:n,isVideoCodec:t,translateLegacyCodecs:r},module.exports=exports["default"]},{}],66:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(e,t,n){var r=t.player_;if(n.captions&&n.captions.length){e.inbandTextTracks_||(e.inbandTextTracks_={});for(var i in n.captionStreams)if(!e.inbandTextTracks_[i]){r.tech_.trigger({type:"usage",name:"hls-608"});var o=r.textTracks().getTrackById(i);e.inbandTextTracks_[i]=o||r.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}}n.metadata&&n.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)};exports["default"]=e,module.exports=exports["default"]},{}],67:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768};exports["default"]=e,module.exports=exports["default"]},{}],68:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=o,n=a,r=!0,s=l=undefined}},a=require("global/document"),s=t(a),u="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,l=t(u),c=require("./flash-source-buffer"),d=t(c),f=require("./flash-constants"),p=t(f),h=require("./codec-utils"),y=function(e){function t(){var e=this;n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(t){e.swfObj=s["default"].getElementById(t.swfId),e.player_=(0,l["default"])(e.swfObj.parentNode),e.tech_=e.swfObj.tech,e.readyState="open",e.tech_.on("seeking",function(){for(var t=e.sourceBuffers.length;t--;)e.sourceBuffers[t].abort()}),e.swfObj&&e.swfObj.vjs_load()})}return r(t,e),i(t,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(e){var t=(0,h.parseContentType)(e),n=undefined;if("video/mp2t"!==t.type&&"audio/mp2t"!==t.type)throw new Error("NotSupportedError (Video.js)");return n=new d["default"](this),this.sourceBuffers.push(n),n}},{key:"endOfStream",value:function(e){"network"===e?this.tech_.error(2):"decode"===e&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),t}(l["default"].EventTarget);exports["default"]=y;try{Object.defineProperty(y.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(e){var t=undefined,n=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",e),e<n)for(t=0;t<this.sourceBuffers.length;t++)this.sourceBuffers[t].remove(e,n);return e}})}catch(e){y.prototype.duration=NaN}for(var g in p["default"])y[g]=p["default"][g];module.exports=exports["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./codec-utils":65,"./flash-constants":67,"./flash-source-buffer":69,"global/document":31}],69:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=o,n=a,r=!0,s=l=undefined}},a=require("global/window"),s=t(a),u="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,l=t(u),c=require("mux.js/lib/flv"),d=t(c),f=require("./remove-cues-from-track"),p=t(f),h=require("./create-text-tracks-if-necessary"),y=t(h),g=require("./add-text-track-data"),m=require("./flash-transmuxer-worker"),v=t(m),_=require("webwackify"),b=t(_),w=require("./flash-constants"),T=t(w),S=function(){var e=undefined;try{e=require.resolve("./flash-transmuxer-worker")}catch(e){}return e},E=function(e){s["default"].setTimeout(e,T["default"].TIME_BETWEEN_CHUNKS)},O=function(){return Math.random().toString(36).slice(2,8)},k=function(e,t){("number"!=typeof t||t<0)&&(t=0);var n=Math.pow(10,t);return Math.round(e*n)/n},P=function(e){function t(e){var r=this;n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var i=undefined;this.chunkSize_=T["default"].BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=e,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,i=s["default"].btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(d["default"].getFlvHeader())));var a=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+a+O(),this.flashEncodedDataName_="vjs_flashEncodedData_"+a+O(),s["default"][this.flashEncodedHeaderName_]=function(){return delete s["default"][r.flashEncodedHeaderName_],i},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,b["default"])(v["default"],S()),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(e){"data"===e.data.action&&r.receiveBuffer_(e.data.segment)},this.one("updateend",function(){r.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return l["default"].createTimeRange();var e=this.mediaSource_.swfObj.vjs_getProperty("buffered");return e&&e.length&&(e[0][0]=k(e[0][0],3),e[0][1]=k(e[0][1],3)),l["default"].createTimeRanges(e)}}),this.mediaSource_.player_.on("seeked",function(){if((0,p["default"])(0,Infinity,r.metadataTrack_),r.inbandTextTracks_)for(var e in r.inbandTextTracks_)(0,p["default"])(0,Infinity,r.inbandTextTracks_[e])});var u=this.onHlsReset_.bind(this);this.mediaSource_.player_.tech_.on("hls-reset",u),this.mediaSource_.player_.tech_.hls.on("dispose",function(){r.transmuxer_.terminate(),r.mediaSource_.player_.tech_.off("hls-reset",u)})}return r(t,e),i(t,[{key:"appendBuffer",value:function(e){var t=undefined;if(this.updating)throw t=new Error("SourceBuffer.append() cannot be called while an update is in progress"),t.name="InvalidStateError",t.code=11,t;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(e,t){if((0,p["default"])(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)(0,p["default"])(e,t,this.inbandTextTracks_[n]);this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(e){var t=this;(0,y["default"])(this,this.mediaSource_,e),(0,g.addTextTrackData)(this,e.captions,e.metadata),E(function(){var n=t.convertTagsToData_(e);0===t.buffer_.length&&E(t.processBuffer_.bind(t)),n&&(t.buffer_.push(n),t.bufferSize_+=n.byteLength)})}},{key:"processBuffer_",value:function(){var e=this,t=T["default"].BYTES_PER_CHUNK;if(!this.buffer_.length)return void(!1!==this.updating&&(this.updating=!1,this.trigger({type:"updateend"})));var n=this.buffer_[0].subarray(0,t);n.byteLength<t||this.buffer_[0].byteLength===t?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(t),this.bufferSize_-=n.byteLength;for(var r=[],i=n.byteLength,o=0;o<i;o++)r.push(String.fromCharCode(n[o]));var a=s["default"].btoa(r.join(""));s["default"][this.flashEncodedDataName_]=function(){return E(e.processBuffer_.bind(e)),delete s["default"][e.flashEncodedDataName_],a},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}},{key:"convertTagsToData_",value:function(e){var t=0,n=this.mediaSource_.tech_,r=0,i=undefined,o=e.tags.videoTags,a=e.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(o.length||a.length)){var s=o[0]||{pts:Infinity},u=a[0]||{pts:Infinity};this.basePtsOffset_=Math.min(u.pts,s.pts)}n.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(n.buffered().length&&(r=n.buffered().end(0)-this.timestampOffset),n.seeking()&&(r=Math.max(r,n.currentTime()-this.timestampOffset)),r*=1e3,r+=this.basePtsOffset_):r=this.videoBufferEnd_+.1;var l=o.length;if(l&&o[l-1].pts>=r){for(;--l;){var c=o[l];if(!(c.pts>r)&&(c.keyFrame||c.metaDataTag))break}for(;l&&o[l-1].metaDataTag;)l--}var d=o.slice(l),f=undefined;for(f=isNaN(this.audioBufferEnd_)?r:this.audioBufferEnd_+.1,d.length&&(f=Math.min(f,d[0].pts)),l=0;l<a.length&&!(a[l].pts>=f);)l++;var p=a.slice(l);p.length&&(this.audioBufferEnd_=p[p.length-1].pts),d.length&&(this.videoBufferEnd_=d[d.length-1].pts);var h=this.getOrderedTags_(d,p);if(0!==h.length){if(h[0].pts<r&&n.seeking()){var y=1/30,g=n.currentTime(),m=(r-h[0].pts)/1e3,v=g-m;v<y&&(v=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(v)}catch(e){}}for(var _=0;_<h.length;_++)t+=h[_].bytes.byteLength;i=new Uint8Array(t);for(var _=0,b=0;_<h.length;_++)i.set(h[_].bytes,b),b+=h[_].bytes.byteLength;return i}}},{key:"getOrderedTags_",value:function(e,t){for(var n=undefined,r=[];e.length||t.length;)n=e.length?t.length&&t[0].dts<e[0].dts?t.shift():e.shift():t.shift(),r.push(n);return r}},{key:"onHlsReset_",value:function(){this.transmuxer_.postMessage({action:"resetCaptions"})}}]),t}(l["default"].EventTarget);exports["default"]=P,module.exports=exports["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":64,"./create-text-tracks-if-necessary":66,"./flash-constants":67,"./flash-transmuxer-worker":70,"./remove-cues-from-track":72,"global/window":32,"mux.js/lib/flv":46,webwackify:76}],70:[function(require,module,exports){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=require("global/window"),i=e(r),o=require("mux.js/lib/flv"),a=e(o),s=function(e){e.on("data",function(e){i["default"].postMessage({action:"data",segment:e})}),e.on("done",function(e){i["default"].postMessage({action:"done"})})},u=function(){function e(n){t(this,e),this.options=n||{},this.init()}return n(e,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new a["default"].Transmuxer(this.options),s(this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}}]),e}(),l=function(e){e.onmessage=function(e){if("init"===e.data.action&&e.data.options)return void(this.messageHandlers=new u(e.data.options));this.messageHandlers||(this.messageHandlers=new u),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data)}};exports["default"]=function(e){return new l(e)},module.exports=exports["default"]},{"global/window":32,"mux.js/lib/flv":46}],71:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=o,n=a,r=!0,s=l=undefined}},a=require("global/window"),s=t(a),u=require("global/document"),l=t(u),c="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,d=t(c),f=require("./virtual-source-buffer"),p=t(f),h=require("./add-text-track-data"),y=require("./codec-utils"),g=function(e){function t(){var e=this;n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var r=undefined;this.nativeMediaSource_=new s["default"].MediaSource;for(r in this.nativeMediaSource_)r in t.prototype||"function"!=typeof this.nativeMediaSource_[r]||(this[r]=this.nativeMediaSource_[r].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===Infinity?this.duration_:this.nativeMediaSource_.duration},set:function(e){if(this.duration_=e,e!==Infinity)return void(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===Infinity?d["default"].createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){if(e.activeSourceBuffers_.length=0,1===e.sourceBuffers.length){var t=e.sourceBuffers[0];return t.appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void e.activeSourceBuffers_.push(t)}for(var n=!1,r=!0,i=0;i<e.player_.audioTracks().length;i++){var o=e.player_.audioTracks()[i];if(o.enabled&&"main"!==o.kind){n=!0,r=!1;break}}e.sourceBuffers.forEach(function(t){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=n;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,r=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=r,r))return;e.activeSourceBuffers_.push(t)})},this.onPlayerMediachange_=function(){e.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},this.onHlsReset_=function(){e.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})})},this.onHlsSegmentTimeMapping_=function(t){e.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},this),this.on("sourceopen",function(t){var n=l["default"].querySelector('[src="'+e.url_+'"]');n&&(e.player_=(0,d["default"])(n.parentNode),e.player_.tech_.on("hls-reset",e.onHlsReset_),e.player_.tech_.on("hls-segment-time-mapping",e.onHlsSegmentTimeMapping_),e.player_.audioTracks&&e.player_.audioTracks()&&(e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)),e.player_.on("mediachange",e.onPlayerMediachange_))}),this.on("sourceended",function(t){for(var n=(0,h.durationOfVideo)(e.duration),r=0;r<e.sourceBuffers.length;r++){var i=e.sourceBuffers[r],o=i.metadataTrack_&&i.metadataTrack_.cues;o&&o.length&&(o[o.length-1].endTime=n)}}),this.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})}return r(t,e),i(t,[{key:"addSeekableRange_",value:function(e,t){var n=undefined;if(this.duration!==Infinity)throw n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),n.name="InvalidStateError",n.code=11,n;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=undefined,n=(0,y.parseContentType)(e);if(/^(video|audio)\/mp2t$/i.test(n.type)){var r=[];n.parameters&&n.parameters.codecs&&(r=n.parameters.codecs.split(","),r=(0,y.translateLegacyCodecs)(r),r=r.filter(function(e){return(0,y.isAudioCodec)(e)||(0,y.isVideoCodec)(e)})),0===r.length&&(r=["avc1.4d400d","mp4a.40.2"]),t=new p["default"](this,r),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}(d["default"].EventTarget);exports["default"]=g,module.exports=exports["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":64,"./codec-utils":65,"./virtual-source-buffer":75,"global/document":31,"global/window":32}],72:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(e,t,n){var r=undefined,i=undefined;if(n&&n.cues)for(r=n.cues.length;r--;)i=n.cues[r],i.startTime<=t&&i.endTime>=e&&n.removeCue(i)};exports["default"]=e,module.exports=exports["default"]},{}],73:[function(require,module,exports){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=require("global/window"),i=e(r),o=require("mux.js/lib/mp4"),a=e(o),s=function(e){e.on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var n=e.data;e.data=n.buffer,i["default"].postMessage({action:"data",segment:e,byteOffset:n.byteOffset,byteLength:n.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){i["default"].postMessage({action:"caption",data:e})}),e.on("done",function(e){i["default"].postMessage({action:"done"})}),e.on("gopInfo",function(e){i["default"].postMessage({action:"gopInfo",gopInfo:e})})},u=function(){function e(n){t(this,e),this.options=n||{},this.init()}return n(e,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new a["default"].Transmuxer(this.options),s(this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),e}(),l=function(e){e.onmessage=function(e){if("init"===e.data.action&&e.data.options)return void(this.messageHandlers=new u(e.data.options));this.messageHandlers||(this.messageHandlers=new u),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data)}};exports["default"]=function(e){return new l(e)},module.exports=exports["default"]},{"global/window":32,"mux.js/lib/mp4":55}],74:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=require("global/window"),r=t(n),i=require("./flash-media-source"),o=t(i),a=require("./html-media-source"),s=t(a),u="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,l=t(u),c=0,d={mode:"auto"};l["default"].mediaSources={};var f=function(e,t){var n=l["default"].mediaSources[e];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:t})},p=function(){return!!r["default"].MediaSource&&!!r["default"].MediaSource.isTypeSupported&&r["default"].MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},h=function(e){var t=l["default"].mergeOptions(d,e);if(this.MediaSource={open:f,supportsNativeMediaSources:p},"html5"===t.mode||"auto"===t.mode&&p())return new s["default"];if(l["default"].getTech("Flash"))return new o["default"];throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};exports.MediaSource=h,h.open=f,h.supportsNativeMediaSources=p;var y={createObjectURL:function(e){var t=undefined;return e instanceof s["default"]?(t=r["default"].URL.createObjectURL(e.nativeMediaSource_),e.url_=t,t):e instanceof o["default"]?(t="blob:vjs-media-source/"+c,c++,l["default"].mediaSources[t]=e,t):(t=r["default"].URL.createObjectURL(e),e.url_=t,t)}};exports.URL=y,l["default"].MediaSource=h,l["default"].URL=y}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./flash-media-source":68,"./html-media-source":71,"global/window":32}],75:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=o,n=a,r=!0,s=l=undefined}},a="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,s=t(a),u=require("./create-text-tracks-if-necessary"),l=t(u),c=require("./remove-cues-from-track"),d=t(c),f=require("./add-text-track-data"),p=require("webwackify"),h=t(p),y=require("./transmuxer-worker"),g=t(y),m=require("./codec-utils"),v=function(){var e=undefined;try{e=require.resolve("./transmuxer-worker")}catch(e){}return e},_=function(e,t){var n=e.addSourceBuffer(t),r=Object.create(null);r.updating=!1,r.realBuffer_=n;var i=function(e){"function"==typeof n[e]?r[e]=function(){return n[e].apply(n,arguments)}:"undefined"==typeof r[e]&&Object.defineProperty(r,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})};for(var o in n)i(o);return r},b=function(e,t,n){if(!t||!e.length)return[];var r=Math.ceil(9e4*(t.currentTime()-n+3)),i=undefined;for(i=0;i<e.length&&!(e[i].pts>r);i++);return e.slice(i)};exports.gopsSafeToAlignWith=b;var w=function(e,t,n){if(!t.length)return e;if(n)return t.slice();var r=t[0].pts,i=0;for(i;i<e.length&&!(e[i].pts>=r);i++);return e.slice(0,i).concat(t)};exports.updateGopBuffer=w;var T=function(e,t,n,r){for(var i=Math.ceil(9e4*(t-r)),o=Math.ceil(9e4*(n-r)),a=e.slice(),s=e.length;s--&&!(e[s].pts<=o););if(-1===s)return a;for(var u=s+1;u--&&!(e[u].pts<=i););return u=Math.max(u,0),a.splice(u,s-u+1),a};exports.removeGopBuffer=T;var S=function(e){function t(e,r){var i=this;n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,s["default"].EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=e,this.codecs_=r,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=s["default"].browser.IE_VERSION>=11;var a={remux:!1,alignGopsAtEnd:this.safeAppend_};this.codecs_.forEach(function(e){(0,m.isAudioCodec)(e)?i.audioCodec_=e:(0,m.isVideoCodec)(e)&&(i.videoCodec_=e)}),this.transmuxer_=(0,h["default"])(g["default"],v()),this.transmuxer_.postMessage({action:"init",options:a}),this.transmuxer_.onmessage=function(e){return"data"===e.data.action?i.data_(e):"done"===e.data.action?i.done_(e):"gopInfo"===e.data.action?i.appendGopInfo_(e):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var e=null,t=null,n=0,r=[],i=[];if(!this.videoBuffer_&&!this.audioBuffer_)return s["default"].createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return s["default"].createTimeRange();for(var o=this.videoBuffer_.buffered,a=this.audioBuffer_.buffered,u=o.length;u--;)r.push({time:o.start(u),type:"start"}),r.push({time:o.end(u),type:"end"});for(u=a.length;u--;)r.push({time:a.start(u),type:"start"}),r.push({time:a.end(u),type:"end"});for(r.sort(function(e,t){return e.time-t.time}),u=0;u<r.length;u++)"start"===r[u].type?2==++n&&(e=r[u].time):"end"===r[u].type&&1==--n&&(t=r[u].time),null!==e&&null!==t&&(i.push([e,t]),e=null,t=null);return s["default"].createTimeRanges(i)}})}return r(t,e),i(t,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),(0,l["default"])(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){if("closed"===this.mediaSource_.readyState)return void(this.pendingBuffers_.length=0);this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach(function(n){if(e[n+"Codec_"]&&!e[n+"Buffer_"]){var r=null;if(e.mediaSource_[n+"Buffer_"])r=e.mediaSource_[n+"Buffer_"],r.updating=!1;else{var i=n+"Codec_",o=n+'/mp4;codecs="'+e[i]+'"';r=_(e.mediaSource_.nativeMediaSource_,o),e.mediaSource_[n+"Buffer_"]=r}e[n+"Buffer_"]=r,["update","updatestart","updateend"].forEach(function(i){r.addEventListener(i,function(){if("audio"!==n||!e.audioDisabled_)return"updateend"===i&&(e[n+"Buffer_"].updating=!1),t.every(function(t){return!("audio"!==t||!e.audioDisabled_)||n===t||!e[t+"Buffer_"]||!e[t+"Buffer_"].updating})?e.trigger(i):void 0})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:b(this.gopBuffer_,this.mediaSource_.player_,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=w(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=T(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),(0,d["default"])(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)(0,d["default"])(e,t,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var n=t.type,r=t.data,i=t.initSegment;return e[n].segments.push(r),e[n].bytes+=r.byteLength,e[n].initSegment=i,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[n].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),(0,f.addTextTrackData)(this,e.captions,e.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var n=0,r=undefined;if(e.bytes){r=new Uint8Array(e.bytes),e.segments.forEach(function(e){r.set(e,n),n+=e.byteLength});try{t.updating=!0,t.appendBuffer(r)}catch(error){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:error.message,originalError:error})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),t}(s["default"].EventTarget);exports["default"]=S}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":64,"./codec-utils":65,"./create-text-tracks-if-necessary":66,"./remove-cues-from-track":72,"./transmuxer-worker":73,webwackify:76}],76:[function(require,module,exports){var e=arguments[3],t=arguments[4],n=arguments[5],r=JSON.stringify,i=!1,o=function(e){function t(r){if(n[r])return n[r].exports;var module=n[r]={i:r,l:!1,exports:{}};return e[r].call(module.exports,module,module.exports,t),module.l=!0,module.exports}var n={};return t.m=e,t.c=n,t.d=function(exports,e,n){t.o(exports,e)||Object.defineProperty(exports,e,{configurable:!1,enumerable:!0,get:n})},t.n=function(module){var e=module&&module.__esModule?function(){return module["default"]}:function(){return module};return t.d(e,"a",e),e},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=entryModule)};void 0===e&&(i=!0,e=o,t=__webpack_modules__);var a=function(i){for(var o,a=Object.keys(n),s=0;s<a.length;s++){var u=a[s],l=n[u].exports;if(l===i||l&&l["default"]===i){o=u;break}}if(!o){o=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var c={},s=0;s<a.length;s++){var u=a[s];c[u]=u}t[o]=["function(require,module,exports){"+i+"(self); }",c]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),f={};return f[o]=o,t[d]=["function(require,module,exports){var f = require("+r(o)+");(f.default ? f.default : f)(self);}",f],"("+e+")({"+Object.keys(t).map(function(e){return r(e)+":["+t[e][0]+","+r(t[e][1])+"]"}).join(",")+"},{},["+r(d)+"])"},s=function(n,i){var o,a="string"==typeof i;o=a?{}:[],Object.keys(t).forEach(function(e){t[e]&&(o[e]=t[e].toString())});var s=__webpack_require__(i);if(!s||s!==n&&s["default"]!==n){var u=o[i];o[i]=u.substring(0,u.length-1)+"\n"+n.name+"();\n}"}var l;return a?(i=r(i),l="{"+Object.keys(o).map(function(e){return r(e)+":"+o[e]}).join(",")+"}"):l="["+o.join(",")+"]","var fn = ("+e.toString().replace("entryModule",i)+")("+l+');\n(typeof fn === "function") && fn(self);'};module.exports=function(e,t){var n;n=i?s(e,t):a(e);var r=new Blob([n],{type:"text/javascript"}),o=window.URL||window.webkitURL||window.mozURL||window.msURL,u=o.createObjectURL(r),l=new Worker(u);return l.objectURL=u,l}},{}],77:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=o,n=a,r=!0,s=l=undefined}},a=require("global/document"),s=t(a),u=require("./playlist-loader"),l=t(u),c=require("./playlist"),d=t(c),f=require("./xhr"),p=t(f),h=require("aes-decrypter"),y=require("./bin-utils"),g=t(y),m=require("videojs-contrib-media-sources"),v=require("m3u8-parser"),_=t(v),b="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,w=t(b),T=require("./master-playlist-controller"),S=require("./config"),E=t(S),O=require("./rendition-mixin"),k=t(O),P=require("global/window"),C=t(P),I=require("./playback-watcher"),j=t(I),x=require("./reload-source-on-error"),A=t(x),M=require("./playlist-selectors.js"),L={PlaylistLoader:l["default"],Playlist:d["default"],Decrypter:h.Decrypter,AsyncStream:h.AsyncStream,decrypt:h.decrypt,utils:g["default"],STANDARD_PLAYLIST_SELECTOR:M.lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:M.lowestBitrateCompatibleVariantSelector,comparePlaylistBandwidth:M.comparePlaylistBandwidth,comparePlaylistResolution:M.comparePlaylistResolution,xhr:(0,p["default"])()},R=4194304;["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(e){Object.defineProperty(L,e,{get:function(){return w["default"].log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),E["default"][e]},set:function(t){if(w["default"].log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0)return void w["default"].log.warn("value of Hls."+e+" must be greater than or equal to 0");E["default"][e]=t}})});var D=function(e,t){for(var n=t.media(),r=-1,i=0;i<e.length;i++)if(e[i].id===n.uri){r=i;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})},N=function(e,t){t.representations().forEach(function(t){e.addQualityLevel(t)}),D(e,t.playlists)};L.canPlaySource=function(){return w["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},L.supportsNativeHls=function(){var e=s["default"].createElement("video");return!!w["default"].getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}(),L.isSupported=function(){return w["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var U=w["default"].getComponent("Component"),B=function(e){function t(e,r,i){var a=this;if(n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,r,i.hls),r.options_&&r.options_.playerId){var u=(0,w["default"])(r.options_.playerId);u.hasOwnProperty("hls")||Object.defineProperty(u,"hls",{get:function(){return w["default"].log.warn("player.hls is deprecated. Use player.tech_.hls instead."),r.trigger({type:"usage",name:"hls-player-access"}),a}})}if(this.tech_=r,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.on(s["default"],["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=s["default"].fullscreenElement||s["default"].webkitFullscreenElement||s["default"].mozFullScreenElement||s["default"].msFullscreenElement;t&&t.contains(a.tech_.el())&&a.masterPlaylistController_.fastQualityChange_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_)return void(this.ignoreNextSeekingEvent_=!1);this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}return r(t,e),i(t,[{key:"setOptions_",value:function(){var e=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=R),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===R,["withCredentials","bandwidth"].forEach(function(t){"undefined"!=typeof e.source_[t]&&(e.options_[t]=e.source_[t])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(e){var t=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=L,this.masterPlaylistController_=new T.MasterPlaylistController(this.options_),this.playbackWatcher_=new j["default"](w["default"].mergeOptions(this.options_,{seekable:function(){return t.seekable()}})),this.masterPlaylistController_.on("error",function(){w["default"].players[t.tech_.options_.playerId].error(t.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):L.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=L.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=undefined;return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){w["default"].log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return t.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return t.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return t.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return t.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return t.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return t.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return t.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return t.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,k["default"])(t)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return t.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(w["default"].URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=w["default"].players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){N(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){D(e.qualityLevels_,e.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),o(Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}}]),t}(U),F=function H(e){return{canHandleSource:function(t){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],r=w["default"].mergeOptions(w["default"].options,n);return(!r.hls||!r.hls.mode||r.hls.mode===e)&&H.canPlayType(t.type,r)},handleSource:function(t,n){var r=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],i=w["default"].mergeOptions(w["default"].options,r,{hls:{mode:e}});return"flash"===e&&n.setTimeout(function(){n.trigger("loadstart")},1),n.hls=new B(t,n,i),n.hls.xhr=(0,p["default"])(),n.hls.src(t.src),n.hls},canPlayType:function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],n=w["default"].mergeOptions(w["default"].options,t);return H.canPlayType(e,n)?"maybe":""}}};F.canPlayType=function(e,t){if(w["default"].browser.IE_VERSION&&w["default"].browser.IE_VERSION<=10)return!1;var n=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;return!(!t.hls.overrideNative&&L.supportsNativeHls)&&n.test(e)},"undefined"!=typeof w["default"].MediaSource&&"undefined"!=typeof w["default"].URL||(w["default"].MediaSource=m.MediaSource,w["default"].URL=m.URL);var V=w["default"].getTech("Flash");m.MediaSource.supportsNativeMediaSources()&&w["default"].getTech("Html5").registerSourceHandler(F("html5"),0),C["default"].Uint8Array&&V&&V.registerSourceHandler(F("flash")),w["default"].HlsHandler=B,w["default"].HlsSourceHandler=F,w["default"].Hls=L,w["default"].use||w["default"].registerComponent("Hls",L),w["default"].m3u8=_["default"],w["default"].options.hls=w["default"].options.hls||{},w["default"].registerPlugin?w["default"].registerPlugin("reloadSourceOnError",A["default"]):w["default"].plugin("reloadSourceOnError",A["default"]),module.exports={Hls:L,HlsHandler:B,HlsSourceHandler:F}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2,"./config":3,"./master-playlist-controller":5,"./playback-watcher":8,"./playlist":11,"./playlist-loader":9,"./playlist-selectors.js":10,"./reload-source-on-error":13,"./rendition-mixin":14,"./xhr":21,"aes-decrypter":25,"global/document":31,"global/window":32,"m3u8-parser":33,"videojs-contrib-media-sources":74}]},{},[77])(77)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojsContribQualityLevels=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){return i(t[a][1][e]||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,a=t(o),s=require("global/document"),u=t(s),l=require("./quality-level.js"),c=t(l),d=function(e){function t(){var i;n(this,t);var o=r(this,e.call(this)),s=o;if(a["default"].browser.IS_IE8){s=u["default"].createElement("custom");for(var l in t.prototype)"constructor"!==l&&(s[l]=t.prototype[l])}return s.levels_=[],s.selectedIndex_=-1,Object.defineProperty(s,"selectedIndex",{get:function(){return s.selectedIndex_}}),Object.defineProperty(s,"length",{get:function(){return s.levels_.length}}),i=s,r(o,i)}return i(t,e),t.prototype.addQualityLevel=function(e){var t=this.getQualityLevelById(e.id);if(t)return t;var n=this.levels_.length;return t=new c["default"](e),""+n in this||Object.defineProperty(this,n,{get:function(){return this.levels_[n]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t},t.prototype.removeQualityLevel=function(e){for(var t=null,n=0,r=this.length;n<r;n++)if(this[n]===e){t=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t},t.prototype.getQualityLevelById=function(e){for(var t=0,n=this.length;t<n;t++){var r=this[t];if(r.id===e)return r}return null},t.prototype.dispose=function(){this.selectedIndex_=-1,this.levels_.length=0},t}(a["default"].EventTarget);d.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(var f in d.prototype.allowedEvents_)d.prototype["on"+f]=null;exports["default"]=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./quality-level.js":2,"global/document":4}],2:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var r="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,i=t(r),o=require("global/document"),a=t(o),s=function u(e){n(this,u);var t=this;if(i["default"].browser.IS_IE8){t=a["default"].createElement("custom");for(var r in u.prototype)"constructor"!==r&&(t[r]=u.prototype[r])}return t.id=e.id,t.label=t.id,t.width=e.width,t.height=e.height,t.bitrate=e.bandwidth,t.enabled_=e.enabled,Object.defineProperty(t,"enabled",{get:function(){return t.enabled_()},set:function(e){t.enabled_(e)}}),t};exports["default"]=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/document":4}],3:[function(require,module,exports){},{}],4:[function(require,module,exports){(function(e){var t=void 0!==e?e:"undefined"!=typeof window?window:{},n=require("min-document");if("undefined"!=typeof document)module.exports=document;else{var r=t["__GLOBAL_DOCUMENT_CACHE@4"];r||(r=t["__GLOBAL_DOCUMENT_CACHE@4"]=n),module.exports=r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":3}],5:[function(require,module,exports){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}exports.__esModule=!0;var n="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,r=t(n),i=require("./quality-level-list.js"),o=t(i),a=r["default"].registerPlugin||r["default"].plugin,s=function(e,t){var n=e.qualityLevels,r=new o["default"],i=function a(){r.dispose(),e.qualityLevels=n,e.off("dispose",a)};return e.on("dispose",i),e.qualityLevels=function(){return r},e.qualityLevels.VERSION="2.0.3",r},u=function(e){return s(this,r["default"].mergeOptions({},e))};a("qualityLevels",u),u.VERSION="2.0.3",exports["default"]=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./quality-level-list.js":1}]},{},[5])(5)}),function(){"use strict";var e=null;e="undefined"==typeof window.videojs&&"function"==typeof require?require("video.js"):window.videojs,function(e,t){function n(e,t,n,r){return a={label:n,sources:t},"function"==typeof r?r(e,t,n):"flash"===e.techName_.toLowerCase()?t&&0!==t.length?e.src(t[0].src):e.src(""):e.src(t.map(function(e){return{src:e.src,type:e.type,res:e.res}}))}function r(e,n){var r=n.sources;return r=(r||[]).map(function(e){var r=1==e.tags.length&&e.tags[0]||"",i=r.match(/hls|mp4/g),o=i?i[0]:"",a=r.match(/\d+/g),s=a?a[0]:0,u=a?a[1]:0,l=r.toLowerCase().match(/\d+(k|m)/g),c=0;return l&&(c=parseInt(l[0].replace(/k|m/g,"")),c*=l[0].indexOf("k")>-1?1e3:1e6),t.mergeOptions({},e,{url:e.src,format:o||("application/x-mpegurl"===(e.type||"").toLowerCase()?"hls":"mp4"),label:n.label,video:{codec:"",frame_rate:0,bit_rate:c,width:s,height:u},audio:{codec:""}})}),n.sources=r,n}var i,o={},a={},s={},u=t.getComponent("MenuItem"),l=t.extend(u,{constructor:function(e,t,n,r){this.onClickListener=n,this.label=r,u.call(this,e,t),this.src=t.src,this.on("click",this.onClick),this.on("touchstart",this.onClick),t.initialySelected&&(this.showAsLabel(),this.selected(!0),this.addClass("vjs-selected"))},showAsLabel:function(){this.label&&(this.label.innerHTML=this.options_.label)},onClick:function(e){this.onClickListener(this);var t=this.player_.currentTime(),r=this.player_.paused();this.showAsLabel(),this.addClass("vjs-selected"),r||this.player_.bigPlayButton.hide(),"function"!=typeof e&&"function"==typeof this.options_.customSourcePicker&&(e=this.options_.customSourcePicker);var i="loadeddata";"Youtube"!==this.player_.techName_&&"none"===this.player_.preload()&&"Flash"!==this.player_.techName_&&(i="timeupdate"),n(this.player_,this.src,this.options_.label,e).one(i,function(){this.player_.currentTime(t),this.player_.handleTechSeeked_(),r||this.player_.play().handleTechSeeked_(),this.player_.trigger("resolutionchange")})}}),c=t.getComponent("MenuButton"),d=t.extend(c,{constructor:function(e,n,r,i){if(this.sources=n.sources,this.label=i,this.label.innerHTML=n.initialySelectedLabel,c.call(this,e,n,r),this.controlText("Quality"),r.dynamicLabel)this.el().appendChild(i);else{var o=document.createElement("span");t.addClass(o,"vjs-resolution-button-staticlabel"),this.el().appendChild(o)}},createItems:function(){var e=[],t=this.sources&&this.sources.label||{},n=function(t){e.map(function(e){e.selected(e===t),e.removeClass("vjs-selected")})};for(var r in t)t.hasOwnProperty(r)&&(e.push(new l(this.player_,{label:r,src:t[r],initialySelected:r===this.options_.initialySelectedLabel,customSourcePicker:this.options_.customSourcePicker},n,this.label)),s[r]=e[e.length-1]);return e}});i=function(e){function i(e,t){return e.res&&t.res?+t.res-+e.res:0}function u(e){var t={label:{},res:{},type:{}};return e.map(function(e){l(t,"label",e),l(t,"res",e),l(t,"type",e),c(t,"label",e),c(t,"res",e),c(t,"type",e)}),t}function l(e,t,n){null==e[t][n[t]]&&(e[t][n[t]]=[])}function c(e,t,n){e[t][n[t]].push(n)}function f(e,t){var n=p["default"],r="";return"high"===n?(n=t[0].res,r=t[0].label):"low"!==n&&null!=n&&e.res[n]?e.res[n]&&(r=e.res[n][0].label):(n=t[t.length-1].res,r=t[t.length-1].label),{res:n,label:r,sources:e.res[n]}}var p=t.mergeOptions(o,e),h=this,y=document.createElement("span"),g={};t.addClass(y,"vjs-resolution-button-label"),h.updateSrc=function(e){if(!e)return h.src();h.controlBar.resolutionSwitcher&&(h.controlBar.resolutionSwitcher.dispose(),delete h.controlBar.resolutionSwitcher),e=e.sort(i),g=u(e);var r=f(g,e),o=new d(h,{sources:g,initialySelectedLabel:r.label,initialySelectedRes:r.res,customSourcePicker:p.customSourcePicker},p,y);return t.addClass(o.el(),"vjs-resolution-button"),h.controlBar.resolutionSwitcher=h.controlBar.el_.insertBefore(o.el_,h.controlBar.getChild("fullscreenToggle").el_),h.controlBar.resolutionSwitcher.dispose=function(){this.parentNode.removeChild(this)},n(h,r.sources,r.label)},h.currentResolution=function(e,t){return null==e?r(h,a):(null!=s[e]&&s[e].onClick(t),h)},h.getGroupedSrc=function(){return g},h.ready(function(){h.options_.sources.length>1&&h.updateSrc(h.options_.sources)})},t.plugin("videoJsResolutionSwitcher",i)}(window,e)}(),function(e,t){"function"==typeof define&&define.amd?define([],t.bind(this,e,e.videojs)):"undefined"!=typeof module&&module.exports?module.exports=t(e,e.videojs):t(e,e.videojs)}(window,function(e,t){"use strict";e.videojs_hotkeys={version:"0.2.15"};var n=function(n){function r(e){return 32===e.which||179===e.which}function i(e){return 37===e.which||177===e.which}function o(e){return 39===e.which||176===e.which}function a(e){return 38===e.which}function s(e){return 40===e.which}function u(e){return 77===e.which}function l(e){return 70===e.which}var c=this,d=c.el(),f=document,p={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,playPauseKey:r,rewindKey:i,forwardKey:o,volumeUpKey:a,volumeDownKey:s,muteKey:u,fullscreenKey:l,customKeys:{}},h=1,y=2,g=3,m=4,v=5,_=6,b=7,w=t.mergeOptions||t.util.mergeOptions;n=w(p,n||{});var T=n.volumeStep,S=n.seekStep,E=n.enableMute,O=n.enableVolumeScroll,k=n.enableFullscreen,P=n.enableNumbers,C=n.enableJogStyle,I=n.alwaysCaptureHotkeys;d.hasAttribute("tabIndex")||d.setAttribute("tabIndex","-1"),d.style.outline="none",!I&&c.autoplay()||c.one("play",function(){d.focus()}),c.on("userinactive",function(){var e=function(){clearTimeout(t)},t=setTimeout(function(){c.off("useractive",e),f.activeElement.parentElement==d.querySelector(".vjs-control-bar")&&d.focus()},10);c.one("useractive",e)}),c.on("play",function(){var e=d.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")});var j=function(e){var t,r=e.which,i=e.preventDefault;if(c.controls()){var o=f.activeElement;if(I||o==d||o==d.querySelector(".vjs-tech")||o==d.querySelector(".vjs-control-bar")||o==d.querySelector(".iframeblocker"))switch(M(e,c)){case h:i(),I&&e.stopPropagation(),c.paused()?c.play():c.pause();break;case y:i(),t=c.currentTime()-S,c.currentTime()<=S&&(t=0),c.currentTime(t);break;case g:i(),c.currentTime(c.currentTime()+S);break;case v:i(),C?(t=c.currentTime()-1,c.currentTime()<=1&&(t=0),c.currentTime(t)):c.volume(c.volume()-T);break;case m:i(),C?c.currentTime(c.currentTime()+1):c.volume(c.volume()+T);break;case _:E&&c.muted(!c.muted());break;case b:k&&(c.isFullscreen()?c.exitFullscreen():c.requestFullscreen());break;default:if((r>47&&r<59||r>95&&r<106)&&P){var a=48;r>95&&(a=96);var s=r-a;i(),c.currentTime(c.duration()*s*.1)}for(var u in n.customKeys){var l=n.customKeys[u];l&&l.key&&l.handler&&l.key(e)&&(i(),l.handler(c,n))}}}},x=function(e){if(c.controls()){var t=e.relatedTarget||e.toElement||f.activeElement;t!=d&&t!=d.querySelector(".vjs-tech")&&t!=d.querySelector(".iframeblocker")||k&&(c.isFullscreen()?c.exitFullscreen():c.requestFullscreen())}},A=function(t){if(c.controls()){var n=t.relatedTarget||t.toElement||f.activeElement;if((I||n==d||n==d.querySelector(".vjs-tech")||n==d.querySelector(".iframeblocker")||n==d.querySelector(".vjs-control-bar"))&&O){t=e.event||t;var r=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));t.preventDefault(),1==r?c.volume(c.volume()+T):-1==r&&c.volume(c.volume()-T)}}},M=function(e,t){return n.playPauseKey(e,t)?h:n.rewindKey(e,t)?y:n.forwardKey(e,t)?g:n.volumeUpKey(e,t)?m:n.volumeDownKey(e,t)?v:n.muteKey(e,t)?_:n.fullscreenKey(e,t)?b:void 0};return c.on("keydown",j),c.on("dblclick",x),c.on("mousewheel",A),c.on("DOMMouseScroll",A),this};t.plugin("hotkeys",n)}),function(e,t){"use strict";var n="",r="?",i="function",o="undefined",a="object",s="string",u="model",l="name",c="type",d="vendor",f="version",p="architecture",h="console",y="mobile",g="tablet",m="smarttv",v="wearable",_={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===s?e.replace(/[^\d\.]/g,"").split(".")[0]:t},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},b={rgx:function(){for(var e,n,r,s,u,l,c,d=0,f=arguments;d<f.length&&!l;){var p=f[d],h=f[d+1];if(typeof e===o){e={};for(s in h)h.hasOwnProperty(s)&&(u=h[s],typeof u===a?e[u[0]]=t:e[u]=t)}for(n=r=0;n<p.length&&!l;)if(l=p[n++].exec(this.getUA()))for(s=0;s<h.length;s++)c=l[++r],u=h[s],typeof u===a&&u.length>0?2==u.length?typeof u[1]==i?e[u[0]]=u[1].call(this,c):e[u[0]]=u[1]:3==u.length?typeof u[1]!==i||u[1].exec&&u[1].test?e[u[0]]=c?c.replace(u[1],u[2]):t:e[u[0]]=c?u[1].call(this,c,u[2]):t:4==u.length&&(e[u[0]]=c?u[3].call(this,c.replace(u[1],u[2])):t):e[u]=c||t;d+=2}return e},str:function(e,n){for(var i in n)if(typeof n[i]===a&&n[i].length>0){for(var o=0;o<n[i].length;o++)if(_.has(n[i][o],e))return i===r?t:i}else if(_.has(n[i],e))return i===r?t:i;return e}},w={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},T={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[l,f],[/(opios)[\/\s]+([\w\.]+)/i],[[l,"Opera Mini"],f],[/\s(opr)\/([\w\.]+)/i],[[l,"Opera"],f],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[l,f],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[l,"IE"],f],[/(edge)\/((\d+)?[\w\.]+)/i],[l,f],[/(yabrowser)\/([\w\.]+)/i],[[l,"Yandex"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],f],[/(micromessenger)\/([\w\.]+)/i],[[l,"WeChat"],f],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[f,[l,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[l,/(.+)/,"$1 WebView"],f],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[f,[l,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[l,f],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[[l,"UCBrowser"],f],[/(dolfin)\/([\w\.]+)/i],[[l,"Dolphin"],f],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[l,"Chrome"],f],[/;fbav\/([\w\.]+);/i],[f,[l,"Facebook"]],[/fxios\/([\w\.-]+)/i],[f,[l,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[f,[l,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[f,l],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[l,[f,b.str,w.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[l,f],[/(navigator|netscape)\/([\w\.-]+)/i],[[l,"Netscape"],f],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[l,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,_.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[p,/ower/,"",_.lowerize]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[p,_.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[u,d,[c,g]],[/applecoremedia\/[\w\.]+ \((ipad)/],[u,[d,"Apple"],[c,g]],[/(apple\s{0,1}tv)/i],[[u,"Apple TV"],[d,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,u,[c,g]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[u,[d,"Amazon"],[c,g]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[u,b.str,w.device.amazon.model],[d,"Amazon"],[c,y]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[u,d,[c,y]],[/\((ip[honed|\s\w*]+);/i],[u,[d,"Apple"],[c,y]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,u,[c,y]],[/\(bb10;\s(\w+)/i],[u,[d,"BlackBerry"],[c,y]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[u,[d,"Asus"],[c,g]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[u,"Xperia Tablet"],[c,g]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[d,"Sony"],[u,"Xperia Phone"],[c,y]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,u,[c,h]],[/android.+;\s(shield)\sbuild/i],[u,[d,"Nvidia"],[c,h]],[/(playstation\s[34portablevi]+)/i],[u,[d,"Sony"],[c,h]],[/(sprint\s(\w+))/i],[[d,b.str,w.device.sprint.vendor],[u,b.str,w.device.sprint.model],[c,y]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[d,u,[c,g]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[d,[u,/_/g," "],[c,y]],[/(nexus\s9)/i],[u,[d,"HTC"],[c,g]],[/(nexus\s6p)/i],[u,[d,"Huawei"],[c,y]],[/(microsoft);\s(lumia[\s\w]+)/i],[d,u,[c,y]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[u,[d,"Microsoft"],[c,h]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[d,"Microsoft"],[c,y]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[u,[d,"Motorola"],[c,y]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[u,[d,"Motorola"],[c,g]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,_.trim],[u,_.trim],[c,m]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[d,"Samsung"],[c,m]],[/\(dtv[\);].+(aquos)/i],[u,[d,"Sharp"],[c,m]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],u,[c,g]],[/smart-tv.+(samsung)/i],[d,[c,m],u],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[d,"Samsung"],u,[c,y]],[/sie-(\w+)*/i],[u,[d,"Siemens"],[c,y]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[d,"Nokia"],u,[c,y]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[u,[d,"Acer"],[c,g]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],u,[c,g]],[/(lg) netcast\.tv/i],[d,u,[c,m]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[u,[d,"LG"],[c,y]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[u,[d,"Lenovo"],[c,g]],[/linux;.+((jolla));/i],[d,u,[c,y]],[/((pebble))app\/[\d\.]+\s/i],[d,u,[c,v]],[/android.+;\s(glass)\s\d/i],[u,[d,"Google"],[c,v]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[u,/_/g," "],[d,"Xiaomi"],[c,y]],[/android.+a000(1)\s+build/i],[u,[d,"OnePlus"],[c,y]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,_.lowerize],d,u]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[f,[l,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,f],[/rv\:([\w\.]+).*(gecko)/i],[f,l]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[l,f],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[l,[f,b.str,w.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[f,b.str,w.os.windows.version]],[/\((bb)(10);/i],[[l,"BlackBerry"],f],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[l,f],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[l,"Symbian"],f],[/\((series40);/i],[l],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"],f],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[l,f],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],f],[/(sunos)\s?([\w\.]+\d)*/i],[[l,"Solaris"],f],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[l,f],[/(haiku)\s(\w+)/i],[l,f],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[l,"iOS"],[f,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[l,"Mac OS"],[f,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[l,f]]},S=function(t,r){if(!(this instanceof S))return new S(t,r).getResult();var i=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:n),o=r?_.extend(T,r):T;return this.getBrowser=function(){var e=b.rgx.apply(this,o.browser);return e.major=_.major(e.version),e},this.getCPU=function(){return b.rgx.apply(this,o.cpu)},this.getDevice=function(){return b.rgx.apply(this,o.device)},this.getEngine=function(){return b.rgx.apply(this,o.engine)},this.getOS=function(){return b.rgx.apply(this,o.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this};S.VERSION="0.7.12",S.BROWSER={NAME:l,MAJOR:"major",VERSION:f},S.CPU={ARCHITECTURE:p},S.DEVICE={MODEL:u,VENDOR:d,TYPE:c,CONSOLE:h,MOBILE:y,SMARTTV:m,TABLET:g,WEARABLE:v,EMBEDDED:"embedded"},S.ENGINE={NAME:l,VERSION:f},S.OS={NAME:l,VERSION:f},typeof exports!==o?(typeof module!==o&&module.exports&&(exports=module.exports=S),exports.UAParser=S):typeof define===i&&define.amd?define(function(){return S}):e.UAParser=S;var E=e.jQuery||e.Zepto;if(typeof E!==o){var O=new S;E.ua=O.getResult(),E.ua.get=function(){return O.getUA()},E.ua.set=function(e){O.setUA(e);var t=O.getResult();for(var n in t)E.ua[n]=t[n]}}}("object"==typeof window?window:this),function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n=window.webpackJsonp;window.webpackJsonp=function(r,o,a){for(var s,u,l,c=0,d=[];c<r.length;c++)u=r[c],i[u]&&d.push(i[u][0]),i[u]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);for(n&&n(r,o,a);d.length;)d.shift()();if(a)for(c=0;c<a.length;c++)l=t(t.s=a[c]);return l};var r={},i={1:0};t.e=function(e){function n(){s.onerror=s.onload=null,clearTimeout(u);var t=i[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),i[e]=undefined)}var r=i[e];if(0===r)return new Promise(function(e){e()});if(r)return r[2];var o=new Promise(function(t,n){r=i[e]=[t,n]});r[2]=o;var a=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,t.nc&&s.setAttribute("nonce",t.nc),s.src=t.p+"js/"+e+"-"+{0:"c8429162b55f5b5a9627"}[e]+".js";var u=setTimeout(n,12e4);return s.onerror=s.onload=n,a.appendChild(s),o},t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t.oe=function(e){throw console.error(e),e},t(t.s=6)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(1),a=n(2);!function(){function e(e,t){return e.__proto__=t,e}function t(e,t){for(var n in t)e[n]=t[n];return e}for(var n=0,r=["webkit","moz"],i=0;i<r.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[r[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[r[i]+"CancelAnimationFrame"]||window[r[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-n)),i=window.setTimeout(function(){e(t+r)},r);return n=t+r,i},window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})),Object.setPrototypeOf||(Object.setPrototypeOf={__proto__:[]}instanceof Array?e:t)}();var s=function(){function e(){r(this,e)}return e.detectIE=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)},e.detectIOS=function(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)},e.checkFlashPlayerPlugin=function(){var e=!1;try{e=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(t){e="undefined"!=typeof navigator.mimeTypes["application/x-shockwave-flash"]}return e},e.checkSupportLocalStorage=function(){try{var e="test_"+Date.now();return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}},e.getParameterByName=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(window.location.href);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},e.trim=function(){return(arguments.length>0&&arguments[0]!==undefined?arguments[0]:"").replace(/(^\s+)|(\s+$)/g,"")},e.parseHTTPHeaders=function(t){var n={};return e.trim(t).split("\n").map(function(t){var r=t.indexOf(":");if(-1===r)return void(n[t]=undefined);var i=e.trim(t.substr(0,r)).toLowerCase(),o=e.trim(t.substr(r+1));"undefined"==typeof n[i]?n[i]=o:"string"==typeof n[i]?n[i]=[n[i],o]:n[i].push(o)}),n},e.isMp4ContentType=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",t=e.toLowerCase();return a.MP4_CONTENT_TYPES.reduce(function(e,n){return!0===e||e===t||n===t})},e.isHlsContentType=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",t=e.toLowerCase();return a.HLS_CONTENT_TYPES.reduce(function(e,n){return!0===e||e===t||n===t})},e.mergeVideoOptions=function(t){var n={};if(!t)return n;for(var r in t)switch(r){case"hub":case"vid":case"url":case"mode":case"width":case"height":case"autoplay":case"preload":case"loop":case"controls":case"nativeControlsForTouch":case"dynamicMediaSource":case"poster":case"file":case"marquee":case"imageAds":case"videoAds":case"stretching":case"protection":case"sourceOrder":case"language":case"uKey":case"DRMKey":n[r]=t[r];break;case"type":"hls"===String(t[r]).toLowerCase()||"m3u8"===String(t[r]).toLowerCase()||e.isHlsContentType(String(t[r]).toLowerCase())?n.type="application/x-mpegURL":"mp4"===String(t[r]).toLowerCase()||e.isMp4ContentType(String(t[r]).toLowerCase())?n.type="video/mp4":(0,o.getLogger)().error("Unsupported video type: "+t[r]);break;case"engineOrder":n.techOrder=t[r];break;default:(0,o.getLogger)().error("Unsupported video option: "+r+" with value: "+t[r])}return n},e.isFunction=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},e.on=function(e,t,n){e&&(window.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,n))},e.off=function(e,t,n){e&&(window.addEventListener?e.removeEventListener(t,n):e.detachEvent("on"+t,n))},e.windowDimension=function(){var e=document.documentElement,t=document.getElementsByTagName("body")[0];return{width:window.innerWidth||e.clientWidth||t.clientWidth,height:window.innerHeight||e.clientHeight||t.clientHeight}},e.elementDimension=function(t){var n=e.windowDimension();return t?{width:t.offsetWidth||n.width,height:t.offsetHeight||n.height}:n},e.isContentTypeMatch=function(e,t){return t=(t||"").toLowerCase(),"string"==typeof e?e.toLowerCase().indexOf(t)>-1:e.reduce(function(e,n){return!0===e||e.toLowerCase().indexOf(t)>-1||n.toLowerCase().indexOf(t)>-1})},e.isFullscreen=function(){return window.innerHeight===screen.height},e.isMobileDevice=function(){return videojs.browser.IS_IOS||videojs.browser.IS_ANDROID},e.parseUserAgent=function(e){var t=new UAParser;return e&&t.setUA(e),t.getResult()},e.generateGUID=function(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isPlainObject=function(t){return!(!t||e.isArray(t))&&"object"===(void 0===t?"undefined":i(t))},e.isString=function(e){return"string"==typeof e},e}();t["default"]=s},function(e,t,n){"use strict";function r(e){var t=videojs.log.error.bind(null,o),n=videojs.log.warn.bind(null,o),r=videojs.log.bind(null,o);switch(e){case"error":n=r=a;break;case"warn":r=a;break;case"log":case"debug":case"all":break;default:r=a}return{debug:r,log:r,error:t,warn:n}}function i(){return r(arguments.length>0&&arguments[0]!==undefined?arguments[0]:"warn")}Object.defineProperty(t,"__esModule",{value:!0}),t.getLogger=i;var o=" [APP] ",a=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JEDI_VIDEO=0,t.VANCE_VIDEO=1,t.DEFAULT_VIDEO=2,t.EXTERNAL_VIDEO=3,t.VANCE_SINGLE_VIDEO=4,t.ERROR_NOT_VINFO=800001,t.ERROR_H265_NOT_SUPPORT=800002,t.PROMPT_PARAMS_ERROR="éœ€è¦æ›´å¤šçš„å‚æ•°æ‰èƒ½å¼€å§‹æ’­æ”¾è§†é¢‘",t.PROMPT_NO_AVAILABLE_FLASH='éœ€è¦å¯ç”¨ flash æ‰èƒ½ç»§ç»­æ’­æ”¾è¯¥è§†é¢‘ï¼Œ<a href="https://get.adobe.com/cn/flashplayer/" target="_blank">ç«‹å³å¯ç”¨</a>',t.PROMPT_NO_SUPPORTED_VIDEO_FORMAT="è§†é¢‘æ ¼å¼ä¸æ”¯æŒï¼Œè¯·ä½¿ç”¨æ­£ç¡®çš„æ’­æ”¾é“¾æŽ¥å¹¶ç¡®å®šç½‘ç»œé€šç•…",t.PROMPT_FETCH_VIDEO_INFO_ERROR="èŽ·å–è§†é¢‘ä¿¡æ¯å¤±è´¥ï¼Œè¯·ä½¿ç”¨æ­£ç¡®çš„é“¾æŽ¥å¹¶ç¡®å®šç½‘ç»œç•…é€šï¼",t.PROMPT_H265_NOT_SUPPORT="æµè§ˆå™¨ä¸æ”¯æŒæ’­æ”¾h.265ç¼–ç çš„è§†é¢‘æ–‡ä»¶",t.NOTIFY_SWITCH_RESOLUTION_TIMEOUT="ç½‘é€Ÿä¸ç»™åŠ›ï¼Ÿè¯·åˆ‡æ¢è‡³è¾ƒä½Žçš„åˆ†è¾¨çŽ‡ï¼Œæˆ–è€…å°è¯•åˆ·æ–°æµè§ˆå™¨ã€‚",t.MP4_CONTENT_TYPES=["application/mp4","audio/mp4","video/mp4","video/m4v"],t.HLS_CONTENT_TYPES=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){r(this,e)}return e.createElement=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div",t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments[2],r=arguments[3],i=videojs.createEl(e,{},t,r);return n&&n.appendChild(i),i},e.addClass=function(e,t){if(e)return videojs.addClass(e,t)},e.removeClass=function(e,t){if(e)return videojs.removeClass(e,t)},e.toggleClass=function(e,t){return videojs.toggleClass(e,t)},e.hasClass=function(e,t){return videojs.hasClass(e,t)},e.removeNode=function(e){if(e)if(e.remove)e.remove();else{var t=e.parentNode;t.removeChild(e)}},e.removeNodes=function(t){if(t&&!(t.length<=0))for(var n=0,r=t.length;n<r;n+=1)e.removeNode(t[n])},e}();t["default"]=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIDEOS_REQUEST_END_POINT="//jedi.qiniuapi.com",t.DEFAULT_VIDEOS_HOST_SITE="//player.qiniucc.com",t.VANCE_STATS_REPORT_END_POINT="//lightsaber.qiniuapi.com",t.JEDI_STATS_REPORT_END_POINT="//lightsaber.jedi.qiniuapi.com"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){T["default"].isFunction(e)&&e.call(t)}function a(e,t){if(t){var n=document.getElementById(e);if(n)switch(t){case"letterbox":b["default"].addClass(n,"video-size-letterbox");break;case"panscan":b["default"].addClass(n,"video-size-panscan");break;case"fitwindow":b["default"].addClass(n,"video-size-fitwindow");break;case"none":b["default"].addClass(n,"video-size-none");break;default:P.error("Unsupported video fit option: "+t)}}}function s(e,t){e&&t&&(I.players_=I.players_||{},I.players_[e]=t)}function u(e){return!(!e||!e.videoAds)&&e.videoAds.filter(function(e){return e.position&&"op"===e.position.toLowerCase().trim()}).length>0}function l(e){var t=0,n=null;e.on("waiting",function(){var t=e.currentTime();if(e.duration()-t<.2){n&&window.clearTimeout(n);var r=e.currentSrc();n=window.setTimeout(function(){r===e.currentSrc()&&e.currentTime()-t<.2&&(e.paused(),e.trigger("ended")),window.clearTimeout(n)},1500)}}),e.on("timeupdate",function(){t=.1*e.duration(),e.currentTime()>e.duration()+t&&(e.paused(),e.trigger("ended"))})}function c(e,t){e.on("play",function(){return setTimeout(function(){var n=t+"_"+e.techName_.toLowerCase()+"_api";document.getElementById(n).style.cssText=null},0)})}function d(e,t,n){var r=setTimeout(function(){e.notify(v.NOTIFY_SWITCH_RESOLUTION_TIMEOUT,"forever")},12e4);"flash"===n?e.one("progress",function(){e.hideNotification(),e.removeClass("vjs-switching"),clearTimeout(r)}):e.one("playing",function(){e.hideNotification(),e.removeClass("vjs-switching"),clearTimeout(r)})}function f(e){return(e.channels||[]).map(function(e){return{id:e.id,label:e.label,bitrate:e.video.bit_rate,info:e}})}function p(e,t){var n={};if(e.dynamicMediaSource&&e.dynamicMediaSource.length>1)n.videoJsResolutionSwitcher={"default":"high",dynamicLabel:!0,customSourcePicker:function(e,n,r){return e.addClass("vjs-switching"),"flash"===e.techName_.toLowerCase()?(d(e,t,"flash"),n&&0!==n.length?e.src(n[0].src):e.src("")):(d(e,t,"html5"),e.src(n.map(function(e){return{src:e.src,type:e.type,res:e.res}})))}};else if(e.dynamicMediaSource&&1===e.dynamicMediaSource.length){var r=e.dynamicMediaSource[0];delete e.dynamicMediaSource,e.file=r.src,e.type=r.type,r.channels?n.resolutionSwitcher={dynamicLabel:!1,levels:f(r)}:e.mode=v.VANCE_SINGLE_VIDEO}return n}function h(e,t){var n=p(e,t),r={plugins:videojs.mergeOptions({imageAds:e.imageAds,errorMask:undefined,notification:undefined},n)},i={hls:e.protection?{}:{withCredentials:!1}};return videojs.mergeOptions({},e,i,r)}function y(e,t){return document.getElementById(e)&&(b["default"].addClass("video-js"),b["default"].addClass("vjs-default-skin"),b["default"].addClass("vjs-big-play-centered")),videojs(e,t.videoOptions,function(){var n=this;T["default"].isMobileDevice()&&n.addClass("vjs-mobile"),t.videoOptions.dynamicMediaSource?n.updateSrc(t.videoOptions.dynamicMediaSource):t.videoOptions.file&&n.src({src:t.videoOptions.file,type:t.videoOptions.type?t.videoOptions.type:""}),t.videoOptions.marquee&&(u(t.videoOptions)?(n.on("adstart",function(){var e=document.querySelectorAll(".jedi-marquee");e&&e.length>0&&(b["default"].hasClass(e[0],"playing-com")||b["default"].addClass(e[0],"playing-com"))}),n.on("adend",function(){n.marquee&&n.marquee(t.videoOptions.marquee,e);var r=document.querySelectorAll(".jedi-marquee");r&&r.length>0&&b["default"].hasClass(r[0],"playing-com")&&b["default"].removeClass(r[0],"playing-com")})):n.marquee(t.videoOptions.marquee,e)),n.QiniuAds({inventory:t.videoOptions.videoAds}),n.on("play",function(){n.posterImage&&(n.posterImage.hide(),n.bigPlayButton.hide())}),T["default"].isMobileDevice()&&(n.on("pause",function(){n.bigPlayButton.show()}),n.on("play",function(){n.bigPlayButton.hide()})),n.on("resolutionchange",function(){P.debug("Source changed to: ",n.src())})})}function g(e){var t=e.currentTime,n=!1;e.disableSeek=function(t){return n=void 0===t||!!t,e},e.currentTime=function(){return t.apply(e,n?undefined:arguments)}}Object.defineProperty(t,"__esModule",{value:!0});var m=n(2),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}(m),_=n(3),b=r(_),w=n(0),T=r(w),S=n(13),E=r(S),O=n(15),k=n(1);n(29),n(24),n(25),n(26),n(27),n(28),n(23),n(16),n(17),n(19),n(18),n(20),n(22),n(21);var P=(0,k.getLogger)(),C=["m3u8","hls","mp4"],I=function(){function e(t){var n=this,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},u=arguments[2];i(this,e),this.video=t,this.videoOptions=T["default"].mergeVideoOptions(r),this.guid_=T["default"].generateGUID(),this.videoOptions&&(this.videoOptions=h(this.videoOptions,t)),this.videoOptions.mode===v.VANCE_SINGLE_VIDEO&&(this.stat=r.dynamicMediaSource[0].stat),this.videoPlayer=y(t,this),this.videoPlayer.ready(function(){var e=document.getElementById(t),r=e.offsetWidth;r<414?b["default"].addClass(e,"vjs-sm"):r>960&&b["default"].addClass(e,"vjs-lg"),n.videoPlayer.hotkeys({volumeStep:.1,seekStep:5,enableVolumeScroll:!1}),(0,O.setupPlaybackRestore)(n)}),g(this.videoPlayer),a(t,this.videoOptions.stretching),s(t,this),o(u,this),videojs.browser.IS_IOS&&l(this.videoPlayer),videojs.browser.IS_ANDROID&&c(this.videoPlayer,this.video)}return e.prototype.ready=function(e){return this.videoPlayer.ready(function(){o(e)}),this},e.prototype.play=function(e){return this.videoPlayer.play(),o(e,this),this},e.prototype.pause=function(e){return this.videoPlayer.pause(),o(e,this),this},e.prototype.isPaused=function(){return this.videoPlayer.paused()},e.prototype.end=function(e){return this.videoPlayer.reset(),o(e,this),this},e.prototype.isEnded=function(){return this.videoPlayer.ended()},e.prototype.disableSeek=function(e,t){return 0===arguments.length?(this.videoPlayer.disableSeek(),this):(1===arguments.length&&arguments[0]instanceof Function&&(t=e,e=!0),this.videoPlayer.disableSeek(e),o(t,this),this)},e.prototype.currentTime=function(e,t){return 0===arguments.length?this.videoPlayer.currentTime():(this.videoPlayer.currentTime(e),o(t,this),this)},e.players=function(){return e.players_},e.dispose=function(e){var t=videojs(e);t&&t.dispose()},e.prototype.dispose=function(e){return this.videoPlayer.dispose(),o(e,this),this},e.disposeAll=function(){var e=videojs.players;for(var t in e)e.hasOwnProperty(t)&&videojs(t).dispose()},e.prototype.aspectRatio=function(e,t){return 0===arguments.length?this.videoPlayer.aspectRatio():(this.videoPlayer.aspectRatio(e),o(t,this),this)},e.prototype.currentStats=function(){var e={},t=void 0;switch(this.videoOptions.mode){case v.JEDI_VIDEO:case v.VANCE_VIDEO:t=this.videoPlayer.currentResolution(),e=t.sources[0];break;case v.VANCE_SINGLE_VIDEO:e=this.stat;case v.DEFAULT_VIDEO:case v.EXTERNAL_VIDEO:e.url=this.videoPlayer.options_.file,e.type=this.videoPlayer.options_.type}e=videojs.mergeOptions({url:"",format:"",label:"",duration:this.duration(),video:{codec:"",frame_rate:0,bit_rate:0,width:0,height:0},audio:{codec:""}},e);var n=e.url.match(/\:\/\/.*\//g);return e.domain=n?n[0].split("/")[2]:"",e},e.prototype.state=function(){return this.videoPlayer.readyState()},e.prototype.duration=function(e,t){return 0===arguments.length?Math.round(this.videoPlayer.duration()):(this.videoPlayer.duration(e),o(t,this),this)},e.prototype.isMuted=function(){return this.videoPlayer.muted()},e.prototype.mute=function(e,t){return 0===arguments.length?this.videoPlayer.muted(!0):this.videoPlayer.muted(e),o(t,this),this},e.prototype.volume=function(e,t){return 0===arguments.length?this.videoPlayer.volume():(this.videoPlayer.volume(e),o(t,this),this)},e.prototype.width=function(e,t){return 0===arguments.length?this.videoPlayer.width():(this.videoPlayer.width(e),o(t,this),this.trigger("resize"),this)},e.prototype.videoWidth=function(){return this.videoPlayer.videoWidth()},e.prototype.height=function(e,t){return 0===arguments.length?this.videoPlayer.height():(this.videoPlayer.height(e),o(t,this),this.trigger("resize"),this)},e.prototype.videoHeight=function(){return this.videoPlayer.videoHeight()},e.prototype.resize=function(e,t,n){return this.videoPlayer.width(e),this.videoPlayer.height(t),this.trigger("resize"),o(n,this),this},e.prototype.isFullscreen=function(){return this.videoPlayer.isFullscreen()},e.prototype.fullscreen=function(e,t){return 0==arguments.length?this.videoPlayer.requestFullscreen():e?this.videoPlayer.requestFullscreen():this.videoPlayer.exitFullscreen(),o(t,this),this},e.prototype.resolutions=function(){return this.videoPlayer.getGroupedSrc()},e.prototype.currentResolution=function(e,t){return 0===arguments.length?this.videoPlayer.currentResolution():(this.videoPlayer.currentResolution(e),o(t),this)},e.prototype.updateSources=function(e,t){return this.videoPlayer.updateSrc(e),o(t,this),this},e.prototype.videoAds=function(e,t){return 0===arguments.length?this.videoOptions.videoAds:(e&&(this.videoOptions.videoAds=e),o(t,this),this)},e.prototype.imageAds=function(e,t){return 0===arguments.length?this.videoOptions.imageAds:(e&&(this.videoOptions.imageAds=e),o(t,this),this)},e.prototype.marquee=function(e,t){return 0===arguments.length?this.videoOptions.marquee:(e&&(this.videoOptions.marquee=e),o(t,this),this)},e.prototype.hasControls=function(){return this.videoPlayer.controls()},e.prototype.controls=function(e,t){return 0===arguments.length?this.videoPlayer.controls(!0):this.videoPlayer.controls(e),o(t,this),this},e.prototype.showPlayButton=function(e,t){var n=this.videoPlayer.bigPlayButton;return 0===arguments.length?n&&n.show():n&&(e?n.show():this.videoPlayer.bigPlayButton.hide()),o(t,this),this},e.prototype.autoHlsCurrentSrc=function(){return this.currentSrc().indexOf("q00000001")<0?"":this.videoPlayer.tech_.hls.playlists.media().resolvedUri},e.prototype.engine=function(){return this.videoPlayer.techName_},e.prototype.on=function(e,t){var n=E["default"].normalizeEvent(e);return E["default"].eventAvailable(n)?(this.videoPlayer.on(n,t),this):void P.error("Unsupported event: "+e)},e.prototype.one=function(e,t){var n=E["default"].normalizeEvent(e);return E["default"].eventAvailable(n)?(this.videoPlayer.one(n,t),this):void P.error("Unsupported event: "+e)},e.prototype.off=function(e,t){var n=E["default"].normalizeEvent(e);return E["default"].eventAvailable(n)?(this.videoPlayer.off(n,t),this):void P.error("Unsupported event: "+e)},e.prototype.trigger=function(e,t,n){var r=E["default"].normalizeEvent(e);return this.videoPlayer.trigger(r,t),o(n,this),this},e.on=function(e,t,n){var r=E["default"].normalizeEvent(t);if(!E["default"].eventAvailable(r))return void P.error("Unsupported event: "+t);videojs.on(e,r,n)},e.one=function(e,t,n){var r=E["default"].normalizeEvent(t);if(!E["default"].eventAvailable(r))return void P.error("Unsupported event: "+t);videojs.one(e,r,n)},e.off=function(e,t,n){var r=E["default"].normalizeEvent(t);if(!E["default"].eventAvailable(r))return void P.error("Unsupported event: "+t);videojs.off(e,r,n)},e.trigger=function(e,t,n){var r=E["default"].normalizeEvent(t);videojs.trigger(e,r),o(n,this)},e.prototype.isAutoplay=function(){return this.videoPlayer.autoplay()},e.prototype.autoplay=function(e,t){return 0===arguments.length?this.videoPlayer.autoplay(!0):(this.videoPlayer.autoplay(e),o(t,this),this)},e.prototype.buffered=function(){return this.videoPlayer.buffered()},e.prototype.bufferedPercent=function(){return this.videoPlayer.bufferedPercent()},e.prototype.canPlayType=function(e){if(!e)return!1;var t=String(e).toLowerCase();return C.includes(t)},e.prototype.currentSrc=function(){return this.videoPlayer.currentSrc()},e.prototype.currentType=function(){return this.videoPlayer.currentType()},e.prototype.src=function(e,t){if(e)return this.videoPlayer.src(e),o(t,this),this},e.prototype.error=function(e,t){return 0===arguments.length?this.videoPlayer.error():(this.videoPlayer.error(e),o(t,this),this)},e.prototype.load=function(){return this.videoPlayer.load(),this},e.prototype.isLoop=function(){return this.videoPlayer.loop()},e.prototype.loop=function(e,t){return 0===arguments.length?this.videoPlayer.loop(!0):this.videoPlayer.loop(e),o(t,this),this},e.prototype.networkState=function(){return this.videoPlayer.networkState()},e.prototype.playRate=function(e,t){return 0===arguments.length?this.videoPlayer.playbackRate():(this.videoPlayer.playbackRate(e),o(t,this),this)},e.prototype.poster=function(e,t){return 0===arguments.length?this.videoPlayer.poster():(this.videoPlayer.poster(e),o(t,this),this)},e.prototype.preload=function(e,t){return 0===arguments.length?this.videoPlayer.preload():(this.videoPlayer.preload(e),o(t,this),this)},e.prototype.remainingTime=function(){return this.videoPlayer.remainingTime()},e.prototype.isScrubbing=function(){return this.videoPlayer.scrubbing()},e.prototype.scrubbing=function(e,t){return 0===arguments.length?this.videoPlayer.scrolling(!0):this.videoPlayer.scrubbing(e),o(t,this),this},e.prototype.isWaiting=function(){return this.state()<3||2===this.networkState()},e.prototype.getGUID=function(){return this.guid_},e}();t["default"]=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t={};if(!e)return t;delete e.autoplay,e.url?e.mode=g.VANCE_VIDEO:e.hub&&e.vid?e.mode=g.JEDI_VIDEO:e.qv?e.mode=g.DEFAULT_VIDEO:e.file||x.error(g.PROMPT_PARAMS_ERROR),e.swf?videojs.options.flash.swf=e.swf:videojs.options.flash.swf="//sdk-release.qnsdk.com/QplayerWeb-0.3.8.swf",t=videojs.mergeOptions(j,t);for(var n in e)if(e.hasOwnProperty(n))switch(n){case"qv":break;default:t[n]=e[n]}return t}function a(e,t){var n=document.getElementById(e);if(n){var r=b["default"].createElement("div",{"class":"video-damage-note"},null);r.innerHTML=t,n.parentNode.insertBefore(r,n),n.parentNode.removeChild(n)}}function s(e){u()||console.error("can not find swf in your options");var t=e.engineOrder[0];return!(!v["default"].detectIE()&&"flash"!==t||v["default"].checkFlashPlayerPlugin())}function u(){return!!videojs.options.flash.swf}function l(e){e&&/qiniucc.com$/g.test(window.location.host)&&(document.title=e)}function c(e){var t=e.autoplay;return v["default"].isMobileDevice()&&(t=!1),t}function d(e,t){if(e){var n=document.getElementById(e);t&&b["default"].addClass(n,"vjs-autoplay")}}function f(e,t,n){if(n.poster)return n.poster;var r=v["default"].getParameterByName("qv3");return T["default"].generateVideoPoster(e,r)}function p(){return"com"===v["default"].getParameterByName("preview").toLowerCase()?(x.debug("video is ad"),!0):(x.debug("video is not ad"),!1)}function h(e,t,n,r){setTimeout(function(){n&&(e.isPlayerReady_=!0),Object.setPrototypeOf(e,e.fenixPlayer),n&&e.readyFnQueue_&&e.readyFnQueue_.length>0&&e.readyFnQueue_.forEach(function(t){t.call(e)},e),t&&e.fenixPlayer.ready(function(){"flash"===e.fenixPlayer.videoPlayer.techName_.toLowerCase()?e.fenixPlayer.videoPlayer.tech_.setAutoplay(!0):e.fenixPlayer.play()}),v["default"].isFunction(r)&&r.call(e)},0)}Object.defineProperty(t,"__esModule",{value:!0});var y=n(2),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}(y),m=n(0),v=r(m),_=n(3),b=r(_),w=n(11),T=r(w),S=n(10),E=r(S),O=n(9),k=r(O),P=n(5),C=r(P);n(8);var I=n(1),j={engineOrder:["html5","flash"],autoplay:!1,preload:"auto",loop:!1,stretching:"letterbox",controls:!0,sourceOrder:!1,language:"zh-CN"},x=(0,I.getLogger)(),A=function(){function e(t){var n=this,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},u=arguments[2];i(this,e),this.isPlayerReady_=!1,this.readyFnQueue_=[];var y=p(),m=c(r);switch(this.playerOptions=o(r),d(t,m),this.playerOptions.mode){case g.DEFAULT_VIDEO:case g.JEDI_VIDEO:T["default"].fetchVideoInfo(r.hub,r.vid,r.qv,y,function(e,i){if(e)return x.error(e),void a(t,g.PROMPT_FETCH_VIDEO_INFO_ERROR);if(x.debug(i),l(i.name),i.protection&&(n.playerOptions.engineOrder=["flash"],n.playerOptions.protection=i.protection),s(n.playerOptions))return a(t,g.PROMPT_NO_AVAILABLE_FLASH),void x.error("you need to install flash to continue");var o=T["default"].buildVideoSource(i),c=i.player&&i.player.marquee||undefined,d=i.player&&i.player.video_ads||undefined,p=i.player&&i.player.image_ads||undefined;m&&p&&(p=p.filter(function(e){return"op"!==e.position})),n.playerOptions.dynamicMediaSource=o,n.playerOptions.marquee=c,n.playerOptions.videoAds=d,n.playerOptions.imageAds=p,n.playerOptions.poster=f(i,m,r),n.fenixPlayer=new C["default"](t,n.playerOptions),new k["default"](n.fenixPlayer,{hub:r.hub,key:r.vid,uid:i.uid}).vInit(),h(n,m,!0,u)});break;case g.VANCE_VIDEO:T["default"].fetchVanceVideoInfo(r.url,function(e,i){x.debug(i);var o=[],c=!1;if(e)return x.error(e),void a(t,g.PROMPT_FETCH_VIDEO_INFO_ERROR);if(i.type&&"hlsmp4".indexOf(i.type)>-1)n.playerOptions.file=r.url,n.playerOptions.type=i.type,n.playerOptions.mode=g.EXTERNAL_VIDEO;else{c=!0;try{o=T["default"].buildVanceVideoSource(i)}catch(c){if(c.code===g.ERROR_H265_NOT_SUPPORT)return x.error(g.PROMPT_H265_NOT_SUPPORT,i),void a(t,g.PROMPT_H265_NOT_SUPPORT)}if(!(o.length>0))return x.error(g.PROMPT_NO_SUPPORTED_VIDEO_FORMAT,i),void a(t,g.PROMPT_NO_SUPPORTED_VIDEO_FORMAT);n.playerOptions.dynamicMediaSource=o,n.playerOptions.poster=T["default"].generateVancePoster(r.url,o),l(o[0].name)}if(n.playerOptions.DRMKey&&(n.playerOptions.engineOrder=["flash"],n.playerOptions.protection=1,s(n.playerOptions)))return a(t,g.PROMPT_NO_AVAILABLE_FLASH),void x.error("you need to install flash to continue");n.fenixPlayer=new C["default"](t,n.playerOptions),c&&new E["default"](n.fenixPlayer,o[0].stat).vOpen(),h(n,m,!0,u)});break;default:if(s(this.playerOptions))return a(t,g.PROMPT_NO_AVAILABLE_FLASH),void x.error("you need to install flash to continue");this.fenixPlayer=new C["default"](t,this.playerOptions),h(this,m,!1,u)}}return e.prototype.ready=function(e){return this.isPlayerReady_?v["default"].isFunction(e)&&e.call(this):this.readyFnQueue_.push(e),this},e}();t["default"]=A,Object.setPrototypeOf(A,C["default"]),window.QiniuPlayer=A},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},i=arguments[4];return t?-1===s.indexOf(t)?void a.error("Unknown topic "+t+" specified, no request will be sent.."):void videojs.xhr.post(e+t,{useXDR:!0,headers:n,body:JSON.stringify(r)},function(e,n){return e?(a.error("error on posting "+t),a.error(e),i?i(e):e):i?i(null,n):n}):void a.error("No topic specified, no request will be sent.")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=(0,o.getLogger)(),s=["vopen","vinit","vstart","vplaying","vseek","vpause","vresume","vchange","vlag","vdownload","vclose","vend"],u={"X-TOKEN":"A94B881E5C7749A48231F9C0","X-Data-Version":"0.5"},l={"X-TOKEN":"A94B881E5C7749A48231F9C0","X-Data-Version":"0.3"},c=function(){function e(){r(this,e)}return e.reportOpen=function(e,t){a.debug("Reporting video player opening state"),i(e,"vopen",u,t)},e.reportInit=function(e,t){a.debug("Reporting video player initlize state"),i(e,"vinit",u,t)},e.reportJediInit=function(e,t){a.debug("Reporting jedi video player initlize state"),i(e,"vinit",l,t)},e.reportStart=function(e,t,n){a.debug("Reporting video player start state"),i(e,"vstart",u,t,n)},e.reportPlaying=function(e,t){a.debug("Reporting video playing state."),i(e,"vplaying",u,t)},e.reportJediPlaying=function(e,t){a.debug("Reporting jedi video player playing state"),i(e,"vplaying",l,t)},e.reportClose=function(e,t,n){a.debug("Reporting video player end playing state"),i(e,"vclose",u,t,n)},e.reportJediEnd=function(e,t,n){a.debug("Reporting jedi video player end playing event"),i(e,"vend",l,t,n)},e.reportSeek=function(e,t){a.debug("Reporting video seeking event."),i(e,"vseek",u,t)},e.reportPause=function(e,t){a.debug("Reporting player pause event."),i(e,"vpause",u,t)},e.reportResume=function(e,t){a.debug("Reporting player resume event."),i(e,"vresume",u,t)},e.reportChange=function(e,t){a.debug("Reporting player change stream event."),i(e,"vchange",u,t)},e.reportWaiting=function(e,t){a.debug("Reporting player waiting event."),i(e,"vlag",u,t)},e.reportDownload=function(){},e}();t["default"]=c},function(e,t,n){"use strict";var r=n(2);window.QiniuPlayerVersion="0.3.9",function(){r.MP4_CONTENT_TYPES.map(function(e){return videojs.getComponent("Flash").formats[e]="MP4"}),r.HLS_CONTENT_TYPES.map(function(e){return videojs.getComponent("Flash").formats[e]="HLS"}),videojs.addLanguage("zh-CN",{Play:"æ’­æ”¾","Play Video":"æ’­æ”¾è§†é¢‘",Pause:"æš‚åœ",Quality:"æ¸…æ™°åº¦","Current Time":"å½“å‰æ—¶é—´","Duration Time":"æ—¶é•¿","Remaining Time":"å‰©ä½™æ—¶é—´","Stream Type":"åª’ä½“æµç±»åž‹",LIVE:"ç›´æ’­",Loaded:"åŠ è½½å®Œæ¯•",Progress:"è¿›åº¦",Fullscreen:"å…¨å±","Non-Fullscreen":"é€€å‡ºå…¨å±",Mute:"é™éŸ³",Unmute:"å–æ¶ˆé™éŸ³","Playback Rate":"æ’­æ”¾ç çŽ‡",Subtitles:"å­—å¹•","subtitles off":"å­—å¹•å…³é—­",Captions:"å†…åµŒå­—å¹•","captions off":"å†…åµŒå­—å¹•å…³é—­",Chapters:"èŠ‚ç›®æ®µè½","You aborted the media playback":"è§†é¢‘æ’­æ”¾è¢«ç»ˆæ­¢","A network error caused the media download to fail part-way.":"ç½‘ç»œé”™è¯¯å¯¼è‡´è§†é¢‘ä¸‹è½½ä¸­é€”å¤±è´¥ã€‚","The media could not be loaded, either because the server or network failed or because the format is not supported.":"è§†é¢‘å› æ ¼å¼ä¸æ”¯æŒæˆ–è€…æœåŠ¡å™¨æˆ–ç½‘ç»œçš„é—®é¢˜æ— æ³•åŠ è½½ã€‚","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"ç”±äºŽè§†é¢‘æ–‡ä»¶æŸåæˆ–æ˜¯è¯¥è§†é¢‘ä½¿ç”¨äº†ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒçš„åŠŸèƒ½ï¼Œæ’­æ”¾ç»ˆæ­¢ã€‚","No compatible source was found for this media.":"æ— æ³•æ‰¾åˆ°æ­¤è§†é¢‘å…¼å®¹çš„æºã€‚","The media is encrypted and we do not have the keys to decrypt it.":"è§†é¢‘å·²åŠ å¯†ï¼Œæ— æ³•è§£å¯†ã€‚"})}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};e.hub=e.hub||"unknown",e.key=e.key||"unknown"}function o(){return(new Date).getTimezoneOffset()/60}function a(e){var t={};if(!e)return y.warn("empty stream tags."),t;var n=e.split(",");return n.length<3?(y.error("Invalid stream tag format."),t):(t.format=n[0],t.resolution=n[1],t.bit_rate=n[2],t)}function s(){return navigator.userAgent.toLowerCase().indexOf("micromessenger")>-1||"undefined"!=typeof navigator.wxuserAgent?"wechat":"host: "+(window.location!==window.parent.location?document.referrer:document.location.href)}function u(e){var t=0;if(!e||0===e.length)return t;for(var n=0,r=e.length;n<r;n+=1){var i=e[n];i.duration&&(t+=i.duration)}return t}function l(e){var t=0;if(!e||0===e.length)return t;for(var n=0,r=e.length;n<r;n+=1)t+=e[n];return t}function c(e){var t=0;return e?t=e.indexOf("q00010001")>=0?0:e.indexOf("q00010001")>=0?1:e.indexOf("q00010001")>=0?2:0:t}Object.defineProperty(t,"__esModule",{value:!0});var d=n(7),f=function(e){return e&&e.__esModule?e:{"default":e}}(d),p=n(1),h=n(4),y=(0,p.getLogger)(),g=h.JEDI_STATS_REPORT_END_POINT+"/v1/topic/",m=function(){function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},o=arguments[2];if(r(this,e),!t)throw new Error("No player instance provided.");i(n),this.statsOptions=n,this.videosContainer={},this.resetVideoStats(),this.isPaused=!1,this.isWaited=!1,this.uid=n.uid,this.vPlayer=t,this.now=Date.now(),this.startTime=Date.now(),this.hasSentEnd=!1,this.bindEventListeners(),o&&o.call(this)}return e.prototype.vInit=function(){y.debug("Reporting video player initlize state");var e=1e3*this.getNow()*1e3,t={when:e,client:this.getClientInfo(),resource:this.getResourceInfo()};f["default"].reportJediInit(g,t)},e.prototype.vPlaying=function(){y.debug("Reporting video playing state.");var e={client:this.getClientInfo(),resource:this.getResourceInfo(),errors:this.getPlayerErrors(),pauses:this.getPausesInfo(),drags:this.getDragInfo(),changes:this.getStreamChangeInfo()};f["default"].reportJediPlaying(g,e)},e.prototype.vEnd=function(){var e=this;y.debug("Reporting video player end playing state");var t=1e3*this.getNow()*1e3,n={when:t,client:this.getClientInfo(),resource:this.getResourceInfo(),duration_stay:this.getStayDuration(),duration_watch:this.getWatchDuration()};f["default"].reportJediEnd(g,n,function(){e.hasSentEnd=!0,e.resetVideoStats()})},e.prototype.resetVideoStats=function(){this.drags=this.drags||[],this.changes=this.changes||[],this.pauses=this.pauses||[],this.errors=this.errors||[],this.waits=this.waits||[],this.lastStreamInfo=null,this.lastWait=null},e.prototype.isVideoAds=function(){if(!this.vPlayer.videoOptions||!this.vPlayer.videoOptions.videoAds)return!1;for(var e=this.vPlayer.videoOptions.videoAds,t=this.vPlayer.currentSrc(),n=0,r=e.length;n<r;n+=1)if(e[n].video_url===t)return!0;return!1},e.prototype.bindEventListeners=function(){var e=this;this.vPlayer&&(this.vPlayer.on("loadeddata",function(){e.isVideoAds()||(e.lastStreamInfo=e.getStreamInfo())}),this.vPlayer.on("play",function(){if(!e.isVideoAds()&&0!==e.pauses.length&&e.isPaused){e.isPaused=!1;var t=e.pauses[e.pauses.length-1],n=e.getNow();t.duration=n-t.when}}),this.vPlayer.on("pause",function(){e.isVideoAds()||(e.isPaused=!0,e.pauses.push({when:e.getNow(),offset:e.vPlayer.currentTime(),duration:undefined}))}),this.vPlayer.on("resolutionchange",function(){e.isVideoAds()||e.changes.push({when:e.getNow(),offset:e.vPlayer.currentTime(),from_stream:e.lastStreamInfo,to_stream:e.getStreamInfo()})}),this.vPlayer.on("seeking",function(){e.isVideoAds()||e.drags.push({when:e.getNow(),offset_start:e.vPlayer.currentTime(),offset_end:undefined,drag_wait:undefined})}),this.vPlayer.on("seeked",function(){if(!e.isVideoAds()&&0!==e.drags.length){var t=e.drags[e.drags.length-1];t.offset_end=e.vPlayer.currentTime(),t.drag_wait=e.getNow()-t.when}}),this.vPlayer.on("waiting",function(){e.isVideoAds()||(e.isWaited=!0,e.lastWait=e.getNow())}),this.vPlayer.on("progress",function(){if(!e.isVideoAds()&&e.isWaited){var t=e.getNow();e.waits.push(t-e.lastWait),e.isWaited=!1}}),this.vPlayer.on("error",function(){e.isVideoAds()||e.errors.push(e.vPlayer.error())}),this.vPlayer.on("ended",function(){e.isVideoAds()||e.vEnd()}),this.vPlayer.on("dispose",function(){e.isVideoAds()||e.vEnd()}),window.onbeforeunload=function(){e.isVideoAds()||e.vEnd()})},e.prototype.getStreamInfo=function(){var e={format:"",resolution:"",bit_rate:"",width:this.vPlayer.videoWidth(),height:this.vPlayer.videoHeight()},t=this.vPlayer.currentResolution().sources,n=this.vPlayer.currentSrc(),r=t.filter(function(e){return e.src===n});if(0===r.length)return y.debug("no stream found @ getStreamInfo()"),e;var i=r[0].tags;if(!i)return e;if(0===i.length)return e;if(1===i.length){var o=a(i[0]);return e.format=o.format,e.resolution=o.resolution,e.bit_rate=o.bit_rate,e}if(3===i.length){var s=void 0;try{var u=this.vPlayer.autoHlsCurrentSrc();s=c(u)}catch(c){y.error("cannot get auto HLS current stream."),s=0}var l=a(i[s]);return e.format=l.format,e.resolution=l.resolution,e.bit_rate=l.bit_rate,e}y.warn("Invalid media stream tags: ",JSON.stringify(i))},e.prototype.getNow=function(){return Date.now()},e.prototype.getStayDuration=function(){return this.getNow()-this.now},e.prototype.getWatchDuration=function(){return this.getStayDuration()-u(this.pauses)-l(this.waits)-this.startTime+this.now},e.prototype.getPlayerErrors=function(){return this.errors},e.prototype.getPausesInfo=function(){return this.pauses},e.prototype.getDragInfo=function(){return this.drags},e.prototype.getClientInfo=function(){return{zone:o(),ip:"",ua:window.navigator.userAgent,player:{family:this.vPlayer.engine(),version:this.vPlayer.version},refer:s()}},e.prototype.getResourceInfo=function(){return{hub:this.statsOptions.hub,key:this.statsOptions.key,domain:this.getVideoDomain(),duration:Math.round(1e3*this.vPlayer.duration()),owner:String(this.uid)}},e.prototype.getVideoDomain=function(){var e=this.vPlayer.currentSrc();return function(e){if(e){var t=document.createElement("a");return t.href=e,t.host}}(e)},e}();t["default"]=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){return(new Date).getTimezoneOffset()/60}function a(e){var t=d["default"].parseUserAgent();switch(e){case"device":return{family:t.device.type,version:t.device.model};case"os":return{family:t.os.name,version:t.os.version};case"app":return{family:t.browser.name,version:t.browser.version};default:return{}}}function s(){return navigator.userAgent.toLowerCase().indexOf("micromessenger")>-1||"undefined"!=typeof navigator.wxuserAgent?"wechat":"host: "+(window.location!==window.parent.location?document.referrer:document.location.href)}function u(e){var t=0;if(!e||0===e.length)return t;for(var n=0,r=e.length;n<r;n+=1){var i=e[n];i.duration&&(t+=i.duration)}return t}function l(e){var t=0;if(0===e.length)return t;for(var n=0,r=e.length;n<r;n+=1)t+=e[n].wait||0;return t}Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),d=r(c),f=n(7),p=r(f),h=n(4),y=h.VANCE_STATS_REPORT_END_POINT+"/v2/event/",g=function(){function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=arguments[2];if(i(this,e),!t)throw new Error("No player instance provided.");this.prevStreamInfo=this.currentStreamInfo=n,this.videosContainer={},this.resetVideoStats(),this.isPaused=!1,this.isWaiting=!1,this.vPlayer=t,this.now=Date.now(),this.startTime=Date.now(),this.hasSentEnd=!1,this.hasSentStart=!1,this.bindEventListeners(),r&&r.call(this)}return e.prototype.vOpen=function(){var e={session:this.vPlayer.getGUID(),when:this.getNow(),client:this.getClientInfo(),resource:this.getCurrentResourceInfo(),error:this.getPlayerErrors()};p["default"].reportOpen(y,e)},e.prototype.vInit=function(){var e={session:this.vPlayer.getGUID(),when:this.getNow(),client:this.getClientInfo(),resource:this.getCurrentResourceInfo()};p["default"].reportInit(y,e)},e.prototype.vStart=function(){var e=this;if(!this.hasSentStart){var t=this.getNow();this.startTime=t;var n={session:this.vPlayer.getGUID(),when:t,client:this.getClientInfo(),resource:this.getCurrentResourceInfo()};p["default"].reportStart(y,n,function(){e.hasSentStart=!0})}},e.prototype.vPlaying=function(){var e={session:this.vPlayer.getGUID(),client:this.getClientInfo(),resource:this.getCurrentResourceInfo(),errors:this.getPlayerErrors(),pauses:this.getPausesInfo(),drags:this.getDragInfo(),changes:this.getStreamChangeInfo()};p["default"].reportPlaying(y,e)},e.prototype.vClose=function(){var e=this;if(!this.hasSentEnd){var t={session:this.vPlayer.getGUID(),when:this.getNow(),client:this.getClientInfo(),resource:this.getCurrentResourceInfo(),duration_stay:this.getStayDuration(),duration_watch:this.getWatchDuration(),offset:this.playerCurrentTimeInMS()};p["default"].reportClose(y,t,function(){e.hasSentEnd=!0,e.resetVideoStats()})}},e.prototype.vSeek=function(){var e=this.drags[this.drags.length-1]||{when:this.getNow(),offset_end:this.playerCurrentTimeInMS(),wait:0},t={session:this.vPlayer.getGUID(),when:this.getNow(),client:this.getClientInfo(),resource:this.getCurrentResourceInfo(),error:this.getPlayerErrors(),offset_start:e.offset_start,offset_end:e.offset_end,wait:e.wait||0};p["default"].reportSeek(y,t)},e.prototype.vPause=function(){var e={session:this.vPlayer.getGUID(),when:this.getNow(),client:this.getClientInfo(),resource:this.getCurrentResourceInfo(),error:this.getPlayerErrors(),offset:this.playerCurrentTimeInMS()};p["default"].reportPause(y,e)},e.prototype.vResume=function(){var e={session:this.vPlayer.getGUID(),when:this.getNow(),client:this.getClientInfo(),resource:this.getCurrentResourceInfo(),error:this.getPlayerErrors(),offset:this.playerCurrentTimeInMS(),duration:this.getLastPauseDuration(),wait:0};p["default"].reportResume(y,e)},e.prototype.vChange=function(){var e={session:this.vPlayer.getGUID(),when:this.getNow(),client:this.getClientInfo(),error:this.getPlayerErrors(),offset:this.playerCurrentTimeInMS(),resource_from:this.getPrevResourceInfo(),resource_to:this.getCurrentResourceInfo(),adapt:this.isAdapt()?1:0,wait:0};p["default"].reportChange(y,e)},e.prototype.getPrevResourceInfo=function(){return this.prevStreamInfo},e.prototype.getCurrentResourceInfo=function(){return this.currentStreamInfo},e.prototype.isAdapt=function(){var e=this.getCurrentResourceInfo();return!!e&&e.isAdapt},e.prototype.vWaiting=function(){var e={session:this.vPlayer.getGUID(),when:this.getNow(),client:this.getClientInfo(),resource:this.getCurrentResourceInfo(),error:this.getPlayerErrors(),offset:this.playerCurrentTimeInMS(),wait:this.getLastWaitDuration()};p["default"].reportWaiting(y,e)},e.prototype.vDownload=function(){},e.prototype.resetVideoStats=function(){this.drags=this.drags||[],this.changes=this.changes||[],this.pauses=this.pauses||[],this.errors=this.errors||[],this.waits=this.waits||[],this.lastWait=null},e.prototype.isVideoAds=function(){if(!this.vPlayer.videoOptions||!this.vPlayer.videoOptions.videoAds)return!1;for(var e=this.vPlayer.videoOptions.videoAds,t=this.vPlayer.currentSrc(),n=0,r=e.length;n<r;n+=1)if(e[n].video_url===t)return!0;return!1},e.prototype.bindEventListeners=function(){var e=this;this.vPlayer&&(this.vPlayer.on("loadeddata",function(){e.isVideoAds()||e.vStart()}),this.vPlayer.on("loadedmetadata",function(){e.updateStreamInfo()}),this.vPlayer.on("play",function(){if(!e.isVideoAds()&&0!==e.pauses.length&&e.isPaused){var t=e.pauses[e.pauses.length-1],n=e.getNow();t.duration=n-t.when,e.isPaused&&(e.vResume(),e.isPaused=!1)}}),this.vPlayer.on("pause",function(){e.isVideoAds()||(e.isPaused=!0,e.pauses.push({when:e.getNow(),offset:e.playerCurrentTimeInMS(),duration:undefined}),e.vPause())}),this.vPlayer.on("seeking",function(){e.isVideoAds()||e.drags.push({when:e.getNow(),offset_start:e.playerCurrentTimeInMS(),offset_end:undefined,drag_wait:undefined})}),this.vPlayer.on("seeked",function(){if(!e.isVideoAds()&&0!==e.drags.length){var t=e.drags[e.drags.length-1];t.offset_end=e.playerCurrentTimeInMS(),t.drag_wait=e.getNow()-t.when,e.vSeek()}}),this.vPlayer.on("waiting",function(){e.isVideoAds()||(e.isWaiting=!0,e.lastWait=e.getNow(),e.waits.push({when:e.getNow(),offset:e.playerCurrentTimeInMS(),wait:undefined,end:undefined}))}),this.vPlayer.on("play",function(){if(!e.isVideoAds()&&e.isWaiting&&0!==e.waits.length){var t=e.waits[e.waits.length-1],n=e.getNow();t.wait=n-t.when,t.end=n,e.isWaiting&&(e.vWaiting(),e.isWaiting=!1)}}),this.vPlayer.on("error",function(){e.isVideoAds()||e.errors.push(e.vPlayer.error())}),this.vPlayer.on("ended",function(){e.isVideoAds()||e.vClose()}),this.vPlayer.on("dispose",function(){e.isVideoAds()||e.vClose()}),this.vPlayer.on("resolutionchange",function(){e.updateStreamInfo(),e.vChange()}),this.vPlayer.on("mediachange",function(){e.updateStreamInfo(),e.vChange()}),window.onload=function(){e.vOpen()},window.onbeforeunload=function(){e.isVideoAds()||e.vClose()})},e.prototype.updateStreamInfo=function(){var e=this.vPlayer.currentStats();this.prevStreamInfo=this.currentStreamInfo,this.currentStreamInfo=e},e.prototype.getLastWaitDuration=function(){if(0!==this.waits.length)return this.waits[this.waits.length-1].wait},e.prototype.getLastPauseDuration=function(){return!this.pauses||this.pauses.length<=0?0:this.pauses[this.pauses.length-1].duration},e.prototype.playerCurrentTimeInMS=function(){return Math.round(1e3*this.vPlayer.currentTime())},e.prototype.getNow=function(){return Date.now()},e.prototype.getStayDuration=function(){return this.getNow()-this.now},e.prototype.getWatchDuration=function(){return this.getStayDuration()-u(this.pauses)-l(this.waits)-this.startTime+this.now},e.prototype.getPlayerErrors=function(){var e=this.errors;if(e){if(d["default"].isPlainObject(e))return e;if(d["default"].isString(e))return{message:e}}return{}},e.prototype.getPausesInfo=function(){return this.pauses},e.prototype.getDragInfo=function(){return this.drags},e.prototype.getClientInfo=function(){return{zone:o(),ip:"",device:a("device"),os:a("os"),app:a("app"),player:{family:this.vPlayer.engine(),version:this.vPlayer.version||window.QiniuPlayerVersion},refer:s()}},e.prototype.getVideoDomain=function(){var e=this.vPlayer.currentSrc();return function(e){if(e){var t=document.createElement("a");return t.href=e,t.host}}(e)},e}();t["default"]=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),a=n(2),s=n(1),u=void 0;u=n(4);var l={name:"Qiniu 7th anniversary",tags:"tags",desc:"desc1",size:123,ctime:1472020825101,mtime:1472020825101,status:"normal",avinfo:{duration:"10.10.10",format:"mp4",video:{bitrate:12345,width:123,height:456,framerate:1500,codec:"h264"},audio:{bitrate:1234,quality:321,samplingrate:123,codec:"aac"}},transcoding:[{id:"transconf1",transset_name:"MP4",transconf_name:"è¶…æ¸…",url:u.DEFAULT_VIDEOS_HOST_SITE+"/qiniu-cloud-default-1280x720.mp4",format:"mp4",status:"normal"},{id:"transconf2",transset_name:"HLS",transconf_name:"è¶…æ¸…",url:u.DEFAULT_VIDEOS_HOST_SITE+"/qiniu-cloud-default-1280x720.m3u8",format:"hls",status:"normal"},{id:"transconf3",transset_name:"MP4",transconf_name:"é«˜æ¸…",url:u.DEFAULT_VIDEOS_HOST_SITE+"/qiniu-cloud-default-720x480.mp4",format:"mp4",status:"normal"},{id:"transconf4",transset_name:"HLS",transconf_name:"é«˜æ¸…",url:u.DEFAULT_VIDEOS_HOST_SITE+"/qiniu-cloud-default-720x480.m3u8",format:"hls",status:"normal"},{id:"transconf5",transset_name:"MP4",transconf_name:"æ ‡æ¸…",url:u.DEFAULT_VIDEOS_HOST_SITE+"/qiniu-cloud-default-480x320.mp4",format:"mp4",status:"normal"},{id:"transconf6",transset_name:"HLS",transconf_name:"æ ‡æ¸…",url:u.DEFAULT_VIDEOS_HOST_SITE+"/qiniu-cloud-default-480x320.m3u8",format:"hls",status:"normal"}],thumbnails:{urls:"http://assets.qiniu.com/v2/qiniu-620x205.png",active:0}},c=(0,s.getLogger)(),d=function(){function e(){r(this,e)}return e.fetchVanceVideoInfo=function(e,t){var n=videojs.xhr,r=!1,i=void 0,s=function(e){var n=e.contentType;if(!n&&e.getAllResponseHeaders&&(n=o["default"].parseHTTPHeaders(e.getAllResponseHeaders())["content-type"],n=(n||"").split(/;|\s/)[0]),n){var s=!n||o["default"].isContentTypeMatch(n,"application/json"),u=!n||o["default"].isHlsContentType(n),l=!n||o["default"].isMp4ContentType(n);if(s)i();else if(!r){if(r=!0,e.abort(),e=null,u||l)return t(null,{type:u?"hls":"mp4"});var c=new Error("cancel request, not video info");return c.code=a.ERROR_NOT_VINFO,t(c,null)}}};n({method:"GET",uri:e,useXDR:!0,json:!0,beforeSend:function(e){8===videojs.browser.IE_VERSION||9===videojs.browser.IE_VERSION?(i=e.onprogress,e.onprogress=function(){s(e)}):(i=e.onreadystatechange,e.onreadystatechange=function(){s(e)})}},function(e,n){if(!r)return e?t(e,null):t(null,"string"==typeof n.body?JSON.parse(n.body):n.body,n)})},e.buildVanceVideoSource=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.transcoding||{},n=Object.keys(t).map(function(e){return t[e]}),r=n.filter(function(e){var t=(e.format||"").toLowerCase();return"libx264"===(e.preset.sets[0].video_codec||"").toLowerCase()&&"hls"===t}),i=!1,o=[];if(r.map(function(e){return i=i||e.preset.sets.length>1}),i)o=r.filter(function(e){return e.preset.sets.length>1}),o.splice(1);else if(o=r.concat(n.filter(function(e){var t=(e.format||"").toLowerCase();return"libx264"===(e.preset.sets[0].video_codec||"").toLowerCase()&&"mp4"===t&&1===e.preset.sets.length})),0===o.length){var s=!1;if(n.map(function(e){var t=(e.format||"").toLowerCase(),n=(e.preset.sets[0].video_codec||"").toLowerCase();s=s||"libx265"===n&&("mp4"===t||"hls"===t)}),s){var u=new Error("h.265 not support yet");throw u.code=a.ERROR_H265_NOT_SUPPORT,u}}return o.map(function(e){var t=e.url.split("?")[0],n={src:e.url,type:"mp4"===e.format?"video/mp4":"application/x-mpegURL",label:"è‡ªåŠ¨",name:e.key,poster:t+"?vframe/jpg/offset/5"},r=function(e,t){var n=t.stream_id,r=(t.resolution||"").toLowerCase(),o=parseInt(r.split("x")[0]||"0"),a=parseInt(r.split("x")[1]||"0");if(!(n=!n&&a>0?a+"p":n)){var s=parseInt(t.video_bit_rate);n=s<7e5?"æµç•…":s<15e5?"æ ‡æ¸…":s<3e6?"é«˜æ¸…":s<1e7?"è¶…æ¸…":s>=1e7?"4K":e.preset.title||""}return{id:t.stream_id||t.name,format:e.format,label:n,video:{codec:t.video_codec,frame_rate:parseInt(t.frame_rate||"0"),bit_rate:parseInt(t.video_bit_rate||"0"),width:o,height:a},audio:{codec:t.audio_codec},isAdapt:i}};return e.preset.sets.length>1?(n.channels=e.preset.sets.map(function(t){return r(e,t)}).sort(function(e,t){return e.video.bit_rate-t.video.bit_rate}),n.stat=n.channels[0],n.res=Number.MAX_SAFE_INTEGER):(n.stat=r(e,e.preset.sets[0]),n.res=n.stat.video.bit_rate),n}).sort(function(e,t){return parseInt(e.res||"0")-parseInt(t.res||"0")}).sort(function(e,t){return{"video/mp4":0,"application/x-mpegURL":1}[e.type]-{"video/mp4":0,"application/x-mpegURL":1}[t.type]})},e.generateVancePoster=function(e,t){return t.length?t[0].poster:e+"?vframe/jpg/offset/5"},e.fetchVideoInfo=function(e,t,n,r,i){if(n)return i(null,l);var o=r?"":"?include_player=true",a=u.VIDEOS_REQUEST_END_POINT+"/v1/hubs/"+e+"/videos/"+t+o;videojs.xhr.get(a,{useXDR:!0},function(e,t){return e?(c.error(e),i(e)):"string"==typeof t.body?i(null,JSON.parse(t.body)):i(null,t.body)})},e.sortByFormat=function(e){if(!e)return void c.debug("No input array, return.");e.sort(function(e,t){var n=e.format.toLowerCase(),r=t.format.toLowerCase();return n<r?-1:n>r?1:0}),c.debug(e)},e.generateResForOrder=function(e){if(!e)return void c.debug("no label provided to generate res, return.");switch(e){case"è‡ªåŠ¨":return 4e3;case"è¶…é«˜æ¸…":case"è¶…æ¸…":return 1080;case"é«˜æ¸…":return 720;case"æ ‡æ¸…":return 480;case"æ‰‹æœº":case"æµç•…":return 320;default:return c.error("Unknown resolution: "+e),0}},e.buildVideoSource=function(t){var n=[],r=t.transcoding;c.debug("Parsing video transconfig...");for(var i={},o=0,a=r.length;o<a;o+=1){var s=i[r[o].transconf_name];s?(s.push(r[o]),c.debug("sorting videos array..."),e.sortByFormat(s)):i[r[o].transconf_name]=[r[o]]}for(var u in i)for(var l=0,d=i[u].length;l<d;l+=1)if(!i[u][l]||"failed"!==i[u][l].status){var f={type:"mp4"===i[u][l].format.toLowerCase()?"video/mp4":"application/x-mpegURL",src:i[u][l].url,label:i[u][l].transconf_name,res:e.generateResForOrder(i[u][l].transconf_name),tags:i[u][l].stream_tags};n.push(f)}return c.debug("result of video sources array:"),c.debug(n),n},e.generateVideoPoster=function(e,t){if(t)return"https://player.qiniucc.com/qiniu-620x205.png";var n="",r=e.thumbnails;return r&&r.urls&&(n=r.urls[0]),n||""},e}();t["default"]=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ALL_DELTAS=undefined;var i=n(0),o=function(e){return e&&e.__esModule?e:{"default":e}}(i),a=n(1),s=(0,a.getLogger)(),u={linear:function(e){return e},quadrantic:function(e){return Math.pow(e,2)},circle:function(e){return 1-Math.sin(Math.acos(e))},bounce:function(e){for(var t=0,n=1;1;t+=n,n/=2)if(e>=(7-4*t)/11)return-Math.pow((11-6*t-11*e)/4,2)+Math.pow(n,2)},elastic:function(e,t){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)},easeIn:function(e,t){return t(1*e)/1},easeOut:function(e,t){return 1-t(1-e)},easeInOut:function(e,t){return e<.5?t(2*e)/2:(2-t(2*(1-e)))/2}},l=t.ALL_DELTAS=Object.keys(u),c=function(){function e(){r(this,e)}return e.deltaFunc=function(e){return e?l.includes(e)?u[e]:(s.warn("Invalid type "+e+", return linear as default."),u.linear):u.linear},e.moveRight=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:u.linear;return e.animateForTimes({delay:10,duration:1e3*i.duration,delta:o,setup:function(){t.style.display="block",t.style.top=r+"px"},teardown:function(){t.style.display="none"},step:function(e){t.style.left=n*e+"px"}},i)},e.moveLeft=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:u.linear;e.animateForTimes({delay:10,duration:1e3*i.duration,delta:o,setup:function(){t.style.display="block",t.style.top=r+"px"},teardown:function(){t.style.display="none"},step:function(e){t.style.right=n*e+"px"}},i)},e.moveDown=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:u.linear;e.animateForTimes({delay:10,duration:1e3*i.duration,delta:o,setup:function(){t.style.display="block",t.style.left=n+"px"},teardown:function(){t.style.display="none"},step:function(e){t.style.top=r*e+"px"}},i)},e.moveUp=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:u.linear;e.animateForTimes({delay:10,duration:1e3*i.duration,delta:o,setup:function(){t.style.left=n+"px",t.style.display="block"},teardown:function(){t.style.display="none"},step:function(e){t.style.bottom=r*e+"px"}},i)},e.moveUpLeft=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:u.linear;e.animateForTimes({delay:10,duration:1e3*i.duration,delta:o,setup:function(){t.style.display="block"},teardown:function(){t.style.display="none"},step:function(e){t.style.right=n*e+"px",t.style.bottom=r*e+"px"}},i)},e.moveUpRight=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:u.linear;e.animateForTimes({delay:10,duration:1e3*i.duration,delta:o,setup:function(){t.style.display="block"},teardown:function(){t.style.display="none"},step:function(e){t.style.left=n*e+"px",t.style.bottom=r*e+"px"}},i)},e.moveDownLeft=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:u.linear;e.animateForTimes({delay:10,duration:1e3*i.duration,delta:o,setup:function(){t.style.display="block"},teardown:function(){t.style.display="none"},step:function(e){t.style.right=n*e+"px",t.style.top=r*e+"px"}},i)},e.moveDownRight=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:u.linear;e.animateForTimes({delay:10,duration:1e3*i.duration,delta:o,setup:function(){t.style.display="block"},teardown:function(){t.style.display="none"},step:function(e){t.style.left=n*e+"px",t.style.top=r*e+"px"}},i)},e.animateForTimes=function(t,n){var r=void 0;return r=-1===n.loop?setInterval(function(){e.animate(t)},1e3*n.duration*2):setInterval(function(){n.loop-=1,n.loop<=0&&setTimeout(function(){clearInterval(r)},0),e.animate(t)},1e3*n.duration*2)},e.animate=function(e){var t=Date.now();o["default"].isFunction(e.setup)&&e.setup();var n=setInterval(function(){var r=Date.now()-t,i=r/e.duration;i>1&&(i=1);var a=e.delta(i);e.step(a),1==i&&(clearInterval(n),o["default"].isFunction(e.teardown)&&e.teardown())},e.delay||10)},e}();t["default"]=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){r(this,e)}return e.eventAvailable=function(e){return!!e},e.normalizeEvent=function(e){return e?String(e).trim().toLowerCase():""},e}();t["default"]=i},,function(e,t,n){"use strict";function r(e){if(l)return void 0===e?parseFloat(localStorage.getItem("p_v")||"1"):void localStorage.setItem("p_v",e)}function i(e){if(l)return void 0===e?!!parseInt(localStorage.getItem("p_muted")||"0"):void localStorage.setItem("p_muted",e?1:0)}function o(e){e.volume(r()),e.mute(i()),e.on("volumechange",function(){return r(e.volume())}),e.on("volumechange",function(){return i(e.isMuted())})}Object.defineProperty(t,"__esModule",{value:!0}),t.setupPlaybackRestore=o;var a=n(0),s=function(e){return e&&e.__esModule?e:{"default":e}}(a),u=n(2),l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t["default"]=e}(u),s["default"].checkSupportLocalStorage())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){this.player=e,this.ctx=null,this.canvas=null,this.iconImage=null,this.mode="normal",s["default"].detectIE()&&s["default"].detectIE()<9&&(this.mode="ie8")}function o(e,t,n){if(!e.waitingForConnection){e.waitingForConnection=!0;var r=e.currentTime()||n||0,i=e.options_.dynamicMediaSource,o=e.options_.file,a=e.options_.type,s=e.currentResolution().label,u=setInterval(function(){e.loadingSpinner.show(),t.destory(),i?e.error(null).pause().updateSrc(i).currentResolution(s).load().currentTime(r).play():e.error(null).pause().src({src:o,type:a}).load().currentTime(r).play()},5e3);e.one("playing",function(){clearInterval(u),e.waitingForConnection=!1})}}var a=n(0),s=r(a),u=n(3),l=r(u),c={note:"æŠ±æ­‰ï¼ŒåŠ è½½è§†é¢‘å¤±è´¥"};i.prototype.init=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.options=videojs.mergeOptions(c,e),this.iconImage=new Image,this.iconImage.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB3aWR0aD0iMjJweCIgaGVpZ2h0PSIyMnB4IiB2aWV3Qm94PSIwIDAgMjIgMjIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgIDxwYXRoIGZpbGw9IiNGRkI0M0YiIGQ9Ik0xMC4yODU3MTQzLDAgQzQuNjI4NTcxNDMsMCAwLDQuNjI4NTcxNDMgMCwxMC4yODU3MTQzIEMwLDE1Ljk0Mjg1NzEgNC42Mjg1NzE0MywyMC41NzE0Mjg2IDEwLjI4NTcxNDMsMjAuNTcxNDI4NiBDMTUuOTQyODU3MSwyMC41NzE0Mjg2IDIwLjU3MTQyODYsMTUuOTQyODU3MSAyMC41NzE0Mjg2LDEwLjI4NTcxNDMgQzIwLjU3MTQyODYsNC42Mjg1NzE0MyAxNS45NDI4NTcxLDAgMTAuMjg1NzE0MywwIEwxMC4yODU3MTQzLDAgWiBNMTEuMzE0Mjg1NywxNS40Mjg1NzE0IEw5LjI1NzE0Mjg2LDE1LjQyODU3MTQgTDkuMjU3MTQyODYsMTMuMzcxNDI4NiBMMTEuMzE0Mjg1NywxMy4zNzE0Mjg2IEwxMS4zMTQyODU3LDE1LjQyODU3MTQgTDExLjMxNDI4NTcsMTUuNDI4NTcxNCBaIE0xMS4zMTQyODU3LDExLjMxNDI4NTcgTDkuMjU3MTQyODYsMTEuMzE0Mjg1NyBMOS4yNTcxNDI4Niw1LjE0Mjg1NzE0IEwxMS4zMTQyODU3LDUuMTQyODU3MTQgTDExLjMxNDI4NTcsMTEuMzE0Mjg1NyBMMTEuMzE0Mjg1NywxMS4zMTQyODU3IFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwLjI4NTcxNCwgMTAuMjg1NzE0KSBzY2FsZSgxLCAtMSkgdHJhbnNsYXRlKC0xMC4yODU3MTQsIC0xMC4yODU3MTQpICI+PC9wYXRoPjwvc3ZnPg==","ie8"===this.mode?this.initOnIe8():this.initNormally()},i.prototype.initOnIe8=function(){this.canvas=l["default"].createElement("div",{"class":"vjs-error-mask-ie8"},this.player.el()),l["default"].createElement("div",{"class":"vjs-error-note-ie8"},this.canvas).innerHTML="<i class='vjs-error-note-icon'>&nbsp;</i>"+this.options.note,this.resize()},i.prototype.initNormally=function(){this.canvas=l["default"].createElement("canvas",{},this.player.el()),this.ctx=this.canvas.getContext("2d"),this.drawTimer=null,this.resize()},i.prototype.redraw=function(){if(this.ctx&&this.ctx.canvas){var e=this.ctx.canvas.width,t=this.ctx.canvas.height,n=this.ctx.createImageData(e,t),r=n.data,i=e*t,o=0,a=0,s=0;for(this.ctx.clearRect(0,0,e,t);o<i;o++)s=4*o,a=Math.floor(2*Math.random())&&Math.round(63*Math.random()),r[s]=r[s+1]=r[s+2]=a,r[s+3]=255;this.ctx.putImageData(n,0,0),this.ctx.textAlign="center",this.ctx.font="18px Arial",this.ctx.fillStyle="#ffffff";var u=this.ctx.measureText(this.options.note).width;this.ctx.fillText(this.options.note,(e+11)/2,.45*t),this.ctx.drawImage(this.iconImage,(e-u)/2-24,.45*t-17)}},i.prototype.drawCanvas=function(){var e=function(){};this.drawTimer=setInterval(function(){this.redraw(),requestAnimationFrame(e)}.bind(this),100)},i.prototype.clearDrawing=function(){clearInterval(this.drawTimer)},i.prototype.resize=function(){var e=this.player.el(),t=function(e){return parseInt((e+"").split("px")[0])};this.canvas&&window.getComputedStyle&&(this.canvas.setAttribute("width",t(window.getComputedStyle(e).width)),this.canvas.setAttribute("height",t(window.getComputedStyle(e).height)))},i.prototype.show=function(){"ie8"===this.mode?this.showOnIE8():this.showNormally()},i.prototype.showOnIE8=function(){this.player.addClass("vjs-error-ie8"),this.display()},i.prototype.showNormally=function(){this.drawTimer&&clearInterval(this.drawTimer),this.display(),this.drawCanvas()},i.prototype.display=function(){this.canvas&&(this.canvas.style.display="block")},i.prototype.destory=function(){this.drawTimer&&clearInterval(this.drawTimer),this.canvas&&this.player.el().removeChild(this.canvas),this.canvas=null,this.ctx=null,this.drawTimer=null};var d=function(){var e=this,t=new i(e),n=0;e.on("ready",function(){t.init()}),e.on("timeupdate",function(){n=e.currentTime()||n}),e.on("error",function(){function r(){e.loadingSpinner.hide(),e.controls(!1),e.isFullscreen()?(e.exitFullscreen(),e.one("fullscreenchange",function(){t.show()})):t.show()}var i=e.error();2===i.code?o(e,t,n):4===i.code&&videojs.browser.IS_ANDROID?o(e,t,n):e.paused()?r():(e.pause(),e.one("pause",function(){r()}))}),s["default"].on(window,"resize",function(){t.resize()}),e.on("dispose",function(){t.destory()})};videojs.plugin("errorMask",d)},function(e,t,n){"use strict";var r=n(3),i=function(e){return e&&e.__esModule?e:{"default":e}}(r),o={startAds:[],pauseAds:[],endAds:[],maxHeight:"100%",maxWidth:"50%",width:undefined},a={normalizeAdsOptions:function(e){var t={};return"[object Array]"!==Object.prototype.toString.call(e)?(t.startAds=[],t.pauseAds=[],t.endAds=[],t):(e=e||[],t.startAds=e.filter(function(e){return"string"==typeof e.position&&"op"===e.position.replace(/^\s*|\s*$/g,"").toLowerCase()}),t.pauseAds=e.filter(function(e){return"string"==typeof e.position&&"pause"===e.position.replace(/^\s*|\s*$/g,"").toLowerCase()}),t.endAds=e.filter(function(e){return"string"==typeof e.position&&"ed"===e.position.replace(/^\s*|\s*$/g,"").toLowerCase()}),t)},validateWidthOrHeight:function(e){var t=/^\d+(\.\d+){0,1}(%|rem|em|ex|px|pt|pc|in|cm|mm)$/g;return!("string"!=typeof e||!t.test(e))}},s=function(e){var t=this,n=a.normalizeAdsOptions(e),r=videojs.mergeOptions(o,n),s=!1,u=!1,l=null,c=null;r.width=a.validateWidthOrHeight(r.width)?r.width:o.width,r.maxHeight=a.validateWidthOrHeight(r.maxHeight)?r.maxHeight:o.maxHeight,r.maxWidth=a.validateWidthOrHeight(r.maxWidth)?r.maxWidth:o.maxWidth;var d={disablePauseAd:function(e){var e=void 0===e?876e5:e||0;s=!0,setTimeout(function(){s=!1},e)},isPauseAdDisabled:function(){return s},initImage:function(){if(!u){Array.prototype.concat(r.startAds,r.pauseAds,r.endAds).map(function(e){(new Image).src=e.image_url});var e,n,o;c=i["default"].createElement("a",{id:"vjs-image-overlay-holder",href:"javascript: void(0);"},t.el()),e=i["default"].createElement("div",{},c),n=i["default"].createElement("div",{textContent:"å¹¿å‘Š"},e),o=i["default"].createElement("div",{id:"vjs-image-overlay-close-button"},e),l=i["default"].createElement("img",{},e),i["default"].addClass(c,"vjs-hidden"),c.style.width=r.width,c.style.maxWidth=r.maxWidth,c.style.maxHeight=r.maxHeight,i["default"].addClass(n,"video-image-ad-note"),i["default"].addClass(o,"vjs-close-button"),i["default"].addClass(o,"video-image-overlay-close-button"),o.onclick=d.hideImage,u=!0,r.startAds.length&&d.showImage("start")}},showImage:function(e){if(u&&/^(start|pause|end)$/.test(e)){var n=Math.floor(Math.random()*r[e+"Ads"].length);if(i["default"].hasClass(c,"vjs-hidden")||l.src!==r[e+"Ads"][n].image_url){l.src=r[e+"Ads"][n].image_url,l.onclick=d.openAdLink.bind(null,r[e+"Ads"][n].url);var o=new Image;o.src=l.src,o.onload=function(e){t.paused()&&l.src===o.src&&(c.style.width=r.width||o.width+"px",i["default"].removeClass(c,"vjs-hidden"))}}}},hideImage:function(){c&&c.style&&i["default"].addClass(c,"vjs-hidden")},openAdLink:function(e){/^http:\/\/|https:\/\/|\/\//g.test(e)?window.open(e):e.replace(/^\s*|\s*$/g,"")&&window.open("//"+e.replace(/^\s*|\s$/g,""))}};t.one(["loadeddata","loadedmetadata"],d.initImage),t.on("play",d.hideImage),t.on("pause",function(){setTimeout(function(){0!==t.currentTime()&&t.currentTime()!==t.duration()&&0!==r.pauseAds.length&&t.paused()&&(t.hasClass("vjs-ended")||t.scrubbing_||d.isPauseAdDisabled()||d.showImage("pause"))},1)}),t.on("ended",function(){setTimeout(function(){r.endAds.length&&d.showImage("end")},0)}),t.on("firstplay",function(){d.disablePauseAd(1e3)})};videojs.plugin("imageAds",s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=void 0,r=document.getElementById(t),i=document.createElement("div"),a=l["default"].elementDimension(r);s["default"].addClass(i,"jedi-marquee");for(var u in e)if(e.hasOwnProperty(u))switch(u){case"direction":var c=String(e[u]).toLowerCase();switch(c){case"east":n=f["default"].moveRight(i,a.width,Math.round(a.height/2),e);break;case"west":n=f["default"].moveLeft(i,a.width,Math.round(a.height/2),e);break;case"south":n=f["default"].moveDown(i,Math.round(a.width/2),a.height,e);break;case"north":n=f["default"].moveUp(i,Math.round(a.width/2),a.height,e);break;case"northwest":n=f["default"].moveUpLeft(i,a.width,a.height,e);break;case"northeast":n=f["default"].moveUpRight(i,a.width,a.height,e);break;case"southwest":n=f["default"].moveDownLeft(i,a.width,a.height,e);break;case"southeast":n=f["default"].moveDownRight(i,a.width,a.height,e);break;default:p.error("Unsupported marquee option: "+u+" => "+e[u])}break;case"image":e[u]&&(i.innerHTML="\n                            <img src='"+e[u]+"'>\n                            ");break;case"text":e[u]&&(i.innerHTML=e[u]);break;case"text_font":i.style.fontFamily=e[u];break;case"text_color":i.style.color=e[u];break;case"text_size":i.style.fontSize=String(e[u])+"px";break;case"duration":case"loop":case"enabled":break;default:p.error("Unsupported marquee option: "+u+" => "+e[u])}return o(document.querySelectorAll(".jedi-marquee")),r.appendChild(i),n}function o(e){if(e&&!(e.length<=0))for(var t=0,n=e.length;t<n;t+=1)if(e[t].remove)e[t].remove();else{var r=e[t].parentNode();r.removeChild(e[t])}}var a=n(3),s=r(a),u=n(0),l=r(u),c=n(1),d=n(12),f=r(d),p=(0,c.getLogger)(),h=function(e,t){var n=this,r=i(e,t);l["default"].on(window,"resize",function(){r&&(clearInterval(r),r=i(e,t))}),n.on("dispose",function(){r&&clearInterval(r)})};videojs.plugin("marquee",h)},function(e,t,n){"use strict";var r=n(3),i=function(e){return e&&e.__esModule?e:{"default":e}}(r),o={duration:3e3},a={"short":800,normal:3e3,"long":15e3,forever:2147483647},s=function(e){var t=this,n=videojs.mergeOptions(o,e),r=i["default"].createElement("div",{"class":"vjs-notify"},t.el_),s={text:"",hideTimer:null,el:i["default"].createElement("div",{"class":"vjs-notify-inner vjs-hidden"},r)};s.setMsg=function(e){s.text=e.text||"",-1!==e.code&&(s.text+="(é”™è¯¯ç :"+e.code+")"),s.el.innerHTML="<p>"+s.text+"</p>"},s.show=function(e){s.hideTimer&&clearTimeout(s.hideTimer),i["default"].removeClass(s.el,"vjs-hidden"),s.hideTimer=setTimeout(function(){s.hide()},e||n.duration)},s.hide=function(){i["default"].addClass(s.el,"vjs-hidden")},t.hideNotification=function(){s.hide()},t.notify=function(e,n){if(e){if("string"==typeof e)return t.notify({code:-1,text:e},n);"string"==typeof n&&(n=/^\d+$/g.test(n)?parseInt(n):a[n]||a.normal),s.setMsg(e),s.show(n)}}};videojs.plugin("notification",s)},function(e,t,n){"use strict";var r={"default":{label:"æ ‡æ¸…",res:2e3},dynamicLabel:!1},i=void 0,o=1,a=function(e){var t="";return 0===e?t="è‡ªåŠ¨":e<7e5?t="æµç•…":e<15e5?t="æ ‡æ¸…":e<3e6?t="é«˜æ¸…":e<1e7?t="è¶…æ¸…":e>=1e7?t="4K":(t="çº¿è·¯"+o,o++),t},s=videojs.getComponent("MenuItem"),u=videojs.extend(s,{constructor:function(e,t,n,r){this.onClickListener=n,this.label=r,s.call(this,e,t),this.on("click",this.onClick),this.on("touchstart",this.onClick),t.initialySelected&&(this.showAsLabel(),this.selected(!0),this.addClass("vjs-selected"))},showAsLabel:function(){this.label&&(this.label.innerHTML=this.options_.label)},onClick:function(){this.onClickListener(this),this.showAsLabel(),this.addClass("vjs-selected"),this.options_.switcher.currentLabel=this.options_.label,this.options_.switcher.setSelectPlaylist(this.options_.levelInfo.bitrate)}}),l=videojs.getComponent("MenuButton"),c=videojs.extend(l,{constructor:function(e,t,n){this.label=n,l.call(this,e,t),this.controlText("æ¸…æ™°åº¦"),this.el().appendChild(n)},createItems:function(){if(this.options_.dynamicLabel||this.options_.levels){var e=[],t={id:"",label:"è‡ªåŠ¨",width:undefined,height:undefined,bitrate:0,enabled_:!0},n=this.options_.dynamicLabel?this.player_.qualityLevels().levels_:this.options_.levels,r=function(t){e.map(function(e){e.selected(e===t),e.removeClass("vjs-selected")})};n.length>1&&e.push(new u(this.player_,videojs.mergeOptions({},this.options_,{levelInfo:t,label:a(t.bitrate),initialySelected:!0}),r,this.label));for(var i=0;i<n.length;i++){var o=n[i],s=videojs.mergeOptions({},this.options_,{levelInfo:o,label:this.options_.dynamicLabel?a(o.bitrate):o.label});e.push(new u(this.player_,s,r,this.label))}return e}}}),d=function(e,t){return(e||[]).filter(function(e){return e.bitrate===t}).map(function(e){return e.info})[0]};i=function(e){var t=this,n=null,i={menu:null,currentLabel:"",setSelectPlaylist:function(e){if(t.tech_&&t.tech_.hls){var r=t.tech_.hls;r.selectPlaylist=function(){if(void 0===e)return n();try{for(var r=t.qualityLevels().levels_,i=r.filter(function(t){if(t.bitrate===e)return!0})[0],o=i.id||i.label,a=this.playlists.master.playlists,s=0;s<a.length;s++)if(o===a[s].uri)return a[s]}catch(u){return n()}}.bind(r)}}},o=videojs.mergeOptions(r,e,{switcher:i});t.ready(function(){t.tech_.hls&&(n=t.tech_.hls.selectPlaylist),t.on("loadedmetadata",function(){var e=document.createElement("span");e.className="vjs-resolution-button-label";var n=new c(t,o,e);videojs.addClass(n.el(),"vjs-resolution-button"),t.controlBar.resolutionSwitcher=t.controlBar.el_.insertBefore(n.el_,t.controlBar.getChild("fullscreenToggle").el_),t.controlBar.resolutionSwitcher.dispose=function(){this.parentNode.removeChild(this)}})}),t.currentResolution=function(){var e={sources:[],label:""},n=t.qualityLevels(),r=n.levels_.map(function(e){return videojs.mergeOptions({},e,{url:e.id},d(o.levels,e.bitrate))})[n.selectedIndex_];return r&&(e.sources=[r],e.label=r.label),e}},videojs.plugin("resolutionSwitcher",i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o),s=n(0),u=r(s),l=function(){function e(){i(this,e)}return e.isVideoDRMEnabled=function(e){return!!a["default"].players_[e].videoOptions.protection},e.getVideoDRMLevel=function(e){return a["default"].players_[e].videoOptions.protection},e.getVideoHub=function(e){return a["default"].players_[e].videoOptions.hub},e.getVideoid=function(e){return a["default"].players_[e].videoOptions.vid},e.getVideoUKey=function(e){return a["default"].players_[e].videoOptions.uKey||""},e.getVideoDRMKey=function(e){var t=a["default"].players_[e];return btoa(String.fromCharCode.apply(null,t.videoOptions.DRMKey||""))},e.isIE=function(){return u["default"].detectIE()&&!0},e.notify=function(e,t,n){return a["default"].players_[e].videoPlayer.notify(t,n)},e}();t["default"]=l,window.Bridge=l},function(e,t,n){"use strict";var r=n(0),i=function(e){return e&&e.__esModule?e:{"default":e}}(r);videojs.plugin("QiniuAds",function(e){var t=this,n=null,r=null,o={debug:!1,stitchedAds:!0,resumePeriod:10,posterPlaceholder:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+ICAgIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSJibGFjayIgLz48L3N2Zz4="},a={},s=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t={},n={url:"clickUrl",position:"position",video_url:"src",video_format:"type"};for(var r in e)t[n[r]||r]=e[r];return t},u=function(e){if(a.inventory&&a.inventory[e+"Ads"]){t.ads.startLinearAdMode(),a.adPlaying=!0,t.controls(!1);var i=a.inventory[e+"Ads"],s=i.clickUrl;"flash"===t.techName_.toLowerCase()&&(i=i.src||i),t.src(i);try{t.tech_.el_.setAttribute("poster",o.posterPlaceholder)}catch(d){}if(s){var u=n.className||"";n.className=u+" vjs-video-ad-clickable",n.onclick=function(){/^http:\/\/|https:\/\/|\/\//g.test(s)?window.open(s):window.open("//"+s)},t.one("adended",function(){n.className=u,n.onclick=function(){}})}t.one("adloadedmetadata",function(){"start"===e?t.tech_.setAutoplay(!0):"end"===e&&t.tech_.setAutoplay(!1)}),t.one("adended",function(){t.ads.endLinearAdMode(),a.adPlaying=!1,t.controls(!0),r.innerHTML="","end"===e&&t.one(["loadstart","contentloadstart"],l)})}},l=function(e){setTimeout(function(){t.posterImage&&t.posterImage.show(),t.bigPlayButton&&t.bigPlayButton.show(),t.addClass("vjs-ended"),t.removeClass("vjs-autoplay")},1)};a.inventory=function(){for(var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t={},n=0;e.inventory&&n<e.inventory.length;n++)t.startAds||"op"!==e.inventory[n].position?t.endAds||"ed"!==e.inventory[n].position||(t.endAds=s(e.inventory[n])):t.startAds=s(e.inventory[n]);var r={hls:"application/x-mpegURL",m3u8:"application/x-mpegURL",mp4:"video/mp4"};for(var o in t)i["default"].isMp4ContentType(t[o].type)||i["default"].isHlsContentType(t[o].type)||(t[o].type=r[t[o].type]);return t}(e),e=videojs.mergeOptions(o,e),delete e.inventory,t.ads(e),function(){var e=document.createElement("div");e.className="vjs-video-ad-wrap",n=document.createElement("div"),n.id="vjs-video-ad-mask_"+t.id_,n.className="vjs-video-ad-mask",e.appendChild(n),r=document.createElement("div"),r.className="vjs-video-ad-note",r.innerHTML="",e.appendChild(r),t.el().appendChild(e)}(),t.trigger("adsready"),t.on("contentended",function(){a.inventory.endAds&&!a.postrollPlayed&&"postroll?"===t.ads.state&&(a.postrollPlayed=!0,t.addClass("vjs-video-ad-end-period"),t.one("adtimeupdate",function(){setTimeout(function(){t.removeClass("vjs-video-ad-end-period")},100)}),u("end"))}),t.on("readyforpreroll",function(){a.prerollPlayed||(a.prerollPlayed=!0,u("start"))}),t.on("adtimeupdate",function(){if(t.currentTime()>0){var e=t.remainingTime(),n=Math.abs(e-Math.floor(e));(n<.1||1-n>.1)&&(r.innerHTML='å¹¿å‘Šå‰©<i class="vjs-video-ad-time-remained">'+Math.round(e<0?0:e)+"</i>ç§’")}}),i["default"].isMobileDevice()&&(t.on("adpause",function(){t.bigPlayButton.show()}),t.on("adplay",function(){t.bigPlayButton.hide()})),t.on("adend",function(){t.ads.snapshot.ended||(t.addClass("vjs-video-ad-end-period"),t.one("timeupdate",function(){setTimeout(function(){t.removeClass("vjs-video-ad-end-period")},100)}))})})},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}}]);